var Hm=Object.defineProperty;var Gm=(t,s,r)=>s in t?Hm(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var Ge=(t,s,r)=>Gm(t,typeof s!="symbol"?s+"":s,r);import{j as e,P as de,c as ui,a as Ft,u as De,B as Wm,b as ct,d as Tr,e as os,f as ne,R as qm,g as mi,h as Xe,i as Km,S as pi,k as Ym,C as fi,l as Zm,T as Jm,O as Rr,m as Ar,n as Vs,o as Ir,D as _r,p as vn,q as bn,r as yn,s as Dr,A as hi,t as xi,v as Xm,w as Qm,F as ep,x as gi,y as vi,z as Mr,E as bi,G as jn,H as yi,I as ji,J as wi,K as tp,L as Ni,M as Si,N as Ci,Q as Ei,U as ki,V as Pi,W as Ti,X as sp,Y as rp,Z as ap,_ as np,$ as op,a0 as ip,a1 as lp,a2 as cp,a3 as dp,a4 as up,a5 as mp,a6 as $r,a7 as Ri,a8 as Ai,a9 as pp,aa as fp,ab as hp,ac as Jt,ad as xp,ae as gp,af as vp,ag as bp,ah as yp,ai as jp,aj as wp,ak as Ii,al as Np,am as Sp}from"./ui-C0ciuV5g.js";import{a as Bt,r as i,b as Hs,R as V,$ as Cp}from"./vendor-Co1hPMDY.js";import{c as Ep}from"./supabase-rOhAvZb5.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var _i,lo=Bt;_i=lo.createRoot,lo.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vr(){return vr=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},vr.apply(this,arguments)}var gt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gt||(gt={}));const co="popstate";function kp(t){t===void 0&&(t={});function s(a,n){let{pathname:o,search:c,hash:l}=a.location;return Da("",{pathname:o,search:c,hash:l},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Mi(n)}return Tp(s,r,null,t)}function ze(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Di(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Pp(){return Math.random().toString(36).substr(2,8)}function uo(t,s){return{usr:t.state,key:t.key,idx:s}}function Da(t,s,r,a){return r===void 0&&(r=null),vr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Or(s):s,{state:r,key:s&&s.key||a||Pp()})}function Mi(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Or(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function Tp(t,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:o=!1}=a,c=n.history,l=gt.Pop,d=null,u=m();u==null&&(u=0,c.replaceState(vr({},c.state,{idx:u}),""));function m(){return(c.state||{idx:null}).idx}function p(){l=gt.Pop;let h=m(),g=h==null?null:h-u;u=h,d&&d({action:l,location:f.location,delta:g})}function x(h,g){l=gt.Push;let b=Da(f.location,h,g);u=m()+1;let w=uo(b,u),N=f.createHref(b);try{c.pushState(w,"",N)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(N)}o&&d&&d({action:l,location:f.location,delta:1})}function y(h,g){l=gt.Replace;let b=Da(f.location,h,g);u=m();let w=uo(b,u),N=f.createHref(b);c.replaceState(w,"",N),o&&d&&d({action:l,location:f.location,delta:0})}function v(h){let g=n.location.origin!=="null"?n.location.origin:n.location.href,b=typeof h=="string"?h:Mi(h);return b=b.replace(/ $/,"%20"),ze(g,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,g)}let f={get action(){return l},get location(){return t(n,c)},listen(h){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(co,p),d=h,()=>{n.removeEventListener(co,p),d=null}},createHref(h){return s(n,h)},createURL:v,encodeLocation(h){let g=v(h);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:x,replace:y,go(h){return c.go(h)}};return f}var mo;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mo||(mo={}));function Rp(t,s,r){return r===void 0&&(r="/"),Ap(t,s,r,!1)}function Ap(t,s,r,a){let n=typeof s=="string"?Or(s):s,o=Li(n.pathname||"/",r);if(o==null)return null;let c=$i(t);Ip(c);let l=null;for(let d=0;l==null&&d<c.length;++d){let u=Vp(o);l=Bp(c[d],u,a)}return l}function $i(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(o,c,l)=>{let d={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(ze(d.relativePath.startsWith(a),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(a.length));let u=es([a,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(ze(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$i(o.children,s,m,u)),!(o.path==null&&!o.index)&&s.push({path:u,score:zp(u,o.index),routesMeta:m})};return t.forEach((o,c)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))n(o,c);else for(let d of Oi(o.path))n(o,c,d)}),s}function Oi(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return n?[o,""]:[o];let c=Oi(a.join("/")),l=[];return l.push(...c.map(d=>d===""?o:[o,d].join("/"))),n&&l.push(...c),l.map(d=>t.startsWith("/")&&d===""?"/":d)}function Ip(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Fp(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const _p=/^:[\w-]+$/,Dp=3,Mp=2,$p=1,Op=10,Lp=-2,po=t=>t==="*";function zp(t,s){let r=t.split("/"),a=r.length;return r.some(po)&&(a+=Lp),s&&(a+=Mp),r.filter(n=>!po(n)).reduce((n,o)=>n+(_p.test(o)?Dp:o===""?$p:Op),a)}function Fp(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function Bp(t,s,r){let{routesMeta:a}=t,n={},o="/",c=[];for(let l=0;l<a.length;++l){let d=a[l],u=l===a.length-1,m=o==="/"?s:s.slice(o.length)||"/",p=fo({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},m),x=d.route;if(!p&&u&&r&&!a[a.length-1].route.index&&(p=fo({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(n,p.params),c.push({params:n,pathname:es([o,p.pathname]),pathnameBase:Hp(es([o,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(o=es([o,p.pathnameBase]))}return c}function fo(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=Up(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let o=n[0],c=o.replace(/(.)\/+$/,"$1"),l=n.slice(1);return{params:a.reduce((u,m,p)=>{let{paramName:x,isOptional:y}=m;if(x==="*"){let f=l[p]||"";c=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}const v=l[p];return y&&!v?u[x]=void 0:u[x]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:c,pattern:t}}function Up(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,l,d)=>(a.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function Vp(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Di(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Li(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}const es=t=>t.join("/").replace(/\/\/+/g,"/"),Hp=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function Gp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zi=["post","put","patch","delete"];new Set(zi);const Wp=["get",...zi];new Set(Wp);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function br(){return br=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},br.apply(this,arguments)}const qp=i.createContext(null),Kp=i.createContext(null),Fi=i.createContext(null),Lr=i.createContext(null),zr=i.createContext({outlet:null,matches:[],isDataRoute:!1}),Bi=i.createContext(null);function wn(){return i.useContext(Lr)!=null}function Ui(){return wn()||ze(!1),i.useContext(Lr).location}function Yp(t,s){return Zp(t,s)}function Zp(t,s,r,a){wn()||ze(!1);let{navigator:n}=i.useContext(Fi),{matches:o}=i.useContext(zr),c=o[o.length-1],l=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let u=Ui(),m;if(s){var p;let h=typeof s=="string"?Or(s):s;d==="/"||(p=h.pathname)!=null&&p.startsWith(d)||ze(!1),m=h}else m=u;let x=m.pathname||"/",y=x;if(d!=="/"){let h=d.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(h.length).join("/")}let v=Rp(t,{pathname:y}),f=tf(v&&v.map(h=>Object.assign({},h,{params:Object.assign({},l,h.params),pathname:es([d,n.encodeLocation?n.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?d:es([d,n.encodeLocation?n.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),o,r,a);return s&&f?i.createElement(Lr.Provider,{value:{location:br({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:gt.Pop}},f):f}function Jp(){let t=nf(),s=Gp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},s),r?i.createElement("pre",{style:n},r):null,null)}const Xp=i.createElement(Jp,null);class Qp extends i.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?i.createElement(zr.Provider,{value:this.props.routeContext},i.createElement(Bi.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ef(t){let{routeContext:s,match:r,children:a}=t,n=i.useContext(qp);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),i.createElement(zr.Provider,{value:s},a)}function tf(t,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=a)!=null&&o.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,l=(n=r)==null?void 0:n.errors;if(l!=null){let m=c.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);m>=0||ze(!1),c=c.slice(0,Math.min(c.length,m+1))}let d=!1,u=-1;if(r&&a&&a.v7_partialHydration)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=m),p.route.id){let{loaderData:x,errors:y}=r,v=p.route.loader&&x[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){d=!0,u>=0?c=c.slice(0,u+1):c=[c[0]];break}}}return c.reduceRight((m,p,x)=>{let y,v=!1,f=null,h=null;r&&(y=l&&p.route.id?l[p.route.id]:void 0,f=p.route.errorElement||Xp,d&&(u<0&&x===0?(v=!0,h=null):u===x&&(v=!0,h=p.route.hydrateFallbackElement||null)));let g=s.concat(c.slice(0,x+1)),b=()=>{let w;return y?w=f:v?w=h:p.route.Component?w=i.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=m,i.createElement(ef,{match:p,routeContext:{outlet:m,matches:g,isDataRoute:r!=null},children:w})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?i.createElement(Qp,{location:r.location,revalidation:r.revalidation,component:f,error:y,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}var Ma=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ma||{});function sf(t){let s=i.useContext(Kp);return s||ze(!1),s}function rf(t){let s=i.useContext(zr);return s||ze(!1),s}function af(t){let s=rf(),r=s.matches[s.matches.length-1];return r.route.id||ze(!1),r.route.id}function nf(){var t;let s=i.useContext(Bi),r=sf(Ma.UseRouteError),a=af(Ma.UseRouteError);return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function st(t){ze(!1)}function of(t){let{basename:s="/",children:r=null,location:a,navigationType:n=gt.Pop,navigator:o,static:c=!1,future:l}=t;wn()&&ze(!1);let d=s.replace(/^\/*/,"/"),u=i.useMemo(()=>({basename:d,navigator:o,static:c,future:br({v7_relativeSplatPath:!1},l)}),[d,l,o,c]);typeof a=="string"&&(a=Or(a));let{pathname:m="/",search:p="",hash:x="",state:y=null,key:v="default"}=a,f=i.useMemo(()=>{let h=Li(m,d);return h==null?null:{location:{pathname:h,search:p,hash:x,state:y,key:v},navigationType:n}},[d,m,p,x,y,v,n]);return f==null?null:i.createElement(Fi.Provider,{value:u},i.createElement(Lr.Provider,{children:r,value:f}))}function lf(t){let{children:s,location:r}=t;return Yp($a(s),r)}new Promise(()=>{});function $a(t,s){s===void 0&&(s=[]);let r=[];return i.Children.forEach(t,(a,n)=>{if(!i.isValidElement(a))return;let o=[...s,n];if(a.type===i.Fragment){r.push.apply(r,$a(a.props.children,o));return}a.type!==st&&ze(!1),!a.props.index||!a.props.children||ze(!1);let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=$a(a.props.children,o)),r.push(c)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cf="6";try{window.__reactRouterVersion=cf}catch{}const df="startTransition",ho=Hs[df];function uf(t){let{basename:s,children:r,future:a,window:n}=t,o=i.useRef();o.current==null&&(o.current=kp({window:n,v5Compat:!0}));let c=o.current,[l,d]=i.useState({action:c.action,location:c.location}),{v7_startTransition:u}=a||{},m=i.useCallback(p=>{u&&ho?ho(()=>d(p)):d(p)},[d,u]);return i.useLayoutEffect(()=>c.listen(m),[c,m]),i.createElement(of,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:c,future:a})}var xo;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xo||(xo={}));var go;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(go||(go={}));const mf=1,pf=1e6;let ha=0;function ff(){return ha=(ha+1)%Number.MAX_SAFE_INTEGER,ha.toString()}const xa=new Map,vo=t=>{if(xa.has(t))return;const s=setTimeout(()=>{xa.delete(t),Es({type:"REMOVE_TOAST",toastId:t})},pf);xa.set(t,s)},hf=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,mf)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=s;return r?vo(r):t.toasts.forEach(a=>{vo(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)}}},dr=[];let ur={toasts:[]};function Es(t){ur=hf(ur,t),dr.forEach(s=>{s(ur)})}function xf({...t}){const s=ff(),r=n=>Es({type:"UPDATE_TOAST",toast:{...n,id:s}}),a=()=>Es({type:"DISMISS_TOAST",toastId:s});return Es({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||a()}}}),{id:s,dismiss:a,update:r}}function ge(){const[t,s]=i.useState(ur);return i.useEffect(()=>(dr.push(s),()=>{const r=dr.indexOf(s);r>-1&&dr.splice(r,1)}),[t]),{...t,toast:xf,dismiss:r=>Es({type:"DISMISS_TOAST",toastId:r})}}var gf="VisuallyHidden",Fr=i.forwardRef((t,s)=>e.jsx(de.span,{...t,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Fr.displayName=gf;var Nn="ToastProvider",[Sn,vf,bf]=ui("Toast"),[Vi,fw]=Ft("Toast",[bf]),[yf,Br]=Vi(Nn),Hi=t=>{const{__scopeToast:s,label:r="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:c}=t,[l,d]=i.useState(null),[u,m]=i.useState(0),p=i.useRef(!1),x=i.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Nn}\`. Expected non-empty \`string\`.`),e.jsx(Sn.Provider,{scope:s,children:e.jsx(yf,{scope:s,label:r,duration:a,swipeDirection:n,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:i.useCallback(()=>m(y=>y+1),[]),onToastRemove:i.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:c})})};Hi.displayName=Nn;var Gi="ToastViewport",jf=["F8"],Oa="toast.viewportPause",La="toast.viewportResume",Wi=i.forwardRef((t,s)=>{const{__scopeToast:r,hotkey:a=jf,label:n="Notifications ({hotkey})",...o}=t,c=Br(Gi,r),l=vf(r),d=i.useRef(null),u=i.useRef(null),m=i.useRef(null),p=i.useRef(null),x=De(s,p,c.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=c.toastCount>0;i.useEffect(()=>{const h=g=>{var w;a.length!==0&&a.every(N=>g[N]||g.code===N)&&((w=p.current)==null||w.focus())};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[a]),i.useEffect(()=>{const h=d.current,g=p.current;if(v&&h&&g){const b=()=>{if(!c.isClosePausedRef.current){const C=new CustomEvent(Oa);g.dispatchEvent(C),c.isClosePausedRef.current=!0}},w=()=>{if(c.isClosePausedRef.current){const C=new CustomEvent(La);g.dispatchEvent(C),c.isClosePausedRef.current=!1}},N=C=>{!h.contains(C.relatedTarget)&&w()},T=()=>{h.contains(document.activeElement)||w()};return h.addEventListener("focusin",b),h.addEventListener("focusout",N),h.addEventListener("pointermove",b),h.addEventListener("pointerleave",T),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{h.removeEventListener("focusin",b),h.removeEventListener("focusout",N),h.removeEventListener("pointermove",b),h.removeEventListener("pointerleave",T),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[v,c.isClosePausedRef]);const f=i.useCallback(({tabbingDirection:h})=>{const b=l().map(w=>{const N=w.ref.current,T=[N,...Df(N)];return h==="forwards"?T:T.reverse()});return(h==="forwards"?b.reverse():b).flat()},[l]);return i.useEffect(()=>{const h=p.current;if(h){const g=b=>{var T,C,j;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const E=document.activeElement,A=b.shiftKey;if(b.target===h&&A){(T=u.current)==null||T.focus();return}const P=f({tabbingDirection:A?"backwards":"forwards"}),I=P.findIndex(_=>_===E);ga(P.slice(I+1))?b.preventDefault():A?(C=u.current)==null||C.focus():(j=m.current)==null||j.focus()}};return h.addEventListener("keydown",g),()=>h.removeEventListener("keydown",g)}},[l,f]),e.jsxs(Wm,{ref:d,role:"region","aria-label":n.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&e.jsx(za,{ref:u,onFocusFromOutsideViewport:()=>{const h=f({tabbingDirection:"forwards"});ga(h)}}),e.jsx(Sn.Slot,{scope:r,children:e.jsx(de.ol,{tabIndex:-1,...o,ref:x})}),v&&e.jsx(za,{ref:m,onFocusFromOutsideViewport:()=>{const h=f({tabbingDirection:"backwards"});ga(h)}})]})});Wi.displayName=Gi;var qi="ToastFocusProxy",za=i.forwardRef((t,s)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...n}=t,o=Br(qi,r);return e.jsx(Fr,{"aria-hidden":!0,tabIndex:0,...n,ref:s,style:{position:"fixed"},onFocus:c=>{var u;const l=c.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&a()}})});za.displayName=qi;var Ur="Toast",wf="toast.swipeStart",Nf="toast.swipeMove",Sf="toast.swipeCancel",Cf="toast.swipeEnd",Ki=i.forwardRef((t,s)=>{const{forceMount:r,open:a,defaultOpen:n,onOpenChange:o,...c}=t,[l=!0,d]=ct({prop:a,defaultProp:n,onChange:o});return e.jsx(Tr,{present:r||l,children:e.jsx(Pf,{open:l,...c,ref:s,onClose:()=>d(!1),onPause:os(t.onPause),onResume:os(t.onResume),onSwipeStart:ne(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(t.onSwipeMove,u=>{const{x:m,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ne(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(t.onSwipeEnd,u=>{const{x:m,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});Ki.displayName=Ur;var[Ef,kf]=Vi(Ur,{onClose(){}}),Pf=i.forwardRef((t,s)=>{const{__scopeToast:r,type:a="foreground",duration:n,open:o,onClose:c,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:y,...v}=t,f=Br(Ur,r),[h,g]=i.useState(null),b=De(s,_=>g(_)),w=i.useRef(null),N=i.useRef(null),T=n||f.duration,C=i.useRef(0),j=i.useRef(T),E=i.useRef(0),{onToastAdd:A,onToastRemove:M}=f,S=os(()=>{var k;(h==null?void 0:h.contains(document.activeElement))&&((k=f.viewport)==null||k.focus()),c()}),P=i.useCallback(_=>{!_||_===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(S,_))},[S]);i.useEffect(()=>{const _=f.viewport;if(_){const k=()=>{P(j.current),u==null||u()},$=()=>{const O=new Date().getTime()-C.current;j.current=j.current-O,window.clearTimeout(E.current),d==null||d()};return _.addEventListener(Oa,$),_.addEventListener(La,k),()=>{_.removeEventListener(Oa,$),_.removeEventListener(La,k)}}},[f.viewport,T,d,u,P]),i.useEffect(()=>{o&&!f.isClosePausedRef.current&&P(T)},[o,T,f.isClosePausedRef,P]),i.useEffect(()=>(A(),()=>M()),[A,M]);const I=i.useMemo(()=>h?tl(h):null,[h]);return f.viewport?e.jsxs(e.Fragment,{children:[I&&e.jsx(Tf,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),e.jsx(Ef,{scope:r,onClose:S,children:Bt.createPortal(e.jsx(Sn.ItemSlot,{scope:r,children:e.jsx(qm,{asChild:!0,onEscapeKeyDown:ne(l,()=>{f.isFocusedToastEscapeKeyDownRef.current||S(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":f.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ne(t.onKeyDown,_=>{_.key==="Escape"&&(l==null||l(_.nativeEvent),_.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:ne(t.onPointerDown,_=>{_.button===0&&(w.current={x:_.clientX,y:_.clientY})}),onPointerMove:ne(t.onPointerMove,_=>{if(!w.current)return;const k=_.clientX-w.current.x,$=_.clientY-w.current.y,O=!!N.current,z=["left","right"].includes(f.swipeDirection),J=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,H=z?J(0,k):0,B=z?0:J(0,$),D=_.pointerType==="touch"?10:2,U={x:H,y:B},Y={originalEvent:_,delta:U};O?(N.current=U,er(Nf,p,Y,{discrete:!1})):bo(U,f.swipeDirection,D)?(N.current=U,er(wf,m,Y,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(k)>D||Math.abs($)>D)&&(w.current=null)}),onPointerUp:ne(t.onPointerUp,_=>{const k=N.current,$=_.target;if($.hasPointerCapture(_.pointerId)&&$.releasePointerCapture(_.pointerId),N.current=null,w.current=null,k){const O=_.currentTarget,z={originalEvent:_,delta:k};bo(k,f.swipeDirection,f.swipeThreshold)?er(Cf,y,z,{discrete:!0}):er(Sf,x,z,{discrete:!0}),O.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),Tf=t=>{const{__scopeToast:s,children:r,...a}=t,n=Br(Ur,s),[o,c]=i.useState(!1),[l,d]=i.useState(!1);return If(()=>c(!0)),i.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:e.jsx(mi,{asChild:!0,children:e.jsx(Fr,{...a,children:o&&e.jsxs(e.Fragment,{children:[n.label," ",r]})})})},Rf="ToastTitle",Yi=i.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t;return e.jsx(de.div,{...a,ref:s})});Yi.displayName=Rf;var Af="ToastDescription",Zi=i.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t;return e.jsx(de.div,{...a,ref:s})});Zi.displayName=Af;var Ji="ToastAction",Xi=i.forwardRef((t,s)=>{const{altText:r,...a}=t;return r.trim()?e.jsx(el,{altText:r,asChild:!0,children:e.jsx(Cn,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ji}\`. Expected non-empty \`string\`.`),null)});Xi.displayName=Ji;var Qi="ToastClose",Cn=i.forwardRef((t,s)=>{const{__scopeToast:r,...a}=t,n=kf(Qi,r);return e.jsx(el,{asChild:!0,children:e.jsx(de.button,{type:"button",...a,ref:s,onClick:ne(t.onClick,n.onClose)})})});Cn.displayName=Qi;var el=i.forwardRef((t,s)=>{const{__scopeToast:r,altText:a,...n}=t;return e.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:s})});function tl(t){const s=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),_f(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",o=a.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const c=a.dataset.radixToastAnnounceAlt;c&&s.push(c)}else s.push(...tl(a))}}),s}function er(t,s,r,{discrete:a}){const n=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});s&&n.addEventListener(t,s,{once:!0}),a?Km(n,o):n.dispatchEvent(o)}var bo=(t,s,r=0)=>{const a=Math.abs(t.x),n=Math.abs(t.y),o=a>n;return s==="left"||s==="right"?o&&a>r:!o&&n>r};function If(t=()=>{}){const s=os(t);Xe(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[s])}function _f(t){return t.nodeType===t.ELEMENT_NODE}function Df(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function ga(t){const s=document.activeElement;return t.some(r=>r===s?!0:(r.focus(),document.activeElement!==s))}var Mf=Hi,sl=Wi,rl=Ki,al=Yi,nl=Zi,ol=Xi,il=Cn;function ll(t){var s,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(r=ll(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function cl(){for(var t,s,r=0,a="",n=arguments.length;r<n;r++)(t=arguments[r])&&(s=ll(t))&&(a&&(a+=" "),a+=s);return a}const yo=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jo=cl,Gs=(t,s)=>r=>{var a;if((s==null?void 0:s.variants)==null)return jo(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:o}=s,c=Object.keys(n).map(u=>{const m=r==null?void 0:r[u],p=o==null?void 0:o[u];if(m===null)return null;const x=yo(m)||yo(p);return n[u][x]}),l=r&&Object.entries(r).reduce((u,m)=>{let[p,x]=m;return x===void 0||(u[p]=x),u},{}),d=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((u,m)=>{let{class:p,className:x,...y}=m;return Object.entries(y).every(v=>{let[f,h]=v;return Array.isArray(h)?h.includes({...o,...l}[f]):{...o,...l}[f]===h})?[...u,p,x]:u},[]);return jo(t,c,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dl=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Of={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=i.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:c,...l},d)=>i.createElement("svg",{ref:d,...Of,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:dl("lucide",n),...l},[...c.map(([u,m])=>i.createElement(u,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(t,s)=>{const r=i.forwardRef(({className:a,...n},o)=>i.createElement(Lf,{ref:o,iconNode:s,className:dl(`lucide-${$f(t)}`,a),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Q("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Q("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=Q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Q("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=Q("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Q("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Q("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Q("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Q("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Q("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Q("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Q("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Q("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Q("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=Q("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=Q("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=Q("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Q("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Q("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Q("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Q("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),An="-",mh=t=>{const s=fh(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:c=>{const l=c.split(An);return l[0]===""&&l.length!==1&&l.shift(),bl(l,s)||ph(c)},getConflictingClassGroupIds:(c,l)=>{const d=r[c]||[];return l&&a[c]?[...d,...a[c]]:d}}},bl=(t,s)=>{var c;if(t.length===0)return s.classGroupId;const r=t[0],a=s.nextPart.get(r),n=a?bl(t.slice(1),a):void 0;if(n)return n;if(s.validators.length===0)return;const o=t.join(An);return(c=s.validators.find(({validator:l})=>l(o)))==null?void 0:c.classGroupId},So=/^\[(.+)\]$/,ph=t=>{if(So.test(t)){const s=So.exec(t)[1],r=s==null?void 0:s.substring(0,s.indexOf(":"));if(r)return"arbitrary.."+r}},fh=t=>{const{theme:s,prefix:r}=t,a={nextPart:new Map,validators:[]};return xh(Object.entries(t.classGroups),r).forEach(([o,c])=>{Ba(c,a,o,s)}),a},Ba=(t,s,r,a)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?s:Co(s,n);o.classGroupId=r;return}if(typeof n=="function"){if(hh(n)){Ba(n(a),s,r,a);return}s.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,c])=>{Ba(c,Co(s,o),r,a)})})},Co=(t,s)=>{let r=t;return s.split(An).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},hh=t=>t.isThemeGetter,xh=(t,s)=>s?t.map(([r,a])=>{const n=a.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,l])=>[s+c,l])):o);return[r,n]}):t,gh=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=new Map,a=new Map;const n=(o,c)=>{r.set(o,c),s++,s>t&&(s=0,a=r,r=new Map)};return{get(o){let c=r.get(o);if(c!==void 0)return c;if((c=a.get(o))!==void 0)return n(o,c),c},set(o,c){r.has(o)?r.set(o,c):n(o,c)}}},yl="!",vh=t=>{const{separator:s,experimentalParseClassName:r}=t,a=s.length===1,n=s[0],o=s.length,c=l=>{const d=[];let u=0,m=0,p;for(let h=0;h<l.length;h++){let g=l[h];if(u===0){if(g===n&&(a||l.slice(h,h+o)===s)){d.push(l.slice(m,h)),m=h+o;continue}if(g==="/"){p=h;continue}}g==="["?u++:g==="]"&&u--}const x=d.length===0?l:l.substring(m),y=x.startsWith(yl),v=y?x.substring(1):x,f=p&&p>m?p-m:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:f}};return r?l=>r({className:l,parseClassName:c}):c},bh=t=>{if(t.length<=1)return t;const s=[];let r=[];return t.forEach(a=>{a[0]==="["?(s.push(...r.sort(),a),r=[]):r.push(a)}),s.push(...r.sort()),s},yh=t=>({cache:gh(t.cacheSize),parseClassName:vh(t),...mh(t)}),jh=/\s+/,wh=(t,s)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=s,o=[],c=t.trim().split(jh);let l="";for(let d=c.length-1;d>=0;d-=1){const u=c[d],{modifiers:m,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}=r(u);let v=!!y,f=a(v?x.substring(0,y):x);if(!f){if(!v){l=u+(l.length>0?" "+l:l);continue}if(f=a(x),!f){l=u+(l.length>0?" "+l:l);continue}v=!1}const h=bh(m).join(":"),g=p?h+yl:h,b=g+f;if(o.includes(b))continue;o.push(b);const w=n(f,v);for(let N=0;N<w.length;++N){const T=w[N];o.push(g+T)}l=u+(l.length>0?" "+l:l)}return l};function Nh(){let t=0,s,r,a="";for(;t<arguments.length;)(s=arguments[t++])&&(r=jl(s))&&(a&&(a+=" "),a+=r);return a}const jl=t=>{if(typeof t=="string")return t;let s,r="";for(let a=0;a<t.length;a++)t[a]&&(s=jl(t[a]))&&(r&&(r+=" "),r+=s);return r};function Sh(t,...s){let r,a,n,o=c;function c(d){const u=s.reduce((m,p)=>p(m),t());return r=yh(u),a=r.cache.get,n=r.cache.set,o=l,l(d)}function l(d){const u=a(d);if(u)return u;const m=wh(d,r);return n(d,m),m}return function(){return o(Nh.apply(null,arguments))}}const xe=t=>{const s=r=>r[t]||[];return s.isThemeGetter=!0,s},wl=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ch=/^\d+\/\d+$/,Eh=new Set(["px","full","screen"]),kh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ph=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Th=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Rh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ah=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ot=t=>ts(t)||Eh.has(t)||Ch.test(t),ft=t=>ds(t,"length",zh),ts=t=>!!t&&!Number.isNaN(Number(t)),va=t=>ds(t,"number",ts),vs=t=>!!t&&Number.isInteger(Number(t)),Ih=t=>t.endsWith("%")&&ts(t.slice(0,-1)),oe=t=>wl.test(t),ht=t=>kh.test(t),_h=new Set(["length","size","percentage"]),Dh=t=>ds(t,_h,Nl),Mh=t=>ds(t,"position",Nl),$h=new Set(["image","url"]),Oh=t=>ds(t,$h,Bh),Lh=t=>ds(t,"",Fh),bs=()=>!0,ds=(t,s,r)=>{const a=wl.exec(t);return a?a[1]?typeof s=="string"?a[1]===s:s.has(a[1]):r(a[2]):!1},zh=t=>Ph.test(t)&&!Th.test(t),Nl=()=>!1,Fh=t=>Rh.test(t),Bh=t=>Ah.test(t),Uh=()=>{const t=xe("colors"),s=xe("spacing"),r=xe("blur"),a=xe("brightness"),n=xe("borderColor"),o=xe("borderRadius"),c=xe("borderSpacing"),l=xe("borderWidth"),d=xe("contrast"),u=xe("grayscale"),m=xe("hueRotate"),p=xe("invert"),x=xe("gap"),y=xe("gradientColorStops"),v=xe("gradientColorStopPositions"),f=xe("inset"),h=xe("margin"),g=xe("opacity"),b=xe("padding"),w=xe("saturate"),N=xe("scale"),T=xe("sepia"),C=xe("skew"),j=xe("space"),E=xe("translate"),A=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto",oe,s],P=()=>[oe,s],I=()=>["",ot,ft],_=()=>["auto",ts,oe],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",oe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ts,oe];return{cacheSize:500,separator:":",theme:{colors:[bs],spacing:[ot,ft],blur:["none","",ht,oe],brightness:B(),borderColor:[t],borderRadius:["none","","full",ht,oe],borderSpacing:P(),borderWidth:I(),contrast:B(),grayscale:J(),hueRotate:B(),invert:J(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[Ih,ft],inset:S(),margin:S(),opacity:B(),padding:P(),saturate:B(),scale:B(),sepia:J(),skew:B(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[ht]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),oe]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vs,oe]}],basis:[{basis:S()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",vs,oe]}],"grid-cols":[{"grid-cols":[bs]}],"col-start-end":[{col:["auto",{span:["full",vs,oe]},oe]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[bs]}],"row-start-end":[{row:["auto",{span:[vs,oe]},oe]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,s]}],"min-w":[{"min-w":[oe,s,"min","max","fit"]}],"max-w":[{"max-w":[oe,s,"none","full","min","max","fit","prose",{screen:[ht]},ht]}],h:[{h:[oe,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,s,"auto","min","max","fit"]}],"font-size":[{text:["base",ht,ft]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",va]}],"font-family":[{font:[bs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",ts,va]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ot,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ot,ft]}],"underline-offset":[{"underline-offset":["auto",ot,oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),Mh]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Dh]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Oh]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:$()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[ot,oe]}],"outline-w":[{outline:[ot,ft]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ot,ft]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ht,Lh]}],"shadow-color":[{shadow:[bs]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ht,oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[vs,oe]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ot,ft,va]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Vh=Sh(Uh);function K(...t){return Vh(cl(t))}const Hh=Mf,Sl=i.forwardRef(({className:t,...s},r)=>e.jsx(sl,{ref:r,className:K("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Sl.displayName=sl.displayName;const Gh=Gs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Cl=i.forwardRef(({className:t,variant:s,...r},a)=>e.jsx(rl,{ref:a,className:K(Gh({variant:s}),t),...r}));Cl.displayName=rl.displayName;const Wh=i.forwardRef(({className:t,...s},r)=>e.jsx(ol,{ref:r,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));Wh.displayName=ol.displayName;const El=i.forwardRef(({className:t,...s},r)=>e.jsx(il,{ref:r,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Ee,{className:"h-4 w-4"})}));El.displayName=il.displayName;const kl=i.forwardRef(({className:t,...s},r)=>e.jsx(al,{ref:r,className:K("text-sm font-semibold",t),...s}));kl.displayName=al.displayName;const Pl=i.forwardRef(({className:t,...s},r)=>e.jsx(nl,{ref:r,className:K("text-sm opacity-90",t),...s}));Pl.displayName=nl.displayName;function qh(){const{toasts:t}=ge();return e.jsxs(Hh,{children:[t.map(function({id:s,title:r,description:a,action:n,...o}){return e.jsxs(Cl,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[r&&e.jsx(kl,{children:r}),a&&e.jsx(Pl,{children:a})]}),n,e.jsx(El,{})]},s)}),e.jsx(Sl,{})]})}const Kh=i.createContext(void 0),Yh=({children:t})=>{const[s,r]=i.useState(()=>localStorage.getItem("theme")||"light");i.useEffect(()=>{localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark")},[s]);const a=()=>{r(n=>n==="light"?"dark":"light")};return e.jsx(Kh.Provider,{value:{theme:s,toggleTheme:a},children:t})},Zh="https://kmrdwsgsvfwjdnhrwaxr.supabase.co",Jh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImttcmR3c2dzdmZ3amRuaHJ3YXhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk1ODYxMTYsImV4cCI6MjA2NTE2MjExNn0.AJteA0C_IApTHyTLwUX7IgD6jf9ARgXF5De-kmYXtZM",ie=Ep(Zh,Jh),Tl=i.createContext(void 0),Xh=({children:t})=>{const[s,r]=i.useState(null),[a,n]=i.useState(null),[o,c]=i.useState(!0),[l,d]=i.useState(!1),[u,m]=i.useState(void 0);i.useEffect(()=>{ie.auth.getSession().then(({data:{session:h}})=>{h&&(n(h.user),r({uid:h.user.id,email:h.user.email})),c(!1)});const{data:{subscription:f}}=ie.auth.onAuthStateChange((h,g)=>{n((g==null?void 0:g.user)??null),r(g!=null&&g.user?{uid:g.user.id,email:g.user.email}:null),g!=null&&g.user&&l&&(d(!1),u&&localStorage&&(localStorage.setItem("activeSection",u),window.location.reload()))});return()=>{f.unsubscribe()}},[l,u]);const v={user:s,supabaseUser:a,loading:o,isAuthModalOpen:l,openAuthModal:f=>{f&&m(f),d(!0)},closeAuthModal:()=>{d(!1),m(void 0)},logout:async()=>{await ie.auth.signOut(),r(null),n(null)}};return e.jsx(Tl.Provider,{value:v,children:t})},Rl=()=>{const t=i.useContext(Tl);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t},Ns=[{code:"pt-BR",name:"Portuguese (Brazil)",nativeName:"Portugus (Brasil)",flag:"",description:"Idioma principal do Brasil"},{code:"en",name:"English",nativeName:"English",flag:"",description:"Global language"},{code:"es",name:"Spanish",nativeName:"Espaol",flag:"",description:"Idioma espanhol"}],Qh={"pt-BR":{discover:"Descobrir",consulting:"Consultoria",closet:"Closet",profile:"Perfil",save:"Salvar",cancel:"Cancelar",close:"Fechar",edit:"Editar",delete:"Excluir",search:"Buscar",filter:"Filtrar",edit_profile:"Editar Perfil",profile_description:"Veja seus dados e altere sua foto de perfil.",name:"Nome",email:"E-mail",language:"Idioma",language_description:"Escolha o idioma de sua preferncia",save_photo:"Salvar foto",saving:"Salvando...",photo_updated:"Foto atualizada!",photo_updated_description:"Sua foto de perfil foi salva com sucesso.",update_error:"Erro ao atualizar",update_error_description:"No foi possvel salvar sua foto.",language_updated:"Idioma atualizado!",language_updated_description:"O idioma foi alterado com sucesso.",discover_palette:"Descobrir Minha Paleta",palette_analysis:"Anlise de Paleta de Cores",palette_description:"Envie uma foto sua com boa iluminao natural para descobrir as cores que mais valorizam sua beleza",send_feedback:"Enviar Feedback",feedback_title:"Envie seu Feedback",feedback_description:"Ajude-nos a melhorar o Pozzy",trends:"Tendncias",trends_title:"Tendncias do Momento",trends_description:"Clique em uma tendncia para descobrir produtos incrveis que esto em alta agora!",global_technology:"Tecnologia Global",brazilian_heart:"Corao Brasileiro",used_worldwide:"Usado por milhares de pessoas no mundo",adapted_brazil:"Adaptado para o estilo brasileiro",thousands_users:"Milhares de Usurios",thousands_users_desc:"Pessoas de todo o mundo j descobriram suas cores ideais",advanced_technology:"Tecnologia Avanada",advanced_technology_desc:"IA de ltima gerao para anlise de paleta de cores",brazilian_style:"Estilo Brasileiro",brazilian_style_desc:"Adaptado para o clima e cultura brasileira",available_languages:"Disponvel em Portugus, Ingls e Espanhol"},en:{discover:"Discover",consulting:"Consulting",closet:"Closet",profile:"Profile",save:"Save",cancel:"Cancel",close:"Close",edit:"Edit",delete:"Delete",search:"Search",filter:"Filter",edit_profile:"Edit Profile",profile_description:"View your data and change your profile photo.",name:"Name",email:"Email",language:"Language",language_description:"Choose your preferred language",save_photo:"Save photo",saving:"Saving...",photo_updated:"Photo updated!",photo_updated_description:"Your profile photo has been saved successfully.",update_error:"Update error",update_error_description:"Could not save your photo.",language_updated:"Language updated!",language_updated_description:"Language has been changed successfully.",discover_palette:"Discover My Palette",palette_analysis:"Color Palette Analysis",palette_description:"Send a photo of yourself with good natural lighting to discover the colors that best enhance your beauty",send_feedback:"Send Feedback",feedback_title:"Send your Feedback",feedback_description:"Help us improve Pozzy",trends:"Trends",trends_title:"Current Trends",trends_description:"Click on a trend to discover amazing products that are trending now!",global_technology:"Global Technology",brazilian_heart:"Brazilian Heart",used_worldwide:"Used by thousands of people worldwide",adapted_brazil:"Adapted for Brazilian style",thousands_users:"Thousands of Users",thousands_users_desc:"People from around the world have discovered their ideal colors",advanced_technology:"Advanced Technology",advanced_technology_desc:"Latest generation AI for color palette analysis",brazilian_style:"Brazilian Style",brazilian_style_desc:"Adapted for Brazilian climate and culture",available_languages:"Available in Portuguese, English and Spanish"},es:{discover:"Descubrir",consulting:"Consultora",closet:"Armario",profile:"Perfil",save:"Guardar",cancel:"Cancelar",close:"Cerrar",edit:"Editar",delete:"Eliminar",search:"Buscar",filter:"Filtrar",edit_profile:"Editar Perfil",profile_description:"Ve tus datos y cambia tu foto de perfil.",name:"Nombre",email:"Correo",language:"Idioma",language_description:"Elige tu idioma preferido",save_photo:"Guardar foto",saving:"Guardando...",photo_updated:"Foto actualizada!",photo_updated_description:"Tu foto de perfil ha sido guardada exitosamente.",update_error:"Error al actualizar",update_error_description:"No se pudo guardar tu foto.",language_updated:"Idioma actualizado!",language_updated_description:"El idioma ha sido cambiado exitosamente.",discover_palette:"Descubrir Mi Paleta",palette_analysis:"Anlisis de Paleta de Colores",palette_description:"Enva una foto tuya con buena iluminacin natural para descubrir los colores que mejor realzan tu belleza",send_feedback:"Enviar Comentarios",feedback_title:"Enva tus Comentarios",feedback_description:"Aydanos a mejorar Pozzy",trends:"Tendencias",trends_title:"Tendencias Actuales",trends_description:"Haz clic en una tendencia para descubrir productos increbles que estn de moda ahora!",global_technology:"Tecnologa Global",brazilian_heart:"Corazn Brasileo",used_worldwide:"Usado por miles de personas en todo el mundo",adapted_brazil:"Adaptado para el estilo brasileo",thousands_users:"Miles de Usuarios",thousands_users_desc:"Personas de todo el mundo han descubierto sus colores ideales",advanced_technology:"Tecnologa Avanzada",advanced_technology_desc:"IA de ltima generacin para anlisis de paleta de colores",brazilian_style:"Estilo Brasileo",brazilian_style_desc:"Adaptado para el clima y cultura brasilea",available_languages:"Disponible en Portugus, Ingls y Espaol"}},Al=()=>{const[t,s]=i.useState("pt-BR"),[r,a]=i.useState(!0);return i.useEffect(()=>{const l=localStorage.getItem("pozzy-language");if(l&&Ns.some(d=>d.code===l))s(l);else{const d=navigator.language.split("-")[0];s(d==="en"?"en":d==="es"?"es":"pt-BR")}a(!1)},[]),{currentLanguage:t,changeLanguage:l=>{s(l),localStorage.setItem("pozzy-language",l)},t:l=>Qh[t][l]||l,getCurrentLanguage:()=>Ns.find(l=>l.code===t)||Ns[0],LANGUAGES:Ns,isLoading:r}},ex=i.createContext(void 0),tx=({children:t})=>{const s=Al();return e.jsx(ex.Provider,{value:s,children:t})},ba=768;function In(){const[t,s]=i.useState(void 0);return i.useEffect(()=>{const r=window.matchMedia(`(max-width: ${ba-1}px)`),a=()=>{s(window.innerWidth<ba)};return r.addEventListener("change",a),s(window.innerWidth<ba),()=>r.removeEventListener("change",a)},[]),!!t}let Kt;const sx=()=>{const[t,s]=i.useState(!1),[r,a]=i.useState(!navigator.onLine),[n,o]=i.useState(!1);return ge(),i.useEffect(()=>{const d=x=>{x.preventDefault(),Kt=x,s(!0),console.log("PWA: Evento beforeinstallprompt disparado.")},u=()=>{Kt=null,s(!1),console.log("PWA: Aplicativo instalado com sucesso.")},m=()=>{a(!1),console.log("PWA: Aplicativo est online.")},p=()=>{a(!0),console.log("PWA: Aplicativo est offline.")};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",u),window.addEventListener("online",m),window.addEventListener("offline",p),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(x=>{console.log("PWA: Service Worker registrado com sucesso:",x)}).catch(x=>{console.error("PWA: Falha ao registrar Service Worker:",x)})}),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",u),window.removeEventListener("online",m),window.removeEventListener("offline",p)}},[]),{isInstallable:t,isOffline:r,triggerInstallPrompt:()=>{if(!Kt){alert("O app no pode ser instalado agora. Interaja um pouco mais com o site ou tente recarregar a pgina."),console.log("PWA: Tentativa de instalar, mas o prompt no est disponvel.");return}Kt.prompt(),Kt.userChoice.then(d=>{d.outcome==="accepted"?console.log("PWA: Usurio aceitou a instalao."):(console.log("PWA: Usurio recusou a instalao."),localStorage.setItem("pwa_install_rejected","true"),localStorage.setItem("pwa_rejection_timestamp",Date.now().toString())),Kt=null,s(!1),o(!1)})},hasBeenRejected:(()=>{const d=localStorage.getItem("pwa_install_rejected"),u=localStorage.getItem("pwa_rejection_timestamp");return d&&u?Date.now()-parseInt(u,10)>6048e5?(localStorage.removeItem("pwa_install_rejected"),localStorage.removeItem("pwa_rejection_timestamp"),!1):!0:!1})(),forceShow:n,setForceShow:o}},_n=Gs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded px-3",lg:"h-11 rounded px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),R=i.forwardRef(({className:t,variant:s,size:r,asChild:a=!1,...n},o)=>{const c=a?pi:"button";return e.jsx(c,{className:K(_n({variant:s,size:r,className:t})),ref:o,...n})});R.displayName="Button";function rx(){return{getNotifications:async n=>{const{data:o,error:c}=await ie.from("notifications").select("*").eq("user_id",n).order("created_at",{ascending:!1});return c?(console.error("[getNotifications] erro:",c),[]):o??[]},markAsRead:async n=>{const{error:o}=await ie.from("notifications").update({read:!0}).eq("id",n);return o?(console.error("[markAsRead] erro:",o),!1):!0},removeNotification:async n=>{const{error:o}=await ie.from("notifications").delete().eq("id",n);return o?(console.error("[removeNotification] erro:",o),!1):!0},addNotification:async({userId:n,type:o,title:c,message:l,productId:d})=>{const{error:u}=await ie.from("notifications").insert([{user_id:n,type:o,title:c,message:l,product_id:d}]);return u?(console.error("[addNotification] erro:",u),!1):!0}}}const qr=Zm,Kr=Jm,Ws=i.forwardRef(({className:t,align:s="center",sideOffset:r=4,...a},n)=>e.jsx(Ym,{children:e.jsx(fi,{ref:n,align:s,sideOffset:r,className:K("z-[9999] w-72 rounded-md border bg-white p-4 text-popover-foreground shadow-lg outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Ws.displayName=fi.displayName;const Il=({userId:t})=>{const[s,r]=i.useState([]),[a,n]=i.useState(!1);ge();const{getNotifications:o,markAsRead:c,removeNotification:l}=rx(),[d,u]=i.useState(!1);i.useState(()=>localStorage.getItem("pozzy-push-enabled")==="true"),i.useEffect(()=>{t&&(u(!0),o(t).then(r).finally(()=>u(!1)))},[t,a]),i.useEffect(()=>{s.length>0&&localStorage.setItem("pozzy-notifications",JSON.stringify(s))},[s]),i.useEffect(()=>{const p=localStorage.getItem("pozzy-notifications");if(p)try{r(JSON.parse(p))}catch{}},[]);const m=s.filter(p=>!p.read).length;return e.jsxs(qr,{children:[e.jsx(Kr,{asChild:!0,children:e.jsxs(R,{variant:"ghost",size:"icon",className:"relative rounded-full",children:[e.jsx(Hr,{className:"h-6 w-6"}),m>0&&e.jsx("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]})}),e.jsxs(Ws,{align:"end",className:"w-80 p-4",children:[e.jsx("h4",{className:"font-medium text-center",children:"Notificaes"}),e.jsx("p",{className:"text-sm text-center text-gray-500 mt-2",children:"Ajuste ou configure as opes de notificao no menu do seu perfil."})]})]})};var Dn="Avatar",[ax,hw]=Ft(Dn),[nx,_l]=ax(Dn),Dl=i.forwardRef((t,s)=>{const{__scopeAvatar:r,...a}=t,[n,o]=i.useState("idle");return e.jsx(nx,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:e.jsx(de.span,{...a,ref:s})})});Dl.displayName=Dn;var Ml="AvatarImage",$l=i.forwardRef((t,s)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:n=()=>{},...o}=t,c=_l(Ml,r),l=ox(a,o.referrerPolicy),d=os(u=>{n(u),c.onImageLoadingStatusChange(u)});return Xe(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(de.img,{...o,ref:s,src:a}):null});$l.displayName=Ml;var Ol="AvatarFallback",Ll=i.forwardRef((t,s)=>{const{__scopeAvatar:r,delayMs:a,...n}=t,o=_l(Ol,r),[c,l]=i.useState(a===void 0);return i.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),c&&o.imageLoadingStatus!=="loaded"?e.jsx(de.span,{...n,ref:s}):null});Ll.displayName=Ol;function ox(t,s){const[r,a]=i.useState("idle");return Xe(()=>{if(!t){a("error");return}let n=!0;const o=new window.Image,c=l=>()=>{n&&a(l)};return a("loading"),o.onload=c("loaded"),o.onerror=c("error"),o.src=t,s&&(o.referrerPolicy=s),()=>{n=!1}},[t,s]),r}var zl=Dl,Fl=$l,Bl=Ll;const Ua=i.forwardRef(({className:t,...s},r)=>e.jsx(zl,{ref:r,className:K("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Ua.displayName=zl.displayName;const Va=i.forwardRef(({className:t,...s},r)=>e.jsx(Fl,{ref:r,className:K("aspect-square h-full w-full",t),...s}));Va.displayName=Fl.displayName;const Ha=i.forwardRef(({className:t,...s},r)=>e.jsx(Bl,{ref:r,className:K("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));Ha.displayName=Bl.displayName;const Ve=bn,ix=yn,lx=vn,wt=Vs,Ul=i.forwardRef(({className:t,...s},r)=>e.jsx(Rr,{ref:r,className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));Ul.displayName=Rr.displayName;const Be=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(lx,{children:[e.jsx(Ul,{}),e.jsxs(Ar,{ref:a,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[s,e.jsxs(Vs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ee,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Be.displayName=Ar.displayName;const We=({className:t,...s})=>e.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});We.displayName="DialogHeader";const Mn=({className:t,...s})=>e.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Mn.displayName="DialogFooter";const qe=i.forwardRef(({className:t,...s},r)=>e.jsx(Ir,{ref:r,className:K("text-lg font-semibold leading-none tracking-tight",t),...s}));qe.displayName=Ir.displayName;const Nt=i.forwardRef(({className:t,...s},r)=>e.jsx(_r,{ref:r,className:K("text-sm text-muted-foreground",t),...s}));Nt.displayName=_r.displayName;function cx(t){const[s,r]=i.useState(null),[a,n]=i.useState(!1),[o,c]=i.useState(null);return i.useEffect(()=>{if(!t){r(null);return}n(!0),ie.from("profiles").select("id, full_name, avatar_url, updated_at").eq("id",t).maybeSingle().then(({data:d,error:u})=>{u?(c(u.message),r(null)):r(d??null),n(!1)})},[t]),{profile:s,loading:a,error:o,setProfile:r,updateProfile:async(d,u)=>{n(!0),c(null);const m={full_name:d,avatar_url:u,updated_at:new Date().toISOString()},{error:p}=await ie.from("profiles").update(m).eq("id",t);return n(!1),p&&c(p.message),!p}}}const Vl=({open:t,onOpenChange:s,userId:r})=>{const{toast:a}=ge(),{profile:n,loading:o,error:c,updateProfile:l}=cx(r),{currentLanguage:d,changeLanguage:u,t:m,getCurrentLanguage:p}=Al(),[x,y]=i.useState(""),[v,f]=i.useState(null),[h,g]=i.useState(!1),[b,w]=i.useState(d),N=V.useRef(null),[T,C]=i.useState(!1),[j,E]=i.useState(!1),A=typeof window<"u"&&/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);i.useEffect(()=>{y((n==null?void 0:n.avatar_url)||""),f(null),w(d)},[n,t,d]);const M=k=>{var z;const $=(z=k.target.files)==null?void 0:z[0];if(!$)return;const O=new FileReader;O.onload=J=>{var H;f((H=J.target)==null?void 0:H.result)},O.readAsDataURL($)},S=()=>{g(!0),C(!0)};i.useEffect(()=>{h&&N.current&&(async()=>{try{let k;if(A){try{k=await navigator.mediaDevices.getUserMedia({video:!0}),N.current&&(N.current.srcObject=k);return}catch{}k=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}),N.current&&(N.current.srcObject=k)}else{try{k=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}}),N.current&&(N.current.srcObject=k);return}catch{}k=await navigator.mediaDevices.getUserMedia({video:!0}),N.current&&(N.current.srcObject=k)}}catch{a({title:"Cmera no disponvel",description:"Para tirar uma foto, acesse pelo seu celular ou use um navegador compatvel.",variant:"destructive"}),g(!1),C(!1)}})(),!h&&N.current&&N.current.srcObject&&(N.current.srcObject.getTracks().forEach($=>$.stop()),N.current.srcObject=null)},[h]);const P=()=>{if(!N.current)return;const k=document.createElement("canvas");k.width=N.current.videoWidth,k.height=N.current.videoHeight;const $=k.getContext("2d");if($){$.drawImage(N.current,0,0,k.width,k.height);const O=k.toDataURL("image/png");f(O),I()}},I=()=>{g(!1),C(!1),N.current&&N.current.srcObject&&(N.current.srcObject.getTracks().forEach($=>$.stop()),N.current.srcObject=null)},_=async k=>{k.preventDefault(),E(!0),b!==d&&(u(b),a({title:m("language_updated"),description:m("language_updated_description")}));const O=await l(void 0,v||x);E(!1),O?(a({title:m("photo_updated"),description:m("photo_updated_description")}),s(!1)):a({title:m("update_error"),description:m("update_error_description"),variant:"destructive"})};return p(),e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{children:[e.jsxs(We,{children:[e.jsx(qe,{children:m("edit_profile")}),e.jsx(Nt,{children:m("profile_description")})]}),e.jsxs("div",{className:"py-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[v||x?e.jsx("img",{src:v||x,alt:"Preview",className:"w-16 h-16 rounded-full object-cover border"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center text-gray-400 border",children:e.jsx("span",{className:"text-xs font-medium text-gray-400 whitespace-nowrap",children:"Sem foto"})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"cursor-pointer text-sm bg-purple-600 text-white px-3 py-1 rounded shadow hover:bg-purple-700",children:["Upload",e.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"hidden"})]}),e.jsx("button",{type:"button",className:"text-sm bg-green-600 text-white px-3 py-1 rounded shadow hover:bg-green-700",onClick:S,disabled:T,children:"Tirar Foto"})]})]}),h&&e.jsxs("div",{className:"mb-2",children:[e.jsx("video",{ref:N,autoPlay:!0,className:"w-40 h-40 rounded-lg border mb-2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",onClick:P,children:"Capturar"}),e.jsx("button",{type:"button",className:"bg-gray-400 text-white px-3 py-1 rounded hover:bg-gray-500",onClick:I,children:"Cancelar"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-sm text-gray-600",children:m("name")}),e.jsx("div",{className:"font-medium text-gray-900",children:(n==null?void 0:n.full_name)||"-"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(wo,{className:"h-4 w-4 text-purple-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:m("language")}),e.jsx("div",{className:"text-sm text-gray-600",children:m("language_description")})]})]}),e.jsx("div",{className:"space-y-2",children:Ns.map(k=>e.jsxs("div",{onClick:()=>w(k.code),className:`
                    flex items-center justify-between p-3 rounded-lg border-2 cursor-pointer transition-all
                    ${b===k.code?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}
                  `,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:k.flag}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.nativeName}),e.jsx("div",{className:"text-sm text-gray-600",children:k.name})]})]}),b===k.code&&e.jsx(dt,{className:"h-5 w-5 text-purple-600"})]},k.code))}),e.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(wo,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" Sistema Global"}),e.jsx("p",{className:"text-xs text-blue-600",children:"O Pozzy  usado por milhares de pessoas no mundo. Escolha o idioma que preferir!"})]})]})})]}),e.jsx("form",{onSubmit:_,children:e.jsx(R,{type:"submit",className:"w-full",disabled:j||o,children:m(j?"saving":"save_photo")})})]}),c&&e.jsx("div",{className:"text-red-500 text-xs py-2",children:c}),e.jsx(wt,{asChild:!0,children:e.jsx(R,{variant:"outline",className:"w-full",children:m("close")})})]})})},Hl=({open:t,onOpenChange:s})=>{const[r,a]=i.useState(""),[n,o]=i.useState(""),[c,l]=i.useState(""),[d,u]=i.useState(!1),[m,p]=i.useState(""),[x,y]=i.useState(""),v=n.length>=8&&n===c,f=async h=>{if(h.preventDefault(),p(""),y(""),!v){p("A nova senha deve ter pelo menos 8 caracteres e coincidir com a confirmao.");return}u(!0);const{error:g}=await ie.auth.updateUser({password:n});u(!1),g?p(g.message||"Erro ao alterar senha."):(y("Senha alterada com sucesso!"),a(""),o(""),l(""),setTimeout(()=>s(!1),1500))};return e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{children:[e.jsxs(We,{children:[e.jsx(qe,{children:"Alterar Senha"}),e.jsx(Nt,{children:"Defina uma nova senha para sua conta."})]}),e.jsxs("form",{className:"py-4 space-y-3",onSubmit:f,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Nova senha"}),e.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded",value:n,onChange:h=>o(h.target.value),minLength:8,required:!0,autoComplete:"new-password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Confirmar nova senha"}),e.jsx("input",{type:"password",className:"w-full border px-3 py-2 rounded",value:c,onChange:h=>l(h.target.value),minLength:8,required:!0,autoComplete:"new-password"})]}),m&&e.jsx("div",{className:"text-red-500 text-xs py-1",children:m}),x&&e.jsx("div",{className:"text-green-600 text-xs py-1",children:x}),e.jsx(R,{type:"submit",className:"w-full",disabled:d||!v,children:d?"Salvando...":"Salvar Senha"})]}),e.jsx(wt,{asChild:!0,children:e.jsx(R,{variant:"outline",className:"w-full",children:"Fechar"})})]})})},Gl=({open:t,onOpenChange:s})=>{const[r,a]=i.useState(""),[n,o]=i.useState(null),[c,l]=i.useState(!1),[d,u]=i.useState(""),[m,p]=i.useState("");i.useEffect(()=>{t&&(u(""),p(""),l(!0),ie.auth.getUser().then(({data:y,error:v})=>{if(l(!1),v||!(y!=null&&y.user)){p("No foi possvel obter o status do e-mail."),o(null),a("");return}a(y.user.email||""),o(!!y.user.email_confirmed_at)}))},[t]);const x=async()=>{u(""),p(""),l(!0);const{data:y,error:v}=await ie.auth.resend({type:"signup",email:r});l(!1),v?p(v.message||"Erro ao reenviar verificao."):u("E-mail de verificao reenviado! Verifique sua caixa de entrada.")};return e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{children:[e.jsxs(We,{children:[e.jsx(qe,{children:"Verificao de E-mail"}),e.jsx(Nt,{children:"Veja o status do seu e-mail e reenvie a verificao se necessrio."})]}),e.jsxs("div",{className:"py-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-sm text-gray-600",children:"E-mail"}),e.jsx("div",{className:"font-medium text-gray-900",children:r||"-"})]}),e.jsx("div",{children:e.jsxs("span",{className:`text-sm font-medium ${n?"text-green-600":"text-red-600"}`,children:["Status: ",n===null?"...":n?"Verificado":"No verificado"]})}),!n&&e.jsx(R,{variant:"secondary",className:"mt-2",onClick:x,disabled:c,children:c?"Enviando...":"Reenviar verificao"}),d&&e.jsx("div",{className:"text-green-600 text-xs py-1",children:d}),m&&e.jsx("div",{className:"text-red-500 text-xs py-1",children:m})]}),e.jsx(wt,{asChild:!0,children:e.jsx(R,{variant:"outline",className:"w-full",children:"Fechar"})})]})})},Wl=({open:t,onOpenChange:s})=>{const[r]=i.useState("Premium"),[a]=i.useState("Ativo"),[n]=i.useState("2024-12-31"),[o,c]=i.useState(!1),[l,d]=i.useState(""),u=()=>{d("Funcionalidade de upgrade em breve!")};return e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{children:[e.jsxs(We,{children:[e.jsx(qe,{children:"Plano/Assinatura"}),e.jsx(Nt,{children:"Veja detalhes do seu plano e faa upgrade quando disponvel."})]}),e.jsxs("div",{className:"py-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Plano atual:"}),e.jsx("span",{className:"ml-2 font-bold text-purple-700",children:r})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsx("span",{className:`ml-2 font-bold ${a==="Ativo"?"text-green-600":"text-red-600"}`,children:a})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Expira em:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:n})]}),e.jsx(R,{variant:"secondary",className:"mt-2 w-full",onClick:u,disabled:o,children:"Fazer Upgrade"}),l&&e.jsx("div",{className:"text-blue-600 text-xs py-1",children:l})]}),e.jsx(wt,{asChild:!0,children:e.jsx(R,{variant:"outline",className:"w-full",children:"Fechar"})})]})})},ql=({open:t,onOpenChange:s})=>e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{children:[e.jsxs(We,{children:[e.jsx(qe,{children:"Notificaes"}),e.jsx(Nt,{children:"Exemplo: configure notificaes."})]}),e.jsxs("div",{className:"py-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"accent-purple-600"})," Notificaes por e-mail"]}),e.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[e.jsx("input",{type:"checkbox",className:"accent-purple-600"})," Notificaes push"]})]}),e.jsx(wt,{asChild:!0,children:e.jsx(R,{variant:"outline",className:"w-full",children:"Fechar"})})]})}),Kl=({open:t,onOpenChange:s})=>{const r=async()=>{await ie.auth.signOut(),s(!1)};return e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{children:[e.jsxs(We,{children:[e.jsx(qe,{children:"Excluir Conta"}),e.jsx(Nt,{children:"Escolha se deseja apenas sair do app ou excluir sua conta permanentemente."})]}),e.jsxs("div",{className:"py-4 flex flex-col gap-3",children:[e.jsx(R,{variant:"destructive",className:"w-full",children:"Excluir definitivamente"}),e.jsx(R,{variant:"secondary",className:"w-full",onClick:r,children:"Sair do App"})]}),e.jsx(wt,{asChild:!0,children:e.jsx(R,{variant:"outline",className:"w-full mt-2",children:"Cancelar"})})]})})},Yl=i.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:K("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));Yl.displayName="Textarea";const pe=i.forwardRef(({className:t,type:s,...r},a)=>e.jsx("input",{type:s,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r}));pe.displayName="Input";var dx="Label",Zl=i.forwardRef((t,s)=>e.jsx(de.label,{...t,ref:s,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Zl.displayName=dx;var Jl=Zl;const ux=Gs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ae=i.forwardRef(({className:t,...s},r)=>e.jsx(Jl,{ref:r,className:K(ux(),t),...s}));Ae.displayName=Jl.displayName;function Eo(t,[s,r]){return Math.min(r,Math.max(s,t))}function Xl(t){const s=i.useRef({value:t,previous:t});return i.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var mx=[" ","Enter","ArrowUp","ArrowDown"],px=[" ","Enter"],qs="Select",[Yr,Zr,fx]=ui(qs),[us,xw]=Ft(qs,[fx,Dr]),Jr=Dr(),[hx,St]=us(qs),[xx,gx]=us(qs),Ql=t=>{const{__scopeSelect:s,children:r,open:a,defaultOpen:n,onOpenChange:o,value:c,defaultValue:l,onValueChange:d,dir:u,name:m,autoComplete:p,disabled:x,required:y,form:v}=t,f=Jr(s),[h,g]=i.useState(null),[b,w]=i.useState(null),[N,T]=i.useState(!1),C=jn(u),[j=!1,E]=ct({prop:a,defaultProp:n,onChange:o}),[A,M]=ct({prop:c,defaultProp:l,onChange:d}),S=i.useRef(null),P=h?v||!!h.closest("form"):!0,[I,_]=i.useState(new Set),k=Array.from(I).map($=>$.props.value).join(";");return e.jsx(yi,{...f,children:e.jsxs(hx,{required:y,scope:s,trigger:h,onTriggerChange:g,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:T,contentId:Mr(),value:A,onValueChange:M,open:j,onOpenChange:E,dir:C,triggerPointerDownPosRef:S,disabled:x,children:[e.jsx(Yr.Provider,{scope:s,children:e.jsx(xx,{scope:t.__scopeSelect,onNativeOptionAdd:i.useCallback($=>{_(O=>new Set(O).add($))},[]),onNativeOptionRemove:i.useCallback($=>{_(O=>{const z=new Set(O);return z.delete($),z})},[]),children:r})}),P?e.jsxs(Sc,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:A,onChange:$=>M($.target.value),disabled:x,form:v,children:[A===void 0?e.jsx("option",{value:""}):null,Array.from(I)]},k):null]})})};Ql.displayName=qs;var ec="SelectTrigger",tc=i.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:a=!1,...n}=t,o=Jr(r),c=St(ec,r),l=c.disabled||a,d=De(s,c.onTriggerChange),u=Zr(r),m=i.useRef("touch"),[p,x,y]=Cc(f=>{const h=u().filter(w=>!w.disabled),g=h.find(w=>w.value===c.value),b=Ec(h,f,g);b!==void 0&&c.onValueChange(b.value)}),v=f=>{l||(c.onOpenChange(!0),y()),f&&(c.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(hi,{asChild:!0,...o,children:e.jsx(de.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Nc(c.value)?"":void 0,...n,ref:d,onClick:ne(n.onClick,f=>{f.currentTarget.focus(),m.current!=="mouse"&&v(f)}),onPointerDown:ne(n.onPointerDown,f=>{m.current=f.pointerType;const h=f.target;h.hasPointerCapture(f.pointerId)&&h.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(v(f),f.preventDefault())}),onKeyDown:ne(n.onKeyDown,f=>{const h=p.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&x(f.key),!(h&&f.key===" ")&&mx.includes(f.key)&&(v(),f.preventDefault())})})})});tc.displayName=ec;var sc="SelectValue",rc=i.forwardRef((t,s)=>{const{__scopeSelect:r,className:a,style:n,children:o,placeholder:c="",...l}=t,d=St(sc,r),{onValueNodeHasChildrenChange:u}=d,m=o!==void 0,p=De(s,d.onValueNodeChange);return Xe(()=>{u(m)},[u,m]),e.jsx(de.span,{...l,ref:p,style:{pointerEvents:"none"},children:Nc(d.value)?e.jsx(e.Fragment,{children:c}):o})});rc.displayName=sc;var vx="SelectIcon",ac=i.forwardRef((t,s)=>{const{__scopeSelect:r,children:a,...n}=t;return e.jsx(de.span,{"aria-hidden":!0,...n,ref:s,children:a||""})});ac.displayName=vx;var bx="SelectPortal",nc=t=>e.jsx(mi,{asChild:!0,...t});nc.displayName=bx;var Dt="SelectContent",oc=i.forwardRef((t,s)=>{const r=St(Dt,t.__scopeSelect),[a,n]=i.useState();if(Xe(()=>{n(new DocumentFragment)},[]),!r.open){const o=a;return o?Bt.createPortal(e.jsx(ic,{scope:t.__scopeSelect,children:e.jsx(Yr.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(lc,{...t,ref:s})});oc.displayName=Dt;var Ze=10,[ic,Ct]=us(Dt),yx="SelectContentImpl",lc=i.forwardRef((t,s)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:c,side:l,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:v,hideWhenDetached:f,avoidCollisions:h,...g}=t,b=St(Dt,r),[w,N]=i.useState(null),[T,C]=i.useState(null),j=De(s,L=>N(L)),[E,A]=i.useState(null),[M,S]=i.useState(null),P=Zr(r),[I,_]=i.useState(!1),k=i.useRef(!1);i.useEffect(()=>{if(w)return xi(w)},[w]),Xm();const $=i.useCallback(L=>{const[Z,...ae]=P().map(F=>F.ref.current),[se]=ae.slice(-1),te=document.activeElement;for(const F of L)if(F===te||(F==null||F.scrollIntoView({block:"nearest"}),F===Z&&T&&(T.scrollTop=0),F===se&&T&&(T.scrollTop=T.scrollHeight),F==null||F.focus(),document.activeElement!==te))return},[P,T]),O=i.useCallback(()=>$([E,w]),[$,E,w]);i.useEffect(()=>{I&&O()},[I,O]);const{onOpenChange:z,triggerPointerDownPosRef:J}=b;i.useEffect(()=>{if(w){let L={x:0,y:0};const Z=se=>{var te,F;L={x:Math.abs(Math.round(se.pageX)-(((te=J.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(se.pageY)-(((F=J.current)==null?void 0:F.y)??0))}},ae=se=>{L.x<=10&&L.y<=10?se.preventDefault():w.contains(se.target)||z(!1),document.removeEventListener("pointermove",Z),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,z,J]),i.useEffect(()=>{const L=()=>z(!1);return window.addEventListener("blur",L),window.addEventListener("resize",L),()=>{window.removeEventListener("blur",L),window.removeEventListener("resize",L)}},[z]);const[H,B]=Cc(L=>{const Z=P().filter(te=>!te.disabled),ae=Z.find(te=>te.ref.current===document.activeElement),se=Ec(Z,L,ae);se&&setTimeout(()=>se.ref.current.focus())}),D=i.useCallback((L,Z,ae)=>{const se=!k.current&&!ae;(b.value!==void 0&&b.value===Z||se)&&(A(L),se&&(k.current=!0))},[b.value]),U=i.useCallback(()=>w==null?void 0:w.focus(),[w]),Y=i.useCallback((L,Z,ae)=>{const se=!k.current&&!ae;(b.value!==void 0&&b.value===Z||se)&&S(L)},[b.value]),G=a==="popper"?Ga:cc,W=G===Ga?{side:l,sideOffset:d,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:v,hideWhenDetached:f,avoidCollisions:h}:{};return e.jsx(ic,{scope:r,content:w,viewport:T,onViewportChange:C,itemRefCallback:D,selectedItem:E,onItemLeave:U,itemTextRefCallback:Y,focusSelectedItem:O,selectedItemText:M,position:a,isPositioned:I,searchRef:H,children:e.jsx(Qm,{as:pi,allowPinchZoom:!0,children:e.jsx(ep,{asChild:!0,trapped:b.open,onMountAutoFocus:L=>{L.preventDefault()},onUnmountAutoFocus:ne(n,L=>{var Z;(Z=b.trigger)==null||Z.focus({preventScroll:!0}),L.preventDefault()}),children:e.jsx(gi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:L=>L.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:e.jsx(G,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:L=>L.preventDefault(),...g,...W,onPlaced:()=>_(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ne(g.onKeyDown,L=>{const Z=L.ctrlKey||L.altKey||L.metaKey;if(L.key==="Tab"&&L.preventDefault(),!Z&&L.key.length===1&&B(L.key),["ArrowUp","ArrowDown","Home","End"].includes(L.key)){let se=P().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(L.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(L.key)){const te=L.target,F=se.indexOf(te);se=se.slice(F+1)}setTimeout(()=>$(se)),L.preventDefault()}})})})})})})});lc.displayName=yx;var jx="SelectItemAlignedPosition",cc=i.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:a,...n}=t,o=St(Dt,r),c=Ct(Dt,r),[l,d]=i.useState(null),[u,m]=i.useState(null),p=De(s,j=>m(j)),x=Zr(r),y=i.useRef(!1),v=i.useRef(!0),{viewport:f,selectedItem:h,selectedItemText:g,focusSelectedItem:b}=c,w=i.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&f&&h&&g){const j=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),M=g.getBoundingClientRect();if(o.dir!=="rtl"){const te=M.left-E.left,F=A.left-te,q=j.left-F,ce=j.width+q,ve=Math.max(ce,E.width),Ce=window.innerWidth-Ze,Ie=Eo(F,[Ze,Math.max(Ze,Ce-ve)]);l.style.minWidth=ce+"px",l.style.left=Ie+"px"}else{const te=E.right-M.right,F=window.innerWidth-A.right-te,q=window.innerWidth-j.right-F,ce=j.width+q,ve=Math.max(ce,E.width),Ce=window.innerWidth-Ze,Ie=Eo(F,[Ze,Math.max(Ze,Ce-ve)]);l.style.minWidth=ce+"px",l.style.right=Ie+"px"}const S=x(),P=window.innerHeight-Ze*2,I=f.scrollHeight,_=window.getComputedStyle(u),k=parseInt(_.borderTopWidth,10),$=parseInt(_.paddingTop,10),O=parseInt(_.borderBottomWidth,10),z=parseInt(_.paddingBottom,10),J=k+$+I+z+O,H=Math.min(h.offsetHeight*5,J),B=window.getComputedStyle(f),D=parseInt(B.paddingTop,10),U=parseInt(B.paddingBottom,10),Y=j.top+j.height/2-Ze,G=P-Y,W=h.offsetHeight/2,L=h.offsetTop+W,Z=k+$+L,ae=J-Z;if(Z<=Y){const te=S.length>0&&h===S[S.length-1].ref.current;l.style.bottom="0px";const F=u.clientHeight-f.offsetTop-f.offsetHeight,q=Math.max(G,W+(te?U:0)+F+O),ce=Z+q;l.style.height=ce+"px"}else{const te=S.length>0&&h===S[0].ref.current;l.style.top="0px";const q=Math.max(Y,k+f.offsetTop+(te?D:0)+W)+ae;l.style.height=q+"px",f.scrollTop=Z-Y+f.offsetTop}l.style.margin=`${Ze}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=P+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[x,o.trigger,o.valueNode,l,u,f,h,g,o.dir,a]);Xe(()=>w(),[w]);const[N,T]=i.useState();Xe(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const C=i.useCallback(j=>{j&&v.current===!0&&(w(),b==null||b(),v.current=!1)},[w,b]);return e.jsx(Nx,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:e.jsx(de.div,{...n,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});cc.displayName=jx;var wx="SelectPopperPosition",Ga=i.forwardRef((t,s)=>{const{__scopeSelect:r,align:a="start",collisionPadding:n=Ze,...o}=t,c=Jr(r);return e.jsx(vi,{...c,...o,ref:s,align:a,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ga.displayName=wx;var[Nx,$n]=us(Dt,{}),Wa="SelectViewport",dc=i.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:a,...n}=t,o=Ct(Wa,r),c=$n(Wa,r),l=De(s,o.onViewportChange),d=i.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),e.jsx(Yr.Slot,{scope:r,children:e.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ne(n.onScroll,u=>{const m=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&p){const y=Math.abs(d.current-m.scrollTop);if(y>0){const v=window.innerHeight-Ze*2,f=parseFloat(p.style.minHeight),h=parseFloat(p.style.height),g=Math.max(f,h);if(g<v){const b=g+y,w=Math.min(v,b),N=b-w;p.style.height=w+"px",p.style.bottom==="0px"&&(m.scrollTop=N>0?N:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});dc.displayName=Wa;var uc="SelectGroup",[Sx,Cx]=us(uc),Ex=i.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,n=Mr();return e.jsx(Sx,{scope:r,id:n,children:e.jsx(de.div,{role:"group","aria-labelledby":n,...a,ref:s})})});Ex.displayName=uc;var mc="SelectLabel",pc=i.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,n=Cx(mc,r);return e.jsx(de.div,{id:n.id,...a,ref:s})});pc.displayName=mc;var wr="SelectItem",[kx,fc]=us(wr),hc=i.forwardRef((t,s)=>{const{__scopeSelect:r,value:a,disabled:n=!1,textValue:o,...c}=t,l=St(wr,r),d=Ct(wr,r),u=l.value===a,[m,p]=i.useState(o??""),[x,y]=i.useState(!1),v=De(s,b=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,b,a,n)}),f=Mr(),h=i.useRef("touch"),g=()=>{n||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(kx,{scope:r,value:a,disabled:n,textId:f,isSelected:u,onItemTextChange:i.useCallback(b=>{p(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:e.jsx(Yr.ItemSlot,{scope:r,value:a,disabled:n,textValue:m,children:e.jsx(de.div,{role:"option","aria-labelledby":f,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...c,ref:v,onFocus:ne(c.onFocus,()=>y(!0)),onBlur:ne(c.onBlur,()=>y(!1)),onClick:ne(c.onClick,()=>{h.current!=="mouse"&&g()}),onPointerUp:ne(c.onPointerUp,()=>{h.current==="mouse"&&g()}),onPointerDown:ne(c.onPointerDown,b=>{h.current=b.pointerType}),onPointerMove:ne(c.onPointerMove,b=>{var w;h.current=b.pointerType,n?(w=d.onItemLeave)==null||w.call(d):h.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(c.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:ne(c.onKeyDown,b=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(px.includes(b.key)&&g(),b.key===" "&&b.preventDefault())})})})})});hc.displayName=wr;var Ss="SelectItemText",xc=i.forwardRef((t,s)=>{const{__scopeSelect:r,className:a,style:n,...o}=t,c=St(Ss,r),l=Ct(Ss,r),d=fc(Ss,r),u=gx(Ss,r),[m,p]=i.useState(null),x=De(s,g=>p(g),d.onItemTextChange,g=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,g,d.value,d.disabled)}),y=m==null?void 0:m.textContent,v=i.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:f,onNativeOptionRemove:h}=u;return Xe(()=>(f(v),()=>h(v)),[f,h,v]),e.jsxs(e.Fragment,{children:[e.jsx(de.span,{id:d.textId,...o,ref:x}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Bt.createPortal(o.children,c.valueNode):null]})});xc.displayName=Ss;var gc="SelectItemIndicator",vc=i.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t;return fc(gc,r).isSelected?e.jsx(de.span,{"aria-hidden":!0,...a,ref:s}):null});vc.displayName=gc;var qa="SelectScrollUpButton",bc=i.forwardRef((t,s)=>{const r=Ct(qa,t.__scopeSelect),a=$n(qa,t.__scopeSelect),[n,o]=i.useState(!1),c=De(s,a.onScrollButtonChange);return Xe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollTop>0;o(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?e.jsx(jc,{...t,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});bc.displayName=qa;var Ka="SelectScrollDownButton",yc=i.forwardRef((t,s)=>{const r=Ct(Ka,t.__scopeSelect),a=$n(Ka,t.__scopeSelect),[n,o]=i.useState(!1),c=De(s,a.onScrollButtonChange);return Xe(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<u;o(m)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?e.jsx(jc,{...t,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});yc.displayName=Ka;var jc=i.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:a,...n}=t,o=Ct("SelectScrollButton",r),c=i.useRef(null),l=Zr(r),d=i.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return i.useEffect(()=>()=>d(),[d]),Xe(()=>{var m;const u=l().find(p=>p.ref.current===document.activeElement);(m=u==null?void 0:u.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),e.jsx(de.div,{"aria-hidden":!0,...n,ref:s,style:{flexShrink:0,...n.style},onPointerDown:ne(n.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:ne(n.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:ne(n.onPointerLeave,()=>{d()})})}),Px="SelectSeparator",wc=i.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t;return e.jsx(de.div,{"aria-hidden":!0,...a,ref:s})});wc.displayName=Px;var Ya="SelectArrow",Tx=i.forwardRef((t,s)=>{const{__scopeSelect:r,...a}=t,n=Jr(r),o=St(Ya,r),c=Ct(Ya,r);return o.open&&c.position==="popper"?e.jsx(bi,{...n,...a,ref:s}):null});Tx.displayName=Ya;function Nc(t){return t===""||t===void 0}var Sc=i.forwardRef((t,s)=>{const{value:r,...a}=t,n=i.useRef(null),o=De(s,n),c=Xl(r);return i.useEffect(()=>{const l=n.current,d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==r&&m){const p=new Event("change",{bubbles:!0});m.call(l,r),l.dispatchEvent(p)}},[c,r]),e.jsx(Fr,{asChild:!0,children:e.jsx("select",{...a,ref:o,defaultValue:r})})});Sc.displayName="BubbleSelect";function Cc(t){const s=os(t),r=i.useRef(""),a=i.useRef(0),n=i.useCallback(c=>{const l=r.current+c;s(l),function d(u){r.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[s]),o=i.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,o]}function Ec(t,s,r){const n=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,o=r?t.indexOf(r):-1;let c=Rx(t,Math.max(o,0));n.length===1&&(c=c.filter(u=>u!==r));const d=c.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==r?d:void 0}function Rx(t,s){return t.map((r,a)=>t[(s+a)%t.length])}var Ax=Ql,kc=tc,Ix=rc,_x=ac,Dx=nc,Pc=oc,Mx=dc,Tc=pc,Rc=hc,$x=xc,Ox=vc,Ac=bc,Ic=yc,_c=wc;const mr=Ax,pr=Ix,ks=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(kc,{ref:a,className:K("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(_x,{asChild:!0,children:e.jsx(Gr,{className:"h-4 w-4 opacity-50"})})]}));ks.displayName=kc.displayName;const Dc=i.forwardRef(({className:t,...s},r)=>e.jsx(Ac,{ref:r,className:K("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Vf,{className:"h-4 w-4"})}));Dc.displayName=Ac.displayName;const Mc=i.forwardRef(({className:t,...s},r)=>e.jsx(Ic,{ref:r,className:K("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Gr,{className:"h-4 w-4"})}));Mc.displayName=Ic.displayName;const Ps=i.forwardRef(({className:t,children:s,position:r="popper",...a},n)=>e.jsx(Dx,{children:e.jsxs(Pc,{ref:n,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...a,children:[e.jsx(Dc,{}),e.jsx(Mx,{className:K("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Mc,{})]})}));Ps.displayName=Pc.displayName;const Lx=i.forwardRef(({className:t,...s},r)=>e.jsx(Tc,{ref:r,className:K("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));Lx.displayName=Tc.displayName;const Se=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(Rc,{ref:a,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ox,{children:e.jsx(dt,{className:"h-4 w-4"})})}),e.jsx($x,{children:s})]}));Se.displayName=Rc.displayName;const zx=i.forwardRef(({className:t,...s},r)=>e.jsx(_c,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",t),...s}));zx.displayName=_c.displayName;const Fx=Gs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ne({className:t,variant:s,...r}){return e.jsx("div",{className:K(Fx({variant:s}),t),...r})}const ko=[{id:"bug",name:"Bug/Erro",description:"Algo no est funcionando",icon:Ff,color:"bg-red-100 text-red-700 border-red-200"},{id:"feature",name:"Nova Funcionalidade",description:"Sugesto de melhoria",icon:kn,color:"bg-blue-100 text-blue-700 border-blue-200"},{id:"improvement",name:"Melhoria",description:"Melhorar algo existente",icon:jt,color:"bg-green-100 text-green-700 border-green-200"},{id:"other",name:"Outro",description:"Outro tipo de feedback",icon:is,color:"bg-gray-100 text-gray-700 border-gray-200"}],Po=[{value:"low",label:"Baixa",color:"bg-green-100 text-green-700"},{value:"medium",label:"Mdia",color:"bg-yellow-100 text-yellow-700"},{value:"high",label:"Alta",color:"bg-red-100 text-red-700"}],$c=({open:t,onOpenChange:s,trigger:r})=>{const[a,n]=i.useState(""),[o,c]=i.useState("medium"),[l,d]=i.useState(""),[u,m]=i.useState(""),[p,x]=i.useState(""),[y,v]=i.useState(null),[f,h]=i.useState(!1),{toast:g}=ge(),b=async j=>{if(j.preventDefault(),!a||!l||!u){g({title:"Campos obrigatrios",description:"Por favor, preencha categoria, ttulo e descrio",variant:"destructive"});return}h(!0);try{await new Promise(A=>setTimeout(A,2e3));const E={category:a,priority:o,title:l,description:u,email:p,screenshot:y?await w(y):null,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.log("Feedback enviado:",E),g({title:"Feedback enviado! ",description:"Obrigado por nos ajudar a melhorar o Pozzy. Vamos analisar sua sugesto!"}),n(""),c("medium"),d(""),m(""),x(""),v(null),s(!1)}catch{g({title:"Erro ao enviar",description:"Tente novamente em alguns instantes",variant:"destructive"})}finally{h(!1)}},w=j=>new Promise((E,A)=>{const M=new FileReader;M.readAsDataURL(j),M.onload=()=>E(M.result),M.onerror=S=>A(S)}),N=j=>{var A;const E=(A=j.target.files)==null?void 0:A[0];E&&E.type.startsWith("image/")?v(E):g({title:"Arquivo invlido",description:"Por favor, selecione apenas imagens",variant:"destructive"})},T=ko.find(j=>j.id===a),C=Po.find(j=>j.value===o);return e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(We,{children:e.jsxs(qe,{className:"flex items-center space-x-2",children:[e.jsx(is,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:"Envie seu Feedback"})]})}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(Ae,{className:"text-sm font-medium",children:"Tipo de Feedback *"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-2",children:ko.map(j=>{const E=j.icon;return e.jsx("div",{onClick:()=>n(j.id),className:`
                      p-4 rounded-lg border-2 cursor-pointer transition-all
                      ${a===j.id?`${j.color} border-current`:"border-gray-200 hover:border-gray-300"}
                    `,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(E,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:j.name}),e.jsx("div",{className:"text-xs text-gray-600",children:j.description})]})]})},j.id)})})]}),e.jsxs("div",{children:[e.jsx(Ae,{className:"text-sm font-medium",children:"Prioridade"}),e.jsxs(mr,{value:o,onValueChange:c,children:[e.jsx(ks,{className:"mt-2",children:e.jsx(pr,{})}),e.jsx(Ps,{children:Po.map(j=>e.jsx(Se,{value:j.value,children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(Ne,{className:j.color,children:j.label})})},j.value))})]})]}),e.jsxs("div",{children:[e.jsx(Ae,{className:"text-sm font-medium",children:"Ttulo *"}),e.jsx(pe,{value:l,onChange:j=>d(j.target.value),placeholder:"Resumo do seu feedback",className:"mt-2",maxLength:100}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[l.length,"/100 caracteres"]})]}),e.jsxs("div",{children:[e.jsx(Ae,{className:"text-sm font-medium",children:"Descrio *"}),e.jsx(Yl,{value:u,onChange:j=>m(j.target.value),placeholder:"Descreva detalhadamente seu feedback, sugesto ou problema encontrado...",className:"mt-2 min-h-[120px]",maxLength:1e3}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[u.length,"/1000 caracteres"]})]}),e.jsxs("div",{children:[e.jsx(Ae,{className:"text-sm font-medium",children:"Email (opcional)"}),e.jsx(pe,{type:"email",value:p,onChange:j=>x(j.target.value),placeholder:"seu@email.com",className:"mt-2"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Para receber atualizaes sobre seu feedback"})]}),e.jsxs("div",{children:[e.jsx(Ae,{className:"text-sm font-medium",children:"Screenshot (opcional)"}),e.jsx("div",{className:"mt-2",children:y?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(y),alt:"Screenshot",className:"w-full max-w-md rounded-lg border"}),e.jsx(R,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(null),className:"absolute top-2 right-2 bg-white/80 hover:bg-white",children:e.jsx(Ee,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(lt,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Clique para adicionar uma imagem"}),e.jsx(R,{type:"button",variant:"outline",size:"sm",onClick:()=>{var j;return(j=document.getElementById("screenshot-input"))==null?void 0:j.click()},children:"Selecionar Imagem"}),e.jsx("input",{id:"screenshot-input",type:"file",accept:"image/*",onChange:N,className:"hidden"})]})})]}),a&&l&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Resumo do Feedback"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-600",children:"Tipo:"}),T&&e.jsx(Ne,{className:T.color,children:T.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-600",children:"Prioridade:"}),C&&e.jsx(Ne,{className:C.color,children:C.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Ttulo:"}),e.jsx("span",{className:"ml-2",children:l})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:f,children:"Cancelar"}),e.jsx(R,{type:"submit",disabled:f||!a||!l||!u,className:"bg-purple-600 hover:bg-purple-700",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ih,{className:"h-4 w-4 mr-2"}),"Enviar Feedback"]})})]})]})]})})},Bx=({userId:t,userEmail:s="",onLogout:r})=>{const[a,n]=i.useState(!1),[o,c]=i.useState(!1),[l,d]=i.useState(!1),[u,m]=i.useState(!1),[p,x]=i.useState(!1),[y,v]=i.useState(!1),[f,h]=i.useState(!1),g=b=>b.split("@")[0].substring(0,2).toUpperCase();return e.jsxs(e.Fragment,{children:[e.jsxs(qr,{children:[e.jsx(Kr,{asChild:!0,children:e.jsxs(R,{variant:"outline",className:"rounded-2xl border-gray-200 text-gray-600 hover:text-gray-800 hover:bg-gray-50 shadow-soft flex items-center space-x-2 bg-white",children:[e.jsxs(Ua,{className:"h-6 w-6",children:[e.jsx(Va,{src:""}),e.jsx(Ha,{className:"text-xs bg-purple-100 text-purple-700 font-semibold",children:g(s)})]}),e.jsx("span",{className:"text-sm font-medium",children:s.split("@")[0]}),e.jsx(Gr,{className:"h-3 w-3"})]})}),e.jsx(Ws,{side:"bottom",align:"end",className:"p-2 w-64 bg-white border border-gray-200 shadow-xl",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"px-3 py-2 border-b border-gray-100 mb-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(Ua,{className:"h-8 w-8",children:[e.jsx(Va,{src:""}),e.jsx(Ha,{className:"text-sm bg-purple-100 text-purple-700 font-semibold",children:g(s)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.split("@")[0]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:s})]})]})}),e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2 h-auto text-left hover:bg-purple-50",onClick:()=>n(!0),children:[e.jsx(vl,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:"Editar Perfil"})]}),e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2 h-auto text-left hover:bg-indigo-50",onClick:()=>c(!0),children:[e.jsx(fl,{className:"h-4 w-4 text-indigo-600"}),e.jsx("span",{className:"text-sm",children:"Alterar Senha"})]}),e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2 h-auto text-left hover:bg-blue-50",onClick:()=>d(!0),children:[e.jsx(hl,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Verificao de E-mail"})]}),e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2 h-auto text-left hover:bg-teal-50",onClick:()=>m(!0),children:[e.jsx(pl,{className:"h-4 w-4 text-teal-600"}),e.jsx("span",{className:"text-sm",children:"Ver Plano/Assinatura"})]}),e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2 h-auto text-left hover:bg-orange-50",onClick:()=>x(!0),children:[e.jsx(Hr,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm",children:"Configuraes de Notificaes"})]}),e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2 h-auto text-left hover:bg-purple-50",onClick:()=>h(!0),children:[e.jsx(is,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:"Enviar Feedback"})]}),e.jsx("div",{className:"h-px bg-gray-200 my-1"}),e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2 h-auto text-left hover:bg-red-50",onClick:()=>v(!0),children:[e.jsx(_t,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-sm text-red-600",children:"Excluir Conta"})]}),e.jsx("div",{className:"h-px bg-gray-200 my-1"}),e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-3 px-3 py-2 h-auto text-left hover:bg-gray-50",onClick:r,children:[e.jsx(Qf,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"Sair"})]})]})})]}),e.jsx(Vl,{open:a,onOpenChange:n,userId:t}),e.jsx(Hl,{open:o,onOpenChange:c}),e.jsx(Gl,{open:l,onOpenChange:d}),e.jsx(Wl,{open:u,onOpenChange:m}),e.jsx(ql,{open:p,onOpenChange:x}),e.jsx(Kl,{open:y,onOpenChange:v}),e.jsx($c,{open:f,onOpenChange:h})]})},Ux=({user:t,searchesLeft:s,isPremium:r,onLogout:a,onUpgrade:n,userId:o,onAuthClick:c})=>e.jsx("header",{className:"bg-white/95 backdrop-blur-sm shadow-soft border-b border-gray-100 sticky top-0 z-40",children:e.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-dark to-purple-medium rounded-2xl flex items-center justify-center shadow-soft",children:e.jsx(le,{className:"h-5 w-5 text-white"})})}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-poppins font-bold bg-gradient-to-r from-purple-dark to-purple-medium bg-clip-text text-transparent",children:"POZZY"})})]}),e.jsx("div",{className:"flex items-center space-x-4",children:t?e.jsxs(e.Fragment,{children:[e.jsx(Il,{}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r?e.jsxs("div",{className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-100 to-lilac-light rounded-2xl shadow-soft",children:[e.jsx(Fa,{className:"h-4 w-4 text-purple-dark"}),e.jsx("span",{className:"font-medium text-purple-dark",children:"Premium"})]}):e.jsx("div",{className:"px-4 py-2 bg-gray-50 rounded-2xl shadow-soft",children:e.jsxs("span",{className:"font-medium text-gray-700",children:["Restantes: ",e.jsx("strong",{className:"text-purple-dark",children:s})]})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(Bx,{userId:o,userEmail:t==null?void 0:t.email,onLogout:a})})]}),!r&&e.jsxs(R,{onClick:n,className:"btn-primary text-sm font-medium",children:[e.jsx(Fa,{className:"h-4 w-4 md:mr-1"}),e.jsx("span",{className:"hidden md:inline",children:"Upgrade"})]})]}):e.jsx(R,{onClick:c,className:"btn-primary text-sm font-medium",children:"Entrar / Cadastrar"})})]})})}),Oc=({isInstallable:t,triggerInstallPrompt:s,hasBeenRejected:r,forceShow:a})=>{const[n,o]=V.useState(!1);V.useEffect(()=>{o(!!(a||t&&!r))},[t,r,a]);const c=()=>{s(),o(!1)},l=()=>{o(!1),localStorage.setItem("pwa_install_rejected","true"),localStorage.setItem("pwa_rejection_timestamp",Date.now().toString())};return n?e.jsxs("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 w-11/12 max-w-md bg-gradient-to-r from-purple-dark to-purple-medium text-white p-4 rounded-2xl shadow-lg z-50 animate-fade-in-up",children:[e.jsx("button",{onClick:l,className:"absolute top-2 right-2 text-white/70 hover:text-white","aria-label":"Dispensar",children:e.jsx(Ee,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center mr-4 shrink-0",children:e.jsx(Wr,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h4",{className:"font-bold",children:"Instale o Pozzy"}),e.jsx("p",{className:"text-sm opacity-90 leading-tight",children:"Acesso rpido, notificaes e uso offline."})]}),e.jsx(R,{onClick:c,className:"bg-white text-purple-dark hover:bg-gray-100 h-9 ml-4 shrink-0",children:"Instalar"})]})]}):null},Vx=({userId:t})=>{ge();const[s,r]=i.useState(!1),[a,n]=i.useState(!1),[o,c]=i.useState(!1),[l,d]=i.useState(!1),[u,m]=i.useState(!1),[p,x]=i.useState(!1),[y,v]=i.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(qr,{children:[e.jsx(Kr,{asChild:!0,children:e.jsxs("button",{className:"flex flex-col items-center justify-center space-y-1 px-2 py-2 rounded-xl transition-all duration-200 min-w-0 flex-1 touch-target text-gray-500",style:{backgroundColor:"transparent"},children:[e.jsx(th,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs font-medium truncate",children:"Menu"})]})}),e.jsx(Ws,{side:"top",align:"end",className:"p-2 w-60 max-w-xs z-50",children:e.jsxs("ul",{className:"flex flex-col gap-2",children:[e.jsx("li",{children:e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-2 px-2 py-2",onClick:()=>r(!0),children:[e.jsx(vl,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"truncate text-left",children:"Editar Perfil"})]})}),e.jsx("li",{children:e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-2 px-2 py-2",onClick:()=>n(!0),children:[e.jsx(fl,{className:"h-4 w-4 text-indigo-600"}),e.jsx("span",{className:"truncate text-left",children:"Alterar Senha"})]})}),e.jsx("li",{children:e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-2 px-2 py-2",onClick:()=>c(!0),children:[e.jsx(hl,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"truncate text-left",children:"Verificao de E-mail"})]})}),e.jsx("li",{children:e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-2 px-2 py-2",onClick:()=>d(!0),children:[e.jsx(pl,{className:"h-4 w-4 text-teal-600"}),e.jsx("span",{className:"truncate text-left",children:"Ver Plano/Assinatura"})]})}),e.jsx("li",{children:e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-2 px-2 py-2",onClick:()=>m(!0),children:[e.jsx(Hr,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"whitespace-normal break-words text-left text-sm leading-tight",children:"Configuraes de Notificaes"})]})}),e.jsx("li",{children:e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-2 px-2 py-2",onClick:()=>v(!0),children:[e.jsx(is,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"truncate text-left",children:"Enviar Feedback"})]})}),e.jsx("li",{children:e.jsxs(R,{variant:"ghost",className:"w-full justify-start gap-2 px-2 py-2 hover:bg-red-100",onClick:()=>x(!0),children:[e.jsx(_t,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"truncate text-left",children:"Sair ou Excluir Conta"})]})})]})})]}),e.jsx(Vl,{open:s,onOpenChange:r,userId:t}),e.jsx(Hl,{open:a,onOpenChange:n}),e.jsx(Gl,{open:o,onOpenChange:c}),e.jsx(Wl,{open:l,onOpenChange:d}),e.jsx(ql,{open:u,onOpenChange:m}),e.jsx(Kl,{open:p,onOpenChange:x}),e.jsx($c,{open:y,onOpenChange:v})]})},Hx=({activeSection:t,onSectionChange:s,userId:r})=>{const a=[{id:"descobrir",label:"Descobrir",icon:le,anchor:"inicio"},{id:"consultoria",label:"Consultoria",icon:zf,anchor:"consultoria"},{id:"perfil",label:"Closet",icon:jt,anchor:"closet"}],n=(o,c)=>{s(o),setTimeout(()=>{const l=document.getElementById(c);l&&l.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)};return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-100 shadow-soft safe-area-bottom",children:e.jsxs("div",{className:"flex items-center justify-around h-16 px-2",children:[a.map(o=>{const c=t===o.id;return e.jsxs("button",{onClick:()=>n(o.id,o.anchor),className:`flex flex-col items-center justify-center space-y-1 px-2 py-2 rounded-xl transition-all duration-200 min-w-0 flex-1 touch-target
                ${c?"text-purple-dark font-semibold":"text-gray-500"}
              `,style:{backgroundColor:"transparent",color:c?"#4C1F4B":"#5E5E5E"},children:[e.jsx(o.icon,{className:`h-5 w-5 ${c?"text-purple-dark":""}`}),e.jsx("span",{className:"text-xs font-medium truncate",children:o.label})]},o.id)}),r&&e.jsx(Vx,{userId:r})]})})},Gx=({onSectionChange:t})=>e.jsx("section",{id:"inicio",className:"py-4 md:py-4 lg:py-4 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"text-center md:hidden",children:e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"title-primary mb-4 leading-tight text-center",children:["Transforme seu visual ",e.jsx("br",{}),e.jsx("span",{style:{background:"linear-gradient(135deg, #4C1F4B 0%, #A883B7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"com inteligncia artificial"})]}),e.jsx("p",{className:"subtitle mb-8 max-w-2xl mx-auto leading-relaxed",children:"Analise sua paleta de cores, encontre roupas perfeitas e transforme seu estilo com inteligncia artificial."})]})}),e.jsx("div",{className:"hidden md:flex",children:e.jsx("div",{className:"rounded-3xl p-12 flex flex-col justify-center items-center w-full min-h-[220px]",style:{background:"linear-gradient(135deg, #F3F0F3 0%, #E8D5E8 100%)"},children:e.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsxs("h1",{className:"title-primary mb-4 leading-tight text-center md:text-3xl whitespace-nowrap",children:["Transforme seu visual com",e.jsx("span",{style:{background:"linear-gradient(135deg, #4C1F4B 0%, #A883B7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"inteligncia artificial"})]}),e.jsx("p",{className:"subtitle max-w-2xl mx-auto text-center",children:"Analise sua paleta de cores, encontre roupas perfeitas e transforme seu estilo com inteligncia artificial."})]})})})]})});var ya,On="HoverCard",[Lc,gw]=Ft(On,[Dr]),Xr=Dr(),[Wx,Ln]=Lc(On),zc=t=>{const{__scopeHoverCard:s,children:r,open:a,defaultOpen:n,onOpenChange:o,openDelay:c=700,closeDelay:l=300}=t,d=Xr(s),u=i.useRef(0),m=i.useRef(0),p=i.useRef(!1),x=i.useRef(!1),[y=!1,v]=ct({prop:a,defaultProp:n,onChange:o}),f=i.useCallback(()=>{clearTimeout(m.current),u.current=window.setTimeout(()=>v(!0),c)},[c,v]),h=i.useCallback(()=>{clearTimeout(u.current),!p.current&&!x.current&&(m.current=window.setTimeout(()=>v(!1),l))},[l,v]),g=i.useCallback(()=>v(!1),[v]);return i.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(m.current)},[]),e.jsx(Wx,{scope:s,open:y,onOpenChange:v,onOpen:f,onClose:h,onDismiss:g,hasSelectionRef:p,isPointerDownOnContentRef:x,children:e.jsx(yi,{...d,children:r})})};zc.displayName=On;var Fc="HoverCardTrigger",Bc=i.forwardRef((t,s)=>{const{__scopeHoverCard:r,...a}=t,n=Ln(Fc,r),o=Xr(r);return e.jsx(hi,{asChild:!0,...o,children:e.jsx(de.a,{"data-state":n.open?"open":"closed",...a,ref:s,onPointerEnter:ne(t.onPointerEnter,Sr(n.onOpen)),onPointerLeave:ne(t.onPointerLeave,Sr(n.onClose)),onFocus:ne(t.onFocus,n.onOpen),onBlur:ne(t.onBlur,n.onClose),onTouchStart:ne(t.onTouchStart,c=>c.preventDefault())})})});Bc.displayName=Fc;var qx="HoverCardPortal",[vw,Kx]=Lc(qx,{forceMount:void 0}),Nr="HoverCardContent",Uc=i.forwardRef((t,s)=>{const r=Kx(Nr,t.__scopeHoverCard),{forceMount:a=r.forceMount,...n}=t,o=Ln(Nr,t.__scopeHoverCard);return e.jsx(Tr,{present:a||o.open,children:e.jsx(Yx,{"data-state":o.open?"open":"closed",...n,onPointerEnter:ne(t.onPointerEnter,Sr(o.onOpen)),onPointerLeave:ne(t.onPointerLeave,Sr(o.onClose)),ref:s})})});Uc.displayName=Nr;var Yx=i.forwardRef((t,s)=>{const{__scopeHoverCard:r,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:c,...l}=t,d=Ln(Nr,r),u=Xr(r),m=i.useRef(null),p=De(s,m),[x,y]=i.useState(!1);return i.useEffect(()=>{if(x){const v=document.body;return ya=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=ya,v.style.webkitUserSelect=ya}}},[x]),i.useEffect(()=>{if(m.current){const v=()=>{y(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var h;((h=document.getSelection())==null?void 0:h.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),i.useEffect(()=>{m.current&&Xx(m.current).forEach(f=>f.setAttribute("tabindex","-1"))}),e.jsx(gi,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:ne(o,v=>{v.preventDefault()}),onDismiss:d.onDismiss,children:e.jsx(vi,{...u,...l,onPointerDown:ne(l.onPointerDown,v=>{v.currentTarget.contains(v.target)&&y(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:p,style:{...l.style,userSelect:x?"text":void 0,WebkitUserSelect:x?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Zx="HoverCardArrow",Jx=i.forwardRef((t,s)=>{const{__scopeHoverCard:r,...a}=t,n=Xr(r);return e.jsx(bi,{...n,...a,ref:s})});Jx.displayName=Zx;function Sr(t){return s=>s.pointerType==="touch"?void 0:t()}function Xx(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)s.push(r.currentNode);return s}var Qx=zc,eg=Bc,Vc=Uc;const tg=Qx,sg=eg,Hc=i.forwardRef(({className:t,align:s="center",sideOffset:r=4,...a},n)=>e.jsx(Vc,{ref:n,align:s,sideOffset:r,className:K("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));Hc.displayName=Vc.displayName;const rg=({activeSection:t,onSectionChange:s,onSubSectionChange:r})=>{const a=[{id:"descobrir",title:"Descobrir",icon:$e,description:"Analise sua paleta e busque produtos",subItems:[{title:"Anlise de Paleta",description:"Descubra suas cores perfeitas",action:"palette",anchorId:"palette-section"},{title:"Buscar Produtos",description:"Encontre roupas ideais para voc",action:"search",anchorId:"search-section"},{title:"Recomendaes",description:"Sugestes personalizadas",action:"recommendations",anchorId:"recommendations-section"}]},{id:"consultoria",title:"Consultoria",icon:le,description:"IA personalizada e prova virtual",subItems:[{title:"Consultoria IA",description:"Conselhos personalizados de moda",action:"ai-advice",anchorId:"ai-advice-section"},{title:"Vesturio Virtual",description:"Veja como fica em voc",action:"try-on",anchorId:"try-on-section"},{title:"Explore seu Estilo",description:"Explore seu estilo",action:"style-analysis",anchorId:"style-analysis-section"}]},{id:"perfil",title:"Meu Closet",icon:Tn,description:"Seu arquivo pessoal de moda",subItems:[{title:"Paletas Salvas",description:"Suas anlises de cores salvas",action:"saved-palettes",anchorId:"saved-palettes-section"},{title:"Fotos Salvas",description:"Suas fotos organizadas",action:"photos",anchorId:"photos-section"},{title:"Consultorias Salvas",description:"Seus conselhos e anlises salvos",action:"saved-advice",anchorId:"saved-advice-section"},{title:"Lista de Desejos",description:"Produtos e inspiraes favoritas",action:"desejos",anchorId:"desejos-section"}]}],n=l=>{console.log("DEBUG: scrollToSection called with:",l);const d=document.getElementById(l);console.log("DEBUG: element found:",!!d),d&&d.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},o=(l,d,u,m)=>{l.preventDefault(),l.stopPropagation(),console.log(`DEBUG: Sub-item clicked: ${d} -> ${u} (${m})`),console.log("DEBUG: Changing section to:",d),s(d),setTimeout(()=>{m&&(console.log("DEBUG: Scrolling to:",m),n(m)),u&&r&&(console.log("DEBUG: Calling onSubSectionChange with:",d,u),r(d,u))},200)},c=l=>{console.log("DEBUG: Main menu clicked:",l),console.log("DEBUG: Current activeSection:",t),console.log("DEBUG: onSectionChange type:",typeof s);try{s(l),console.log("DEBUG: onSectionChange called successfully")}catch(d){console.error("DEBUG: Error calling onSectionChange:",d)}};return e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:a.map(l=>e.jsxs(tg,{children:[e.jsx(sg,{asChild:!0,children:e.jsxs("button",{className:`px-8 py-4 text-base font-medium transition-all duration-200 rounded-2xl flex items-center shadow-soft hover-lift ${t===l.id?"bg-gradient-to-r from-purple-dark to-purple-medium text-white shadow-card":"bg-white text-text-primary hover:bg-gray-50 border border-gray-100"}`,onClick:()=>c(l.id),children:[e.jsx(l.icon,{className:"h-5 w-5 mr-3"}),l.title]})}),e.jsx(Hc,{className:"w-80 z-50 rounded-2xl shadow-card border-gray-100",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(l.icon,{className:"h-4 w-4 mr-2 text-purple-medium"}),l.description]})}),e.jsx("div",{className:"space-y-2",children:l.subItems.map((d,u)=>e.jsxs("button",{className:"w-full p-3 rounded-xl border border-gray-100 hover:bg-purple-50 hover:border-purple-200 transition-all cursor-pointer text-left shadow-soft hover-lift",onClick:m=>o(m,l.id,d.action,d.anchorId),children:[e.jsx("div",{className:"font-medium text-text-primary text-sm mb-1",children:d.title}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]},u))})]})})]},l.id))})})},X=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:K("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));X.displayName="Card";const ye=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:K("flex flex-col space-y-1.5 p-6",t),...s}));ye.displayName="CardHeader";const je=i.forwardRef(({className:t,...s},r)=>e.jsx("h3",{ref:r,className:K("text-2xl font-semibold leading-none tracking-tight",t),...s}));je.displayName="CardTitle";const Gc=i.forwardRef(({className:t,...s},r)=>e.jsx("p",{ref:r,className:K("text-sm text-muted-foreground",t),...s}));Gc.displayName="CardDescription";const ee=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:K("p-6 pt-0",t),...s}));ee.displayName="CardContent";const Wc=i.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:K("flex items-center p-6 pt-0",t),...s}));Wc.displayName="CardFooter";const ag=({onSearchSelect:t})=>{const[s,r]=i.useState([]),[a,n]=i.useState(!1);i.useEffect(()=>{const u=JSON.parse(localStorage.getItem("searchHistory")||"[]");r(u.slice(0,8))},[]);const o=u=>{const m=s.filter(y=>y!==u);r(m);const x=JSON.parse(localStorage.getItem("searchHistory")||"[]").filter(y=>y!==u);localStorage.setItem("searchHistory",JSON.stringify(x))},c=()=>{r([]),localStorage.removeItem("searchHistory"),n(!1)},l=u=>u.includes("[Busca por imagem]")?"image":u.includes("[Busca por ocasio]")?"occasion":u.includes("[Busca por filtros]")?"filters":"text",d=u=>{switch(u){case"image":return"";case"occasion":return"";case"filters":return"";default:return""}};return s.length===0?null:e.jsxs("div",{className:"mb-4",children:[e.jsxs(R,{variant:"outline",onClick:()=>n(!a),className:"mb-2 text-sm w-full justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Histrico de Buscas (",s.length,")"]}),e.jsx(Wf,{className:"h-3 w-3"})]}),a&&e.jsx(X,{className:"border-purple-200 bg-purple-50/30",children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h4",{className:"font-medium text-purple-800",children:"Buscas Recentes"}),e.jsx(R,{variant:"ghost",size:"sm",onClick:c,className:"text-purple-600",children:"Limpar Tudo"})]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:s.map((u,m)=>{const p=l(u),x=u.replace(/\[.*?\]\s*/,"");return e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-purple-100 rounded-lg transition-colors",children:[e.jsxs("button",{onClick:()=>{t(u),n(!1)},className:"flex items-center space-x-3 text-left flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-base",children:d(p)}),e.jsx($e,{className:"h-3 w-3 text-purple-400"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-sm text-purple-800 block truncate",children:x}),p!=="text"&&e.jsxs(Ne,{variant:"secondary",className:"text-xs mt-1 bg-purple-200 text-purple-700",children:[p==="image"&&"Busca por Imagem",p==="occasion"&&"Por Ocasio",p==="filters"&&"Com Filtros"]})]})]}),e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>o(u),className:"ml-2 p-1 hover:bg-purple-200",children:e.jsx(Ee,{className:"h-3 w-3 text-purple-500"})})]},m)})}),e.jsx("div",{className:"mt-3 pt-3 border-t border-purple-200",children:e.jsx("p",{className:"text-xs text-purple-600 text-center",children:" Clique em qualquer busca para execut-la novamente"})})]})})]})},ng=[{id:"mercadolivre",name:"Mercado Livre",type:"api",baseUrl:"https://api.mercadolibre.com",enabled:!0,priority:1},{id:"amazon_br",name:"Amazon Brasil",type:"api",baseUrl:"https://amazon.com.br",enabled:!0,priority:2},{id:"dafiti",name:"Dafiti",type:"api",baseUrl:"https://dafiti.com.br",enabled:!0,priority:3},{id:"netshoes",name:"Netshoes",type:"api",baseUrl:"https://netshoes.com.br",enabled:!0,priority:4},{id:"renner",name:"Renner",type:"api",baseUrl:"https://renner.com.br",enabled:!0,priority:5},{id:"riachuelo",name:"Riachuelo",type:"api",baseUrl:"https://riachuelo.com.br",enabled:!0,priority:6},{id:"cea",name:"C&A",type:"api",baseUrl:"https://cea.com.br",enabled:!0,priority:7},{id:"zara",name:"Zara",type:"api",baseUrl:"https://zara.com/br",enabled:!0,priority:8},{id:"hm",name:"H&M",type:"api",baseUrl:"https://hm.com/br",enabled:!0,priority:9},{id:"forever21",name:"Forever 21",type:"api",baseUrl:"https://forever21.com",enabled:!0,priority:10},{id:"shein",name:"Shein",type:"api",baseUrl:"https://shein.com.br",enabled:!0,priority:11},{id:"google_shopping",name:"Google Shopping",type:"api",baseUrl:"https://shopping.google.com",enabled:!0,priority:12},{id:"farm",name:"Farm",type:"api",baseUrl:"https://farm.com.br",enabled:!0,priority:13},{id:"osklen",name:"Osklen",type:"api",baseUrl:"https://osklen.com",enabled:!0,priority:14},{id:"colcci",name:"Colcci",type:"api",baseUrl:"https://colcci.com.br",enabled:!0,priority:15}];class og{constructor(){Ge(this,"sources");this.sources=ng.filter(s=>s.enabled)}async searchProducts(s,r){const a=[];for(const n of this.sources)try{const o=await this.searchFromSource(n,s,r);a.push(...o)}catch(o){console.error(`Erro ao buscar de ${n.name}:`,o)}return this.rankProducts(a,s)}async searchFromSource(s,r,a){switch(s.id){case"mercadolivre":return this.searchMercadoLivre(r,a);case"amazon_br":return this.searchAmazon(r,a);case"dafiti":return this.searchDafiti(r,a);case"zara":return this.searchZara(r,a);case"hm":return this.searchHM(r,a);case"google_shopping":return this.searchGoogleShopping(r,a);default:return this.searchGeneric(s,r,a)}}async searchMercadoLivre(s,r){var a;try{return((a=(await(await fetch(`https://api.mercadolibre.com/sites/MLB/search?q=${encodeURIComponent(s)}&limit=50`)).json()).results)==null?void 0:a.map(c=>{var l,d,u,m,p,x,y,v,f,h,g,b,w;return{id:`ml_${c.id}`,name:c.title,description:c.condition,price:c.price,originalPrice:c.original_price,brand:((d=(l=c.seller)==null?void 0:l.eshop)==null?void 0:d.nick_name)||"Mercado Livre",image_url:c.thumbnail,url:c.permalink,category:c.category_id,color:(m=(u=c.attributes)==null?void 0:u.find(N=>N.id==="COLOR"))==null?void 0:m.value_name,size:(x=(p=c.attributes)==null?void 0:p.find(N=>N.id==="SIZE"))==null?void 0:x.value_name,in_stock:c.available_quantity>0,rating:(h=(f=(v=(y=c.seller)==null?void 0:y.seller_reputation)==null?void 0:v.transactions)==null?void 0:f.ratings)==null?void 0:h.average,reviews_count:(w=(b=(g=c.seller)==null?void 0:g.seller_reputation)==null?void 0:b.transactions)==null?void 0:w.total,source:"mercadolivre",source_id:c.id,data:c}}))||[]}catch(n){return console.error("Erro ao buscar no Mercado Livre:",n),[]}}async searchAmazon(s,r){try{const a=await fetch(`https://amazon.com.br/s?k=${encodeURIComponent(s)}&i=fashion`);return[]}catch(a){return console.error("Erro ao buscar na Amazon:",a),[]}}async searchDafiti(s,r){try{const a=await fetch(`https://dafiti.com.br/catalog/?q=${encodeURIComponent(s)}`);return[]}catch(a){return console.error("Erro ao buscar na Dafiti:",a),[]}}async searchZara(s,r){try{const a=await fetch(`https://zara.com/br/search?searchTerm=${encodeURIComponent(s)}`);return[]}catch(a){return console.error("Erro ao buscar na Zara:",a),[]}}async searchHM(s,r){try{const a=await fetch(`https://hm.com/br/search?q=${encodeURIComponent(s)}`);return[]}catch(a){return console.error("Erro ao buscar na H&M:",a),[]}}async searchGoogleShopping(s,r){try{const a=await fetch(`https://shopping.google.com/search?q=${encodeURIComponent(s)}&tbm=shop`);return[]}catch(a){return console.error("Erro ao buscar no Google Shopping:",a),[]}}async searchGeneric(s,r,a){try{const n=await fetch(`${s.baseUrl}/search?q=${encodeURIComponent(r)}`);return[]}catch(n){return console.error(`Erro ao buscar em ${s.name}:`,n),[]}}rankProducts(s,r){return s.sort((a,n)=>{const o=this.calculateRelevanceScore(a,r);return this.calculateRelevanceScore(n,r)-o})}calculateRelevanceScore(s,r){var o;let a=0;const n=r.toLowerCase();return s.name.toLowerCase().includes(n)&&(a+=10),(o=s.description)!=null&&o.toLowerCase().includes(n)&&(a+=5),s.category.toLowerCase().includes(n)&&(a+=3),s.price<100?a+=2:s.price<200&&(a+=1),s.rating&&s.rating>4&&(a+=2),s.in_stock&&(a+=1),a}async saveProducts(s){try{const{error:r}=await ie.from("products").upsert(s,{onConflict:"id"});r&&console.error("Erro ao salvar produtos:",r)}catch(r){console.error("Erro ao salvar produtos:",r)}}async syncAllSources(){console.log("Iniciando sincronizao de todas as fontes...");for(const s of this.sources)try{console.log(`Sincronizando ${s.name}...`),await this.syncSource(s)}catch(r){console.error(`Erro ao sincronizar ${s.name}:`,r)}}async syncSource(s){s.lastSync=new Date}}const To=new og;function ig(){const[t,s]=i.useState([]),[r,a]=i.useState(!1),[n,o]=i.useState(null),[c,l]=i.useState(!0),[d,u]=i.useState(0),[m,p]=i.useState(""),[x,y]=i.useState({}),v=20,f=i.useCallback(async(C,j={})=>{if(!C.trim()){s([]);return}a(!0),o(null),u(0);try{let E=await N(C,j);if(E.length<10){console.log("Poucos produtos locais, buscando em APIs externas...");const A=await To.searchProducts(C,j),M=[...E,...A],S=T(M);A.length>0&&await To.saveProducts(A),E=S}s(E.slice(0,v)),l(E.length>v),p(C),y(j)}catch(E){o(E instanceof Error?E.message:"Erro ao buscar produtos"),s([])}finally{a(!1)}},[]),h=i.useCallback(async C=>{await f(`categoria:${C}`,{category:C})},[f]),g=i.useCallback(async C=>{await f(`marca:${C}`,{brand:C})},[f]),b=i.useCallback(()=>{s([]),o(null),u(0),l(!0)},[]),w=i.useCallback(async()=>{if(!(r||!c||!m)){a(!0);try{const C=d+1,j=C*v,E=await N(m,x,j,v);E.length>0?(s(A=>[...A,...E]),u(C),l(E.length===v)):l(!1)}catch(C){o(C instanceof Error?C.message:"Erro ao carregar mais produtos")}finally{a(!1)}}},[r,c,m,d,x]),N=async(C,j={},E=0,A=v)=>{let M=ie.from("products").select("*").range(E,E+A-1);j.category&&(M=M.ilike("category",`%${j.category}%`)),j.brand&&(M=M.ilike("brand",`%${j.brand}%`)),j.priceRange&&(M=M.gte("price",j.priceRange[0]).lte("price",j.priceRange[1])),j.inStock!==void 0&&(M=M.eq("in_stock",j.inStock)),C&&!C.startsWith("categoria:")&&!C.startsWith("marca:")&&(M=M.or(`name.ilike.%${C}%,description.ilike.%${C}%,category.ilike.%${C}%`));const{data:S,error:P}=await M;return P?(console.error("Erro ao buscar no banco local:",P),[]):(S||[]).map(I=>({...I,source:I.source||"local",source_id:I.source_id||I.id}))},T=C=>{const j=new Set;return C.filter(E=>{const A=`${E.source}_${E.source_id}`;return j.has(A)?!1:(j.add(A),!0)})};return{products:t,loading:r,error:n,search:f,searchByCategory:h,searchByBrand:g,clearResults:b,hasMore:c,loadMore:w}}const lg=sp,cg=rp,dg=i.forwardRef(({className:t,inset:s,children:r,...a},n)=>e.jsxs(ji,{ref:n,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[r,e.jsx(Uf,{className:"ml-auto h-4 w-4"})]}));dg.displayName=ji.displayName;const ug=i.forwardRef(({className:t,...s},r)=>e.jsx(wi,{ref:r,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));ug.displayName=wi.displayName;const qc=i.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(tp,{children:e.jsx(Ni,{ref:a,sideOffset:s,className:K("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));qc.displayName=Ni.displayName;const fr=i.forwardRef(({className:t,inset:s,...r},a)=>e.jsx(Si,{ref:a,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...r}));fr.displayName=Si.displayName;const mg=i.forwardRef(({className:t,children:s,checked:r,...a},n)=>e.jsxs(Ci,{ref:n,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ei,{children:e.jsx(dt,{className:"h-4 w-4"})})}),s]}));mg.displayName=Ci.displayName;const pg=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(ki,{ref:a,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Ei,{children:e.jsx(ml,{className:"h-2 w-2 fill-current"})})}),s]}));pg.displayName=ki.displayName;const fg=i.forwardRef(({className:t,inset:s,...r},a)=>e.jsx(Pi,{ref:a,className:K("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...r}));fg.displayName=Pi.displayName;const hg=i.forwardRef(({className:t,...s},r)=>e.jsx(Ti,{ref:r,className:K("-mx-1 my-1 h-px bg-muted",t),...s}));hg.displayName=Ti.displayName;const xg=({product:t,inlineEdit:s=!1})=>{const[r,a]=i.useState(null),[n,o]=i.useState(""),[c,l]=i.useState(!1),{toast:d}=ge(),u=i.useRef(null);i.useEffect(()=>{const f=JSON.parse(localStorage.getItem("favorites_v2")||"{}")[t.id];a((f==null?void 0:f.type)||null),o((f==null?void 0:f.customName)??t.name??""),l(!!(f!=null&&f.type))},[t.id,t.name]);const m=v=>{var h;const f=JSON.parse(localStorage.getItem("favorites_v2")||"{}");v?(f[t.id]={type:v,customName:((h=f[t.id])==null?void 0:h.customName)||t.name||""},localStorage.setItem("favorites_v2",JSON.stringify(f)),a(v),o(f[t.id].customName||t.name||""),l(!0),setTimeout(()=>{var g;return(g=u.current)==null?void 0:g.focus()},150),d({title:v==="gostei"?"Adicionado como 'Gostei'":"Adicionado como 'Quero comprar'",description:v==="gostei"?"Produto salvo na seo Gostei":"Produto salvo em Quero comprar"})):(delete f[t.id],localStorage.setItem("favorites_v2",JSON.stringify(f)),a(null),o(""),l(!1),d({title:"Removido dos favoritos",description:"Produto removido das suas opes"}),window.dispatchEvent(new Event("favorites-updated"))),window.dispatchEvent(new Event("favorites-updated"))},p=v=>{o(v);const f=JSON.parse(localStorage.getItem("favorites_v2")||"{}");f[t.id]&&(f[t.id].customName=v.trim()||t.name||"",localStorage.setItem("favorites_v2",JSON.stringify(f)),window.dispatchEvent(new Event("favorites-updated")))},x=v=>{p(v.target.value)},y=v=>{var f;v.key==="Enter"&&(p(v.target.value),(f=u.current)==null||f.blur())};return s?e.jsxs("div",{className:"flex flex-col items-start space-y-1 w-full",children:[e.jsxs("div",{className:"flex gap-2 mb-1",children:[e.jsx(R,{type:"button",variant:r==="gostei"?"secondary":"ghost",size:"sm",className:`h-6 text-xs px-2 ${r==="gostei"?"bg-blue-500 text-white hover:bg-blue-600":""}`,onClick:()=>m(r==="gostei"?null:"gostei"),"aria-pressed":r==="gostei",children:"Gostei"}),e.jsx(R,{type:"button",variant:r==="quero_comprar"?"secondary":"ghost",size:"sm",className:`h-6 text-xs px-2 ${r==="quero_comprar"?"bg-green-500 text-white hover:bg-green-600":""}`,onClick:()=>m(r==="quero_comprar"?null:"quero_comprar"),"aria-pressed":r==="quero_comprar",children:"Quero comprar"})]}),r&&e.jsx(pe,{ref:u,type:"text",maxLength:32,className:"w-full text-xs py-1 px-2 border rounded bg-gray-50 focus:bg-white",placeholder:"Nome personalizado (opcional)",value:n,onBlur:x,onChange:v=>o(v.target.value),onKeyDown:y,"aria-label":"Editar nome do favorito",style:{fontSize:13,marginTop:4}})]}):e.jsxs(lg,{children:[e.jsx(cg,{asChild:!0,children:e.jsx(R,{variant:"ghost",size:"sm",children:e.jsx(Pn,{className:`h-4 w-4 transition-colors ${r?"fill-current":""}`})})}),e.jsxs(qc,{side:"bottom",align:"start",className:"z-50 bg-white",children:[e.jsxs(fr,{onClick:()=>m("gostei"),className:r==="gostei"?"font-bold text-yellow-600":"",children:[r==="gostei"&&e.jsx("span",{className:"mr-2",children:""}),"Gostei"]}),e.jsxs(fr,{onClick:()=>m("quero_comprar"),className:r==="quero_comprar"?"font-bold text-pink-600":"",children:[r==="quero_comprar"&&e.jsx("span",{className:"mr-2",children:""}),"Quero comprar"]}),r!==null&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t my-2"}),e.jsx("div",{className:"px-2 pb-2 w-full",children:e.jsx(pe,{ref:u,type:"text",maxLength:32,className:"w-full text-xs py-1 px-2 border rounded shadow-none bg-gray-50 focus:bg-white",placeholder:"Nome personalizado (opcional)",value:n,onBlur:x,onChange:v=>o(v.target.value),onKeyDown:y,style:{fontSize:13}})}),e.jsx(fr,{onClick:()=>m(null),className:"text-gray-500",children:"Remover opo"})]})]})]})};function it(t,s,{checkForDefaultPrevented:r=!0}={}){return function(n){if(t==null||t(n),r===!1||!n.defaultPrevented)return s==null?void 0:s(n)}}function Ro(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Kc(...t){return s=>{let r=!1;const a=t.map(n=>{const o=Ro(n,s);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let n=0;n<a.length;n++){const o=a[n];typeof o=="function"?o():Ro(t[n],null)}}}}function Ut(...t){return i.useCallback(Kc(...t),t)}function Yc(t,s=[]){let r=[];function a(o,c){const l=i.createContext(c),d=r.length;r=[...r,c];const u=p=>{var g;const{scope:x,children:y,...v}=p,f=((g=x==null?void 0:x[t])==null?void 0:g[d])||l,h=i.useMemo(()=>v,Object.values(v));return e.jsx(f.Provider,{value:h,children:y})};u.displayName=o+"Provider";function m(p,x){var f;const y=((f=x==null?void 0:x[t])==null?void 0:f[d])||l,v=i.useContext(y);if(v)return v;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[u,m]}const n=()=>{const o=r.map(c=>i.createContext(c));return function(l){const d=(l==null?void 0:l[t])||o;return i.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return n.scopeName=t,[a,gg(n,...s)]}function gg(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const c=a.reduce((l,{useScope:d,scopeName:u})=>{const p=d(o)[`__scope${u}`];return{...l,...p}},{});return i.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return r.scopeName=s.scopeName,r}function vg(t){const s=bg(t),r=i.forwardRef((a,n)=>{const{children:o,...c}=a,l=i.Children.toArray(o),d=l.find(jg);if(d){const u=d.props.children,m=l.map(p=>p===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:p);return e.jsx(s,{...c,ref:n,children:i.isValidElement(u)?i.cloneElement(u,void 0,m):null})}return e.jsx(s,{...c,ref:n,children:o})});return r.displayName=`${t}.Slot`,r}function bg(t){const s=i.forwardRef((r,a)=>{const{children:n,...o}=r;if(i.isValidElement(n)){const c=Ng(n),l=wg(o,n.props);return n.type!==i.Fragment&&(l.ref=a?Kc(a,c):c),i.cloneElement(n,l)}return i.Children.count(n)>1?i.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Zc=Symbol("radix.slottable");function yg(t){const s=({children:r})=>e.jsx(e.Fragment,{children:r});return s.displayName=`${t}.Slottable`,s.__radixId=Zc,s}function jg(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zc}function wg(t,s){const r={...s};for(const a in s){const n=t[a],o=s[a];/^on[A-Z]/.test(a)?n&&o?r[a]=(...l)=>{const d=o(...l);return n(...l),d}:n&&(r[a]=n):a==="style"?r[a]={...n,...o}:a==="className"&&(r[a]=[n,o].filter(Boolean).join(" "))}return{...t,...r}}function Ng(t){var a,n;let s=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Sg=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vt=Sg.reduce((t,s)=>{const r=vg(`Primitive.${s}`),a=i.forwardRef((n,o)=>{const{asChild:c,...l}=n,d=c?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...l,ref:o})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{});function Cg(t,s){t&&Bt.flushSync(()=>t.dispatchEvent(s))}function Qr(t){const s=i.useRef(t);return i.useEffect(()=>{s.current=t}),i.useMemo(()=>(...r)=>{var a;return(a=s.current)==null?void 0:a.call(s,...r)},[])}function Eg(t,s=globalThis==null?void 0:globalThis.document){const r=Qr(t);i.useEffect(()=>{const a=n=>{n.key==="Escape"&&r(n)};return s.addEventListener("keydown",a,{capture:!0}),()=>s.removeEventListener("keydown",a,{capture:!0})},[r,s])}var kg="DismissableLayer",Za="dismissableLayer.update",Pg="dismissableLayer.pointerDownOutside",Tg="dismissableLayer.focusOutside",Ao,Jc=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xc=i.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:c,onDismiss:l,...d}=t,u=i.useContext(Jc),[m,p]=i.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=i.useState({}),v=Ut(s,j=>p(j)),f=Array.from(u.layers),[h]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=f.indexOf(h),b=m?f.indexOf(m):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=g,T=Ig(j=>{const E=j.target,A=[...u.branches].some(M=>M.contains(E));!N||A||(n==null||n(j),c==null||c(j),j.defaultPrevented||l==null||l())},x),C=_g(j=>{const E=j.target;[...u.branches].some(M=>M.contains(E))||(o==null||o(j),c==null||c(j),j.defaultPrevented||l==null||l())},x);return Eg(j=>{b===u.layers.size-1&&(a==null||a(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},x),i.useEffect(()=>{if(m)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ao=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),Io(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Ao)}},[m,x,r,u]),i.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),Io())},[m,u]),i.useEffect(()=>{const j=()=>y({});return document.addEventListener(Za,j),()=>document.removeEventListener(Za,j)},[]),e.jsx(Vt.div,{...d,ref:v,style:{pointerEvents:w?N?"auto":"none":void 0,...t.style},onFocusCapture:it(t.onFocusCapture,C.onFocusCapture),onBlurCapture:it(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:it(t.onPointerDownCapture,T.onPointerDownCapture)})});Xc.displayName=kg;var Rg="DismissableLayerBranch",Ag=i.forwardRef((t,s)=>{const r=i.useContext(Jc),a=i.useRef(null),n=Ut(s,a);return i.useEffect(()=>{const o=a.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),e.jsx(Vt.div,{...t,ref:n})});Ag.displayName=Rg;function Ig(t,s=globalThis==null?void 0:globalThis.document){const r=Qr(t),a=i.useRef(!1),n=i.useRef(()=>{});return i.useEffect(()=>{const o=l=>{if(l.target&&!a.current){let d=function(){Qc(Pg,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",n.current),n.current=d,s.addEventListener("click",n.current,{once:!0})):d()}else s.removeEventListener("click",n.current);a.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",o),s.removeEventListener("click",n.current)}},[s,r]),{onPointerDownCapture:()=>a.current=!0}}function _g(t,s=globalThis==null?void 0:globalThis.document){const r=Qr(t),a=i.useRef(!1);return i.useEffect(()=>{const n=o=>{o.target&&!a.current&&Qc(Tg,r,{originalEvent:o},{discrete:!1})};return s.addEventListener("focusin",n),()=>s.removeEventListener("focusin",n)},[s,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Io(){const t=new CustomEvent(Za);document.dispatchEvent(t)}function Qc(t,s,r,{discrete:a}){const n=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&n.addEventListener(t,s,{once:!0}),a?Cg(n,o):n.dispatchEvent(o)}var Mt=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Dg=Hs[" useId ".trim().toString()]||(()=>{}),Mg=0;function $g(t){const[s,r]=i.useState(Dg());return Mt(()=>{r(a=>a??String(Mg++))},[t]),s?`radix-${s}`:""}var Og="Arrow",ed=i.forwardRef((t,s)=>{const{children:r,width:a=10,height:n=5,...o}=t;return e.jsx(Vt.svg,{...o,ref:s,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});ed.displayName=Og;var Lg=ed;function zg(t){const[s,r]=i.useState(void 0);return Mt(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const o=n[0];let c,l;if("borderBoxSize"in o){const d=o.borderBoxSize,u=Array.isArray(d)?d[0]:d;c=u.inlineSize,l=u.blockSize}else c=t.offsetWidth,l=t.offsetHeight;r({width:c,height:l})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else r(void 0)},[t]),s}var zn="Popper",[td,sd]=Yc(zn),[Fg,rd]=td(zn),ad=t=>{const{__scopePopper:s,children:r}=t,[a,n]=i.useState(null);return e.jsx(Fg,{scope:s,anchor:a,onAnchorChange:n,children:r})};ad.displayName=zn;var nd="PopperAnchor",od=i.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:a,...n}=t,o=rd(nd,r),c=i.useRef(null),l=Ut(s,c);return i.useEffect(()=>{o.onAnchorChange((a==null?void 0:a.current)||c.current)}),a?null:e.jsx(Vt.div,{...n,ref:l})});od.displayName=nd;var Fn="PopperContent",[Bg,Ug]=td(Fn),id=i.forwardRef((t,s)=>{var L,Z,ae,se,te,F;const{__scopePopper:r,side:a="bottom",sideOffset:n=0,align:o="center",alignOffset:c=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:v,...f}=t,h=rd(Fn,r),[g,b]=i.useState(null),w=Ut(s,q=>b(q)),[N,T]=i.useState(null),C=zg(N),j=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,A=a+(o!=="center"?"-"+o:""),M=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},S=Array.isArray(u)?u:[u],P=S.length>0,I={padding:M,boundary:S.filter(Hg),altBoundary:P},{refs:_,floatingStyles:k,placement:$,isPositioned:O,middlewareData:z}=ap({strategy:"fixed",placement:A,whileElementsMounted:(...q)=>np(...q,{animationFrame:y==="always"}),elements:{reference:h.anchor},middleware:[op({mainAxis:n+E,alignmentAxis:c}),d&&ip({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?mp():void 0,...I}),d&&lp({...I}),cp({...I,apply:({elements:q,rects:ce,availableWidth:ve,availableHeight:Ce})=>{const{width:Ie,height:He}=ce.reference,ke=q.floating.style;ke.setProperty("--radix-popper-available-width",`${ve}px`),ke.setProperty("--radix-popper-available-height",`${Ce}px`),ke.setProperty("--radix-popper-anchor-width",`${Ie}px`),ke.setProperty("--radix-popper-anchor-height",`${He}px`)}}),N&&dp({element:N,padding:l}),Gg({arrowWidth:j,arrowHeight:E}),x&&up({strategy:"referenceHidden",...I})]}),[J,H]=dd($),B=Qr(v);Mt(()=>{O&&(B==null||B())},[O,B]);const D=(L=z.arrow)==null?void 0:L.x,U=(Z=z.arrow)==null?void 0:Z.y,Y=((ae=z.arrow)==null?void 0:ae.centerOffset)!==0,[G,W]=i.useState();return Mt(()=>{g&&W(window.getComputedStyle(g).zIndex)},[g]),e.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:O?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(se=z.transformOrigin)==null?void 0:se.x,(te=z.transformOrigin)==null?void 0:te.y].join(" "),...((F=z.hide)==null?void 0:F.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Bg,{scope:r,placedSide:J,onArrowChange:T,arrowX:D,arrowY:U,shouldHideArrow:Y,children:e.jsx(Vt.div,{"data-side":J,"data-align":H,...f,ref:w,style:{...f.style,animation:O?void 0:"none"}})})})});id.displayName=Fn;var ld="PopperArrow",Vg={top:"bottom",right:"left",bottom:"top",left:"right"},cd=i.forwardRef(function(s,r){const{__scopePopper:a,...n}=s,o=Ug(ld,a),c=Vg[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(Lg,{...n,ref:r,style:{...n.style,display:"block"}})})});cd.displayName=ld;function Hg(t){return t!==null}var Gg=t=>({name:"transformOrigin",options:t,fn(s){var h,g,b;const{placement:r,rects:a,middlewareData:n}=s,c=((h=n.arrow)==null?void 0:h.centerOffset)!==0,l=c?0:t.arrowWidth,d=c?0:t.arrowHeight,[u,m]=dd(r),p={start:"0%",center:"50%",end:"100%"}[m],x=(((g=n.arrow)==null?void 0:g.x)??0)+l/2,y=(((b=n.arrow)==null?void 0:b.y)??0)+d/2;let v="",f="";return u==="bottom"?(v=c?p:`${x}px`,f=`${-d}px`):u==="top"?(v=c?p:`${x}px`,f=`${a.floating.height+d}px`):u==="right"?(v=`${-d}px`,f=c?p:`${y}px`):u==="left"&&(v=`${a.floating.width+d}px`,f=c?p:`${y}px`),{data:{x:v,y:f}}}});function dd(t){const[s,r="center"]=t.split("-");return[s,r]}var Wg=ad,qg=od,Kg=id,Yg=cd;function Zg(t,s){return i.useReducer((r,a)=>s[r][a]??r,t)}var ud=t=>{const{present:s,children:r}=t,a=Jg(s),n=typeof r=="function"?r({present:a.isPresent}):i.Children.only(r),o=Ut(a.ref,Xg(n));return typeof r=="function"||a.isPresent?i.cloneElement(n,{ref:o}):null};ud.displayName="Presence";function Jg(t){const[s,r]=i.useState(),a=i.useRef(null),n=i.useRef(t),o=i.useRef("none"),c=t?"mounted":"unmounted",[l,d]=Zg(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const u=tr(a.current);o.current=l==="mounted"?u:"none"},[l]),Mt(()=>{const u=a.current,m=n.current;if(m!==t){const x=o.current,y=tr(u);t?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(m&&x!==y?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,d]),Mt(()=>{if(s){let u;const m=s.ownerDocument.defaultView??window,p=y=>{const f=tr(a.current).includes(y.animationName);if(y.target===s&&f&&(d("ANIMATION_END"),!n.current)){const h=s.style.animationFillMode;s.style.animationFillMode="forwards",u=m.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=h)})}},x=y=>{y.target===s&&(o.current=tr(a.current))};return s.addEventListener("animationstart",x),s.addEventListener("animationcancel",p),s.addEventListener("animationend",p),()=>{m.clearTimeout(u),s.removeEventListener("animationstart",x),s.removeEventListener("animationcancel",p),s.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:i.useCallback(u=>{a.current=u?getComputedStyle(u):null,r(u)},[])}}function tr(t){return(t==null?void 0:t.animationName)||"none"}function Xg(t){var a,n;let s=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Qg=Hs[" useInsertionEffect ".trim().toString()]||Mt;function ev({prop:t,defaultProp:s,onChange:r=()=>{},caller:a}){const[n,o,c]=tv({defaultProp:s,onChange:r}),l=t!==void 0,d=l?t:n;{const m=i.useRef(t!==void 0);i.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${a} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,a])}const u=i.useCallback(m=>{var p;if(l){const x=sv(m)?m(t):m;x!==t&&((p=c.current)==null||p.call(c,x))}else o(m)},[l,t,o,c]);return[d,u]}function tv({defaultProp:t,onChange:s}){const[r,a]=i.useState(t),n=i.useRef(r),o=i.useRef(s);return Qg(()=>{o.current=s},[s]),i.useEffect(()=>{var c;n.current!==r&&((c=o.current)==null||c.call(o,r),n.current=r)},[r,n]),[r,a,o]}function sv(t){return typeof t=="function"}var rv=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),av="VisuallyHidden",md=i.forwardRef((t,s)=>e.jsx(Vt.span,{...t,ref:s,style:{...rv,...t.style}}));md.displayName=av;var nv=md,[ea,bw]=Yc("Tooltip",[sd]),ta=sd(),pd="TooltipProvider",ov=700,Ja="tooltip.open",[iv,Bn]=ea(pd),fd=t=>{const{__scopeTooltip:s,delayDuration:r=ov,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:o}=t,c=i.useRef(!0),l=i.useRef(!1),d=i.useRef(0);return i.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),e.jsx(iv,{scope:s,isOpenDelayedRef:c,delayDuration:r,onOpen:i.useCallback(()=>{window.clearTimeout(d.current),c.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:i.useCallback(u=>{l.current=u},[]),disableHoverableContent:n,children:o})};fd.displayName=pd;var Os="Tooltip",[lv,sa]=ea(Os),hd=t=>{const{__scopeTooltip:s,children:r,open:a,defaultOpen:n,onOpenChange:o,disableHoverableContent:c,delayDuration:l}=t,d=Bn(Os,t.__scopeTooltip),u=ta(s),[m,p]=i.useState(null),x=$g(),y=i.useRef(0),v=c??d.disableHoverableContent,f=l??d.delayDuration,h=i.useRef(!1),[g,b]=ev({prop:a,defaultProp:n??!1,onChange:j=>{j?(d.onOpen(),document.dispatchEvent(new CustomEvent(Ja))):d.onClose(),o==null||o(j)},caller:Os}),w=i.useMemo(()=>g?h.current?"delayed-open":"instant-open":"closed",[g]),N=i.useCallback(()=>{window.clearTimeout(y.current),y.current=0,h.current=!1,b(!0)},[b]),T=i.useCallback(()=>{window.clearTimeout(y.current),y.current=0,b(!1)},[b]),C=i.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{h.current=!0,b(!0),y.current=0},f)},[f,b]);return i.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),e.jsx(Wg,{...u,children:e.jsx(lv,{scope:s,contentId:x,open:g,stateAttribute:w,trigger:m,onTriggerChange:p,onTriggerEnter:i.useCallback(()=>{d.isOpenDelayedRef.current?C():N()},[d.isOpenDelayedRef,C,N]),onTriggerLeave:i.useCallback(()=>{v?T():(window.clearTimeout(y.current),y.current=0)},[T,v]),onOpen:N,onClose:T,disableHoverableContent:v,children:r})})};hd.displayName=Os;var Xa="TooltipTrigger",xd=i.forwardRef((t,s)=>{const{__scopeTooltip:r,...a}=t,n=sa(Xa,r),o=Bn(Xa,r),c=ta(r),l=i.useRef(null),d=Ut(s,l,n.onTriggerChange),u=i.useRef(!1),m=i.useRef(!1),p=i.useCallback(()=>u.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),e.jsx(qg,{asChild:!0,...c,children:e.jsx(Vt.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:d,onPointerMove:it(t.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),m.current=!0)}),onPointerLeave:it(t.onPointerLeave,()=>{n.onTriggerLeave(),m.current=!1}),onPointerDown:it(t.onPointerDown,()=>{n.open&&n.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:it(t.onFocus,()=>{u.current||n.onOpen()}),onBlur:it(t.onBlur,n.onClose),onClick:it(t.onClick,n.onClose)})})});xd.displayName=Xa;var cv="TooltipPortal",[yw,dv]=ea(cv,{forceMount:void 0}),ls="TooltipContent",gd=i.forwardRef((t,s)=>{const r=dv(ls,t.__scopeTooltip),{forceMount:a=r.forceMount,side:n="top",...o}=t,c=sa(ls,t.__scopeTooltip);return e.jsx(ud,{present:a||c.open,children:c.disableHoverableContent?e.jsx(vd,{side:n,...o,ref:s}):e.jsx(uv,{side:n,...o,ref:s})})}),uv=i.forwardRef((t,s)=>{const r=sa(ls,t.__scopeTooltip),a=Bn(ls,t.__scopeTooltip),n=i.useRef(null),o=Ut(s,n),[c,l]=i.useState(null),{trigger:d,onClose:u}=r,m=n.current,{onPointerInTransitChange:p}=a,x=i.useCallback(()=>{l(null),p(!1)},[p]),y=i.useCallback((v,f)=>{const h=v.currentTarget,g={x:v.clientX,y:v.clientY},b=xv(g,h.getBoundingClientRect()),w=gv(g,b),N=vv(f.getBoundingClientRect()),T=yv([...w,...N]);l(T),p(!0)},[p]);return i.useEffect(()=>()=>x(),[x]),i.useEffect(()=>{if(d&&m){const v=h=>y(h,m),f=h=>y(h,d);return d.addEventListener("pointerleave",v),m.addEventListener("pointerleave",f),()=>{d.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",f)}}},[d,m,y,x]),i.useEffect(()=>{if(c){const v=f=>{const h=f.target,g={x:f.clientX,y:f.clientY},b=(d==null?void 0:d.contains(h))||(m==null?void 0:m.contains(h)),w=!bv(g,c);b?x():w&&(x(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,m,c,u,x]),e.jsx(vd,{...t,ref:o})}),[mv,pv]=ea(Os,{isInside:!1}),fv=yg("TooltipContent"),vd=i.forwardRef((t,s)=>{const{__scopeTooltip:r,children:a,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:c,...l}=t,d=sa(ls,r),u=ta(r),{onClose:m}=d;return i.useEffect(()=>(document.addEventListener(Ja,m),()=>document.removeEventListener(Ja,m)),[m]),i.useEffect(()=>{if(d.trigger){const p=x=>{const y=x.target;y!=null&&y.contains(d.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,m]),e.jsx(Xc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:e.jsxs(Kg,{"data-state":d.stateAttribute,...u,...l,ref:s,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(fv,{children:a}),e.jsx(mv,{scope:r,isInside:!0,children:e.jsx(nv,{id:d.contentId,role:"tooltip",children:n||a})})]})})});gd.displayName=ls;var bd="TooltipArrow",hv=i.forwardRef((t,s)=>{const{__scopeTooltip:r,...a}=t,n=ta(r);return pv(bd,r).isInside?null:e.jsx(Yg,{...n,...a,ref:s})});hv.displayName=bd;function xv(t,s){const r=Math.abs(s.top-t.y),a=Math.abs(s.bottom-t.y),n=Math.abs(s.right-t.x),o=Math.abs(s.left-t.x);switch(Math.min(r,a,n,o)){case o:return"left";case n:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function gv(t,s,r=5){const a=[];switch(s){case"top":a.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":a.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":a.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":a.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return a}function vv(t){const{top:s,right:r,bottom:a,left:n}=t;return[{x:n,y:s},{x:r,y:s},{x:r,y:a},{x:n,y:a}]}function bv(t,s){const{x:r,y:a}=t;let n=!1;for(let o=0,c=s.length-1;o<s.length;c=o++){const l=s[o],d=s[c],u=l.x,m=l.y,p=d.x,x=d.y;m>a!=x>a&&r<(p-u)*(a-m)/(x-m)+u&&(n=!n)}return n}function yv(t){const s=t.slice();return s.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),jv(s)}function jv(t){if(t.length<=1)return t.slice();const s=[];for(let a=0;a<t.length;a++){const n=t[a];for(;s.length>=2;){const o=s[s.length-1],c=s[s.length-2];if((o.x-c.x)*(n.y-c.y)>=(o.y-c.y)*(n.x-c.x))s.pop();else break}s.push(n)}s.pop();const r=[];for(let a=t.length-1;a>=0;a--){const n=t[a];for(;r.length>=2;){const o=r[r.length-1],c=r[r.length-2];if((o.x-c.x)*(n.y-c.y)>=(o.y-c.y)*(n.x-c.x))r.pop();else break}r.push(n)}return r.pop(),s.length===1&&r.length===1&&s[0].x===r[0].x&&s[0].y===r[0].y?s:s.concat(r)}var wv=fd,Nv=hd,Sv=xd,yd=gd;const _o=wv,Do=Nv,Mo=Sv,Qa=i.forwardRef(({className:t,sideOffset:s=4,...r},a)=>e.jsx(yd,{ref:a,sideOffset:s,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Qa.displayName=yd.displayName;const Cv={"try-on":{title:" Descubra sua paleta primeiro!",description:"Para experimentar roupas virtualmente e ver como ficam em voc, precisamos conhecer suas cores ideais.",icon:_e,benefits:["Experimente roupas virtualmente","Veja como as cores combinam com voc","Receba recomendaes personalizadas"]},"image-search":{title:" Descubra sua paleta primeiro!",description:"Para receber recomendaes personalizadas baseadas na sua foto, precisamos conhecer suas cores ideais.",icon:rt,benefits:["Recomendaes baseadas na sua foto","Filtros automticos por suas cores","Resultados mais precisos"]},recommendations:{title:" Descubra sua paleta primeiro!",description:"Para receber recomendaes personalizadas que realmente combinam com voc, precisamos conhecer suas cores ideais.",icon:le,benefits:["Recomendaes personalizadas","Produtos que combinam com voc","Experincia mais relevante"]},general:{title:" Descubra sua paleta primeiro!",description:"Para uma experincia completa e personalizada no Pozzy, descubra suas cores ideais.",icon:Fe,benefits:["Experincia personalizada","Recomendaes precisas","Try-on virtual das roupas"]}},jd=({open:t,onOpenChange:s,onDiscoverPalette:r,featureType:a})=>{const n=Cv[a],o=n.icon,c=()=>{r(),s(!1)},l=()=>{s(!1)};return e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{className:"max-w-md",children:[e.jsx(We,{children:e.jsxs(qe,{className:"flex items-center space-x-2 text-center",children:[e.jsx(o,{className:"h-5 w-5 text-purple-600"}),e.jsx("span",{children:n.title})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600 text-center",children:n.description}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-purple-800 mb-3 flex items-center",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Benefcios da sua paleta:"]}),e.jsx("ul",{className:"space-y-2",children:n.benefits.map((d,u)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-purple-700",children:d})]},u))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx($e,{className:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" Dica"}),e.jsx("p",{className:"text-xs text-blue-600",children:"A anlise de paleta leva apenas 2 minutos e usa uma foto sua com boa iluminao natural."})]})]})}),e.jsxs("div",{className:"flex flex-col space-y-2 pt-2",children:[e.jsxs(R,{onClick:c,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Descobrir Minha Paleta"]}),e.jsx(R,{variant:"outline",onClick:l,className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:"Continuar sem paleta"})]})]})]})})};var Un="Tabs",[Ev,jw]=Ft(Un,[$r]),wd=$r(),[kv,Vn]=Ev(Un),Nd=i.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,onValueChange:n,defaultValue:o,orientation:c="horizontal",dir:l,activationMode:d="automatic",...u}=t,m=jn(l),[p,x]=ct({prop:a,onChange:n,defaultProp:o});return e.jsx(kv,{scope:r,baseId:Mr(),value:p,onValueChange:x,orientation:c,dir:m,activationMode:d,children:e.jsx(de.div,{dir:m,"data-orientation":c,...u,ref:s})})});Nd.displayName=Un;var Sd="TabsList",Cd=i.forwardRef((t,s)=>{const{__scopeTabs:r,loop:a=!0,...n}=t,o=Vn(Sd,r),c=wd(r);return e.jsx(Ri,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:a,children:e.jsx(de.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});Cd.displayName=Sd;var Ed="TabsTrigger",kd=i.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,disabled:n=!1,...o}=t,c=Vn(Ed,r),l=wd(r),d=Rd(c.baseId,a),u=Ad(c.baseId,a),m=a===c.value;return e.jsx(Ai,{asChild:!0,...l,focusable:!n,active:m,children:e.jsx(de.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...o,ref:s,onMouseDown:ne(t.onMouseDown,p=>{!n&&p.button===0&&p.ctrlKey===!1?c.onValueChange(a):p.preventDefault()}),onKeyDown:ne(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(a)}),onFocus:ne(t.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!n&&p&&c.onValueChange(a)})})})});kd.displayName=Ed;var Pd="TabsContent",Td=i.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,forceMount:n,children:o,...c}=t,l=Vn(Pd,r),d=Rd(l.baseId,a),u=Ad(l.baseId,a),m=a===l.value,p=i.useRef(m);return i.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Tr,{present:n||m,children:({present:x})=>e.jsx(de.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:u,tabIndex:0,...c,ref:s,style:{...t.style,animationDuration:p.current?"0s":void 0},children:x&&o})})});Td.displayName=Pd;function Rd(t,s){return`${t}-trigger-${s}`}function Ad(t,s){return`${t}-content-${s}`}var Pv=Nd,Id=Cd,_d=kd,Dd=Td;const Md=Pv,Hn=i.forwardRef(({className:t,...s},r)=>e.jsx(Id,{ref:r,className:K("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Hn.displayName=Id.displayName;const ss=i.forwardRef(({className:t,...s},r)=>e.jsx(_d,{ref:r,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));ss.displayName=_d.displayName;const rs=i.forwardRef(({className:t,...s},r)=>e.jsx(Dd,{ref:r,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));rs.displayName=Dd.displayName;const Gn=()=>{const[t,s]=i.useState(!1),[r,a]=i.useState(null),[n,o]=i.useState(null),[c,l]=i.useState(!1),[d,u]=i.useState(!1),m=i.useRef(null),{toast:p}=ge(),x=h=>(console.log(" Analisando erro:",h),console.log(" Tipo do erro:",h.name),console.log(" Mensagem do erro:",h.message),h.name==="NotAllowedError"||h.name==="PermissionDeniedError"?"Permisso de cmera negada. Permita o acesso  cmera no seu navegador.":h.name==="NotFoundError"||h.name==="DevicesNotFoundError"?"Nenhuma cmera encontrada. Verifique se h uma cmera conectada.":h.name==="NotReadableError"||h.name==="TrackStartError"?"Cmera em uso por outro aplicativo. Feche outros programas que usam a cmera.":h.message||"Erro desconhecido ao acessar a cmera"),y=i.useCallback(async()=>{if(console.log(" === INICIANDO PROCESSO DA CMERA ==="),console.log(" 1. Verificando navegador..."),!navigator.mediaDevices){console.error(" navigator.mediaDevices no existe"),o("Seu navegador no suporta acesso  cmera");return}if(!navigator.mediaDevices.getUserMedia){console.error(" getUserMedia no existe"),o("Seu navegador no suporta getUserMedia");return}console.log(" Navegador suporta cmera"),o(null),l(!0),u(!1);try{console.log(" 2. Parando stream anterior..."),r&&(r.getTracks().forEach(b=>{console.log(" Parando track:",b.kind),b.stop()}),a(null)),console.log(" 3. Solicitando acesso  cmera...");const h=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1});console.log(" Stream obtido com sucesso!"),console.log(" Tracks no stream:",h.getTracks().length),h.getTracks().forEach((b,w)=>{console.log(` Track ${w}:`,b.kind,b.enabled,b.readyState)}),a(h),s(!0),await new Promise(b=>requestAnimationFrame(b)),console.log(" 4. Aguardando elemento video estar disponvel..."),await new Promise((b,w)=>{let N=0;const T=30,C=()=>{N++,console.log(` Tentativa ${N}/${T}: Verificando videoRef.current...`),m.current?(console.log(" Elemento video encontrado!"),b()):N<T?setTimeout(C,100):(console.error(" Timeout: elemento video no encontrado aps",T*100,"ms"),w(new Error("Elemento video no encontrado")))};C()}),console.log(" 5. Conectando stream ao elemento video..."),m.current&&(m.current.srcObject=h,await new Promise((b,w)=>{const N=m.current;let T=0;const C=50,j=()=>{T++;const E=N.videoWidth,A=N.videoHeight;console.log(` Tentativa ${T}/${C}: ${E}x${A}, readyState: ${N.readyState}`),E>0&&A>0?(console.log(" Vdeo est pronto!"),u(!0),b()):T<C?setTimeout(j,100):(console.error(" Timeout: vdeo no carregou aps",C*100,"ms"),w(new Error("Timeout: vdeo no carregou")))};N.addEventListener("loadedmetadata",()=>{console.log(" Video loadedmetadata event")}),N.addEventListener("canplay",()=>{console.log(" Video canplay event")}),j()})),console.log(" 6. Configurando estado final..."),p({title:"Cmera ativada! ",description:"Agora voc pode capturar sua foto"})}catch(h){console.error(" === ERRO NO PROCESSO DA CMERA ==="),console.error(" Erro completo:",h),console.error(" Stack trace:",h.stack);const g=x(h);o(g),s(!1),u(!1),p({title:"Erro na cmera",description:g,variant:"destructive"})}finally{console.log(" 7. Finalizando processo..."),l(!1)}},[r,p]),v=i.useCallback(()=>{console.log(" === PARANDO CMERA ==="),r&&r.getTracks().forEach(h=>{console.log(" Parando track:",h.kind),h.stop()}),m.current&&(console.log(" Removendo stream do video element"),m.current.srcObject=null),a(null),s(!1),u(!1),o(null),console.log(" Cmera parada com sucesso")},[r]),f=i.useCallback(()=>{if(console.log(" === CAPTURANDO FOTO ==="),!m.current||!d)return console.error(" Video no est pronto para captura"),p({title:"Aguarde...",description:"A cmera ainda est carregando",variant:"destructive"}),null;const h=document.createElement("canvas"),g=m.current,b=h.getContext("2d");if(console.log(" Dimenses do vdeo:",g.videoWidth,"x",g.videoHeight),b&&g.videoWidth>0){h.width=g.videoWidth,h.height=g.videoHeight,b.drawImage(g,0,0);const w=h.toDataURL("image/jpeg",.8);return console.log(" Foto capturada com sucesso! Tamanho:",w.length,"caracteres"),w}return console.error(" Falha na captura da foto"),null},[d,p]);return{isActive:t,isLoading:c,isReady:d,error:n,videoRef:m,startCamera:y,stopCamera:v,capturePhoto:f}},Tv=({product:t,onClose:s,userMeasurements:r})=>{const[a,n]=i.useState("setup"),[o,c]=i.useState(null),[l,d]=i.useState({height:165,weight:60,bust:90,waist:70,hips:95,shoulders:40,armLength:60,legLength:80,footSize:24,shoeSize:36}),[u,m]=i.useState(null),[p,x]=i.useState(!1),[y,v]=i.useState(1),[f,h]=i.useState(0),{toast:g}=ge(),{isActive:b,isLoading:w,isReady:N,error:T,videoRef:C,startCamera:j,stopCamera:E,capturePhoto:A}=Gn();i.useRef(null);const M=i.useRef(null);i.useEffect(()=>{r&&d(r)},[r]);const S=()=>{const H=A();H&&(c(H),E(),n("tryon"))},P=H=>{var U;const B=(U=H.target.files)==null?void 0:U[0];if(!B)return;if(!B.type.startsWith("image/")){g({title:"Erro",description:"Por favor, selecione apenas arquivos de imagem",variant:"destructive"});return}const D=new FileReader;D.onload=Y=>{var W;const G=(W=Y.target)==null?void 0:W.result;c(G),n("tryon")},D.readAsDataURL(B)},I=async()=>{if(o){x(!0);try{await new Promise(B=>setTimeout(B,3e3));const H={image:await _(o,t),confidence:Math.random()*.3+.7,fit:O(),recommendations:z(t,l)};m(H),n("results"),g({title:"Try-on concludo! ",description:"Veja como ficou o produto em voc"})}catch{g({title:"Erro no try-on",description:"No foi possvel processar a imagem",variant:"destructive"})}finally{x(!1)}}},_=async(H,B)=>new Promise(D=>{const U=document.createElement("canvas"),Y=U.getContext("2d");if(!Y){D(H);return}const G=new Image;G.onload=()=>{U.width=G.width,U.height=G.height,Y.drawImage(G,0,0);const W=new Image;W.onload=()=>{const L=k(B.category,G.width,G.height);Y.globalAlpha=.8,Y.drawImage(W,L.x,L.y,L.width,L.height),$(Y,U.width,U.height),D(U.toDataURL())},W.src=B.image_url||B.image},G.src=H}),k=(H,B,D)=>{switch(H==null?void 0:H.toLowerCase()){case"vestidos":return{x:B*.1,y:D*.2,width:B*.8,height:D*.6};case"blusas":return{x:B*.2,y:D*.3,width:B*.6,height:D*.4};case"calas":return{x:B*.2,y:D*.5,width:B*.6,height:D*.4};case"sapatos":return{x:B*.3,y:D*.7,width:B*.4,height:D*.2};default:return{x:B*.2,y:D*.3,width:B*.6,height:D*.4}}},$=(H,B,D)=>{const U=H.createRadialGradient(B/2,D/2,0,B/2,D/2,B/2);U.addColorStop(0,"rgba(255,255,255,0.1)"),U.addColorStop(1,"rgba(0,0,0,0.1)"),H.fillStyle=U,H.fillRect(0,0,B,D)},O=()=>{const H=["perfect","good","tight","loose"];return H[Math.floor(Math.random()*H.length)]},z=(H,B)=>{var U,Y,G;const D=[];return(U=H.category)!=null&&U.toLowerCase().includes("vestido")&&(B.bust>95&&D.push("Recomendamos um tamanho maior para melhor conforto"),B.height<160&&D.push("Este vestido pode ficar longo, considere ajustar o comprimento")),(Y=H.category)!=null&&Y.toLowerCase().includes("cala")&&B.waist>80&&D.push("Sugerimos um tamanho maior para a cintura"),(G=H.category)!=null&&G.toLowerCase().includes("sapato")&&B.shoeSize!==36&&D.push(`Este sapato est disponvel no tamanho ${B.shoeSize}`),D.length===0&&D.push("Este produto parece ser um bom ajuste para suas medidas!"),D},J=()=>{if(!M.current||!u)return;const H=document.createElement("a");H.download=`tryon-${t.name}.png`,H.href=M.current.toDataURL(),H.click()};return a==="setup"?e.jsxs(X,{className:"w-full max-w-4xl mx-auto",children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(je,{className:"flex items-center gap-2",children:[e.jsx(gl,{className:"h-5 w-5"}),"Try-On Virtual: ",t.name]}),e.jsx(R,{variant:"ghost",size:"sm",onClick:s,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(ee,{className:"space-y-6",children:e.jsxs(Md,{defaultValue:"photo",className:"w-full",children:[e.jsxs(Hn,{className:"grid w-full grid-cols-2",children:[e.jsx(ss,{value:"photo",children:"Tirar Foto"}),e.jsx(ss,{value:"measurements",children:"Minhas Medidas"})]}),e.jsxs(rs,{value:"photo",className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Capture sua foto"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Tire uma foto ou faa upload para experimentar o produto virtualmente"})]}),b?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:C,autoPlay:!0,playsInline:!0,className:"w-full max-w-md mx-auto rounded-lg"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"border-2 border-white rounded-lg p-2",children:e.jsx("div",{className:"w-32 h-48 border-2 border-dashed border-white"})})})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(R,{onClick:S,disabled:!N,children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Capturar Foto"]}),e.jsxs(R,{variant:"outline",onClick:E,children:[e.jsx(Ee,{className:"h-4 w-4 mr-2"}),"Cancelar"]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(R,{onClick:j,disabled:w,children:[w?e.jsx(No,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Ativar Cmera"]}),e.jsx(R,{variant:"outline",asChild:!0,children:e.jsxs("label",{className:"cursor-pointer",children:[e.jsx(lt,{className:"h-4 w-4 mr-2"}),"Upload Foto",e.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"})]})})]}),T&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:T})]})]}),e.jsxs(rs,{value:"measurements",className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Suas Medidas"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Configure suas medidas para resultados mais precisos"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Ae,{htmlFor:"height",children:"Altura (cm)"}),e.jsx(pe,{id:"height",type:"number",value:l.height,onChange:H=>d(B=>({...B,height:Number(H.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(Ae,{htmlFor:"weight",children:"Peso (kg)"}),e.jsx(pe,{id:"weight",type:"number",value:l.weight,onChange:H=>d(B=>({...B,weight:Number(H.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(Ae,{htmlFor:"bust",children:"Busto (cm)"}),e.jsx(pe,{id:"bust",type:"number",value:l.bust,onChange:H=>d(B=>({...B,bust:Number(H.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(Ae,{htmlFor:"waist",children:"Cintura (cm)"}),e.jsx(pe,{id:"waist",type:"number",value:l.waist,onChange:H=>d(B=>({...B,waist:Number(H.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(Ae,{htmlFor:"hips",children:"Quadril (cm)"}),e.jsx(pe,{id:"hips",type:"number",value:l.hips,onChange:H=>d(B=>({...B,hips:Number(H.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(Ae,{htmlFor:"shoeSize",children:"Tamanho do Sapato"}),e.jsx(pe,{id:"shoeSize",type:"number",value:l.shoeSize,onChange:H=>d(B=>({...B,shoeSize:Number(H.target.value)}))})]})]})]})]})})]}):a==="tryon"?e.jsxs(X,{className:"w-full max-w-4xl mx-auto",children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(je,{children:"Processando Try-On"}),e.jsx(R,{variant:"ghost",size:"sm",onClick:s,children:e.jsx(Ee,{className:"h-4 w-4"})})]})}),e.jsx(ee,{className:"space-y-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-4",children:o&&e.jsx("img",{src:o,alt:"Sua foto",className:"w-32 h-32 mx-auto rounded-lg object-cover"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aplicando produto..."}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Nossa IA est processando a imagem para mostrar como o produto ficar em voc"}),e.jsx(R,{onClick:I,disabled:p,className:"w-full max-w-xs",children:p?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Iniciar Try-On"]})})]})})]}):a==="results"&&u?e.jsxs(X,{className:"w-full max-w-4xl mx-auto",children:[e.jsx(ye,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(je,{children:"Resultado do Try-On"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(R,{variant:"outline",size:"sm",onClick:J,children:[e.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Salvar"]}),e.jsx(R,{variant:"ghost",size:"sm",onClick:s,children:e.jsx(Ee,{className:"h-4 w-4"})})]})]})}),e.jsx(ee,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Como ficou em voc:"}),e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:M,className:"w-full rounded-lg border",style:{transform:`scale(${y}) rotate(${f}deg)`}}),e.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[e.jsx(R,{size:"sm",variant:"outline",onClick:()=>v(Math.max(.5,y-.1)),children:e.jsx(uh,{className:"h-4 w-4"})}),e.jsx(R,{size:"sm",variant:"outline",onClick:()=>v(Math.min(2,y+.1)),children:e.jsx(dh,{className:"h-4 w-4"})}),e.jsx(R,{size:"sm",variant:"outline",onClick:()=>h(f+90),children:e.jsx(ah,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Anlise do Ajuste:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{children:"Confiana da IA:"}),e.jsxs("span",{className:"font-semibold",children:[(u.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{children:"Ajuste:"}),e.jsx("span",{className:`font-semibold ${u.fit==="perfect"?"text-green-600":u.fit==="good"?"text-blue-600":u.fit==="tight"?"text-orange-600":"text-red-600"}`,children:u.fit==="perfect"?"Perfeito":u.fit==="good"?"Bom":u.fit==="tight"?"Apertado":"Folgado"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Recomendaes:"}),e.jsx("ul",{className:"space-y-1",children:u.recommendations.map((H,B)=>e.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),H]},B))})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(R,{className:"w-full",onClick:()=>n("setup"),children:[e.jsx(No,{className:"h-4 w-4 mr-2"}),"Tentar Outro Produto"]})})]})]})})]}):null},en=({product:t,onTryOn:s,showFavorite:r,colorPalette:a,onDiscoverPalette:n})=>{var g;const[o,c]=i.useState(!1),[l,d]=i.useState(!1),u=`combine-with-${t.id}`,[m,p]=i.useState([]),[x,y]=i.useState("");i.useEffect(()=>{const b=localStorage.getItem(u);b&&p(JSON.parse(b))},[u]);const v=()=>{if(!x.trim())return;const b=[...m,x.trim()];p(b),localStorage.setItem(u,JSON.stringify(b)),y("")};i.useEffect(()=>{m.length===0&&(p(["Cala jeans","Tnis branco","Jaqueta leve"]),localStorage.setItem(u,JSON.stringify(["Cala jeans","Tnis branco","Jaqueta leve"])))},[]);const f=()=>{a?d(!0):c(!0)},h=t.tryOnCompatible||["vestidos","blusas","calas","saias","blazers","jaquetas","sapatos"].includes(((g=t.category)==null?void 0:g.toLowerCase())||"");return e.jsxs(e.Fragment,{children:[e.jsxs(X,{className:`overflow-hidden hover:shadow-lg transition-shadow 
        rounded-xl mb-4 p-0
        w-full
        max-w-xs
        mx-auto
        sm:max-w-full
        `,children:[e.jsx("div",{className:`
            aspect-square
            bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700
            flex items-center justify-center
            w-full
            h-[220px] sm:h-[280px]
          `,children:t.image||t.image_url?e.jsx("img",{src:t.image||t.image_url,alt:t.name||"Produto",className:"w-full h-full object-cover rounded-none",style:{maxHeight:"100%",maxWidth:"100%",borderRadius:0}}):e.jsxs("div",{className:"text-gray-400 text-center",children:[e.jsx("div",{className:"w-14 h-14 mx-auto mb-2 bg-gray-300 dark:bg-gray-600 rounded-lg flex items-center justify-center text-lg",children:""}),e.jsx("span",{className:"text-xs",children:"Imagem do produto"})]})}),e.jsxs(ee,{className:`
          p-3 sm:p-4
          flex flex-col gap-2
        `,children:[e.jsxs("div",{className:"mb-1",children:[e.jsx("h3",{className:"font-medium text-xs sm:text-sm leading-tight truncate max-w-full",children:t.name}),t.brand&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.brand})]}),e.jsxs("div",{className:"mb-3 rounded-xl bg-purple-100 p-2 sm:p-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mb-2",children:[h&&e.jsx(_o,{children:e.jsxs(Do,{children:[e.jsx(Mo,{asChild:!0,children:e.jsx("div",{children:e.jsxs(Ne,{variant:"secondary",className:"bg-blue-200 text-blue-800 text-[11px] px-2 py-0.5 cursor-help",tabIndex:0,"aria-label":"Mais informaes sobre Teste Virtual",children:[e.jsx(gl,{className:"h-3 w-3 mr-1"}),"Try-On"]})})}),e.jsx(Qa,{side:"top",children:"Experimente este produto virtualmente em voc!"})]})}),typeof t.paletteMatch=="number"&&e.jsx(_o,{children:e.jsxs(Do,{children:[e.jsx(Mo,{asChild:!0,children:e.jsx("div",{children:e.jsxs(Ne,{variant:"secondary",className:"text-[11px] flex items-center px-2 py-0.5 cursor-help "+(t.paletteMatch>=90?"bg-green-100 text-green-800":t.paletteMatch>=80?"bg-yellow-100 text-yellow-800":"bg-gray-200 text-gray-700"),tabIndex:0,"aria-label":"Ver compatibilidade da paleta de cores",children:[e.jsx(Fe,{className:"h-3 w-3 mr-1"}),t.paletteMatch,"%"]})})}),e.jsx(Qa,{side:"top",children:"Compatibilidade desta pea com sua paleta de cores."})]})})]}),e.jsx("p",{className:"text-xs text-purple-900 dark:text-purple-200 line-clamp-2",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r&&e.jsx(xg,{product:{id:t.id,name:t.name,description:t.description,price:t.price},inlineEdit:!0}),h&&e.jsxs(Ve,{open:l,onOpenChange:d,children:[e.jsx(ix,{asChild:!0,children:e.jsxs(R,{size:"sm",variant:"outline",className:"flex-1 bg-blue-50 hover:bg-blue-100 border-blue-200 text-blue-700",onClick:f,children:[e.jsx(le,{className:"h-3 w-3 mr-1"}),"Try-On"]})}),e.jsx(Be,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(Tv,{product:t,onClose:()=>d(!1)})})]})]}),e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("span",{className:"font-bold text-base sm:text-lg text-orange-600",children:t.price})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Combina com:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:m.map((b,w)=>e.jsx(Ne,{variant:"outline",className:"text-[10px] px-2 py-0.5 bg-gray-50",children:b},w))})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{type:"text",value:x,onChange:b=>y(b.target.value),placeholder:"Adicionar item...",className:"flex-1 text-xs px-2 py-1 border rounded",onKeyPress:b=>b.key==="Enter"&&v()}),e.jsx(R,{size:"sm",variant:"outline",onClick:v,className:"text-xs px-2",children:"+"})]})]})]})]}),e.jsx(jd,{open:o,onOpenChange:c,onDiscoverPalette:n,featureType:"try-on"})]})},Rv=({onSearch:t,searchesLeft:s,isPremium:r,loading:a,results:n,user:o,onProductTryOn:c,colorPalette:l})=>{var N,T;const[d,u]=i.useState("");i.useRef(null);const{products:m,loading:p,error:x,search:y,hasMore:v,loadMore:f}=ig(),h=p,g=m,b=async C=>{var j;if(C.preventDefault(),d.trim()){const E=d.trim();await y(E,{category:l==null?void 0:l.category,priceRange:l==null?void 0:l.priceRange,colors:(j=l==null?void 0:l.colors)==null?void 0:j.ideal});const A=JSON.parse(localStorage.getItem("searchHistory")||"[]"),M=[E,...A.filter(S=>S!==E)].slice(0,15);localStorage.setItem("searchHistory",JSON.stringify(M)),u("")}},w=async C=>{var j;u(""),await y(C,{category:l==null?void 0:l.category,priceRange:l==null?void 0:l.priceRange,colors:(j=l==null?void 0:l.colors)==null?void 0:j.ideal})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"subtitle-section",children:"Busca Livre"}),e.jsx("p",{className:"subtitle-description mx-auto max-w-xl",children:"Descreva o que voc procura e a IA encontra os melhores looks!"})]}),l&&e.jsxs("div",{className:"border border-purple-200 bg-purple-50 rounded-lg p-4 flex items-center space-x-3",children:[e.jsx(Fe,{className:"h-5 w-5 text-purple-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-medium text-purple-800",children:["Sua Paleta: ",l.season," - ",l.undertone]}),e.jsx("p",{className:"text-sm text-purple-600",children:"Produtos recomendados sero filtrados pelas suas cores ideais"})]}),e.jsx("div",{className:"flex space-x-1",children:(T=(N=l.colors)==null?void 0:N.ideal)==null?void 0:T.slice(0,4).map((C,j)=>e.jsx("div",{className:"w-6 h-6 rounded-full border border-white",style:{backgroundColor:C}},j))})]}),e.jsx(ag,{onSearchSelect:w}),e.jsx("form",{onSubmit:b,className:"space-y-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(pe,{placeholder:l?"Ex: vestido nas minhas cores, blazer para trabalho...":"Ex: vestido floral para casamento, blazer executivo...",value:d,onChange:C=>u(C.target.value),className:"flex-1"}),e.jsx(R,{type:"submit",disabled:h||!r&&s<=0,className:"bg-orange-500 hover:bg-orange-600",children:h?e.jsx(bt,{className:"h-4 w-4 animate-spin"}):e.jsx($e,{className:"h-4 w-4"})})]})}),x&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-700 text-sm",children:x})}),g.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[g.length," produto(s) encontrado(s)"]}),e.jsx("span",{className:"text-sm text-gray-500",children:"Buscando em mltiplas lojas..."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(C=>e.jsx(en,{product:C,onTryOn:c,user:o},C.id))}),v&&e.jsx("div",{className:"text-center pt-4",children:e.jsxs(R,{onClick:f,disabled:h,variant:"outline",className:"w-full max-w-xs",children:[h?e.jsx(bt,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(le,{className:"h-4 w-4 mr-2"}),"Carregar Mais Produtos"]})})]}),!h&&g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($e,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:l?"Busca personalizada pronta":"Comece sua busca"}),e.jsx("p",{className:"text-gray-500",children:l?"Digite o que voc procura e encontraremos opes nas suas cores ideais":"Digite o que voc procura para encontrar produtos incrveis"})]})]})};function Av(t,s=[]){let r=[];function a(o,c){const l=i.createContext(c),d=r.length;r=[...r,c];function u(p){const{scope:x,children:y,...v}=p,f=(x==null?void 0:x[t][d])||l,h=i.useMemo(()=>v,Object.values(v));return e.jsx(f.Provider,{value:h,children:y})}function m(p,x){const y=(x==null?void 0:x[t][d])||l,v=i.useContext(y);if(v)return v;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,m]}const n=()=>{const o=r.map(c=>i.createContext(c));return function(l){const d=(l==null?void 0:l[t])||o;return i.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return n.scopeName=t,[a,Iv(n,...s)]}function Iv(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const c=a.reduce((l,{useScope:d,scopeName:u})=>{const p=d(o)[`__scope${u}`];return{...l,...p}},{});return i.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return r.scopeName=s.scopeName,r}var _v="Toggle",Wn=i.forwardRef((t,s)=>{const{pressed:r,defaultPressed:a=!1,onPressedChange:n,...o}=t,[c=!1,l]=ct({prop:r,onChange:n,defaultProp:a});return e.jsx(de.button,{type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:s,onClick:ne(t.onClick,()=>{t.disabled||l(!c)})})});Wn.displayName=_v;var $d=Wn,ms="ToggleGroup",[Od,ww]=Av(ms,[$r]),Ld=$r(),qn=V.forwardRef((t,s)=>{const{type:r,...a}=t;if(r==="single"){const n=a;return e.jsx(Dv,{...n,ref:s})}if(r==="multiple"){const n=a;return e.jsx(Mv,{...n,ref:s})}throw new Error(`Missing prop \`type\` expected on \`${ms}\``)});qn.displayName=ms;var[zd,Fd]=Od(ms),Dv=V.forwardRef((t,s)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...o}=t,[c,l]=ct({prop:r,defaultProp:a,onChange:n});return e.jsx(zd,{scope:t.__scopeToggleGroup,type:"single",value:c?[c]:[],onItemActivate:l,onItemDeactivate:V.useCallback(()=>l(""),[l]),children:e.jsx(Bd,{...o,ref:s})})}),Mv=V.forwardRef((t,s)=>{const{value:r,defaultValue:a,onValueChange:n=()=>{},...o}=t,[c=[],l]=ct({prop:r,defaultProp:a,onChange:n}),d=V.useCallback(m=>l((p=[])=>[...p,m]),[l]),u=V.useCallback(m=>l((p=[])=>p.filter(x=>x!==m)),[l]);return e.jsx(zd,{scope:t.__scopeToggleGroup,type:"multiple",value:c,onItemActivate:d,onItemDeactivate:u,children:e.jsx(Bd,{...o,ref:s})})});qn.displayName=ms;var[$v,Ov]=Od(ms),Bd=V.forwardRef((t,s)=>{const{__scopeToggleGroup:r,disabled:a=!1,rovingFocus:n=!0,orientation:o,dir:c,loop:l=!0,...d}=t,u=Ld(r),m=jn(c),p={role:"group",dir:m,...d};return e.jsx($v,{scope:r,rovingFocus:n,disabled:a,children:n?e.jsx(Ri,{asChild:!0,...u,orientation:o,dir:m,loop:l,children:e.jsx(de.div,{...p,ref:s})}):e.jsx(de.div,{...p,ref:s})})}),Cr="ToggleGroupItem",Ud=V.forwardRef((t,s)=>{const r=Fd(Cr,t.__scopeToggleGroup),a=Ov(Cr,t.__scopeToggleGroup),n=Ld(t.__scopeToggleGroup),o=r.value.includes(t.value),c=a.disabled||t.disabled,l={...t,pressed:o,disabled:c},d=V.useRef(null);return a.rovingFocus?e.jsx(Ai,{asChild:!0,...n,focusable:!c,active:o,ref:d,children:e.jsx($o,{...l,ref:s})}):e.jsx($o,{...l,ref:s})});Ud.displayName=Cr;var $o=V.forwardRef((t,s)=>{const{__scopeToggleGroup:r,value:a,...n}=t,o=Fd(Cr,r),c={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=o.type==="single"?c:void 0;return e.jsx(Wn,{...l,...n,ref:s,onPressedChange:d=>{d?o.onItemActivate(a):o.onItemDeactivate(a)}})}),Vd=qn,Hd=Ud;const Gd=Gs("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Lv=i.forwardRef(({className:t,variant:s,size:r,...a},n)=>e.jsx($d,{ref:n,className:K(Gd({variant:s,size:r,className:t})),...a}));Lv.displayName=$d.displayName;const Wd=i.createContext({size:"default",variant:"default"}),qd=i.forwardRef(({className:t,variant:s,size:r,children:a,...n},o)=>e.jsx(Vd,{ref:o,className:K("flex items-center justify-center gap-1",t),...n,children:e.jsx(Wd.Provider,{value:{variant:s,size:r},children:a})}));qd.displayName=Vd.displayName;const Kd=i.forwardRef(({className:t,children:s,variant:r,size:a,...n},o)=>{const c=i.useContext(Wd);return e.jsx(Hd,{ref:o,className:K(Gd({variant:c.variant||r,size:c.size||a}),t),...n,children:s})});Kd.displayName=Hd.displayName;var Oo=1,zv=.9,Fv=.8,Bv=.17,ja=.1,wa=.999,Uv=.9999,Vv=.99,Hv=/[\\\/_+.#"@\[\(\{&]/,Gv=/[\\\/_+.#"@\[\(\{&]/g,Wv=/[\s-]/,Yd=/[\s-]/g;function tn(t,s,r,a,n,o,c){if(o===s.length)return n===t.length?Oo:Vv;var l=`${n},${o}`;if(c[l]!==void 0)return c[l];for(var d=a.charAt(o),u=r.indexOf(d,n),m=0,p,x,y,v;u>=0;)p=tn(t,s,r,a,u+1,o+1,c),p>m&&(u===n?p*=Oo:Hv.test(t.charAt(u-1))?(p*=Fv,y=t.slice(n,u-1).match(Gv),y&&n>0&&(p*=Math.pow(wa,y.length))):Wv.test(t.charAt(u-1))?(p*=zv,v=t.slice(n,u-1).match(Yd),v&&n>0&&(p*=Math.pow(wa,v.length))):(p*=Bv,n>0&&(p*=Math.pow(wa,u-n))),t.charAt(u)!==s.charAt(o)&&(p*=Uv)),(p<ja&&r.charAt(u-1)===a.charAt(o+1)||a.charAt(o+1)===a.charAt(o)&&r.charAt(u-1)!==a.charAt(o))&&(x=tn(t,s,r,a,u+1,o+2,c),x*ja>p&&(p=x*ja)),p>m&&(m=p),u=r.indexOf(d,u+1);return c[l]=m,m}function Lo(t){return t.toLowerCase().replace(Yd," ")}function qv(t,s,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,tn(t,s,Lo(t),Lo(s),0,0,{})}function Oe(){return Oe=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Oe.apply(null,arguments)}function as(t,s,{checkForDefaultPrevented:r=!0}={}){return function(n){if(t==null||t(n),r===!1||!n.defaultPrevented)return s==null?void 0:s(n)}}function Kv(t,s){typeof t=="function"?t(s):t!=null&&(t.current=s)}function Zd(...t){return s=>t.forEach(r=>Kv(r,s))}function Ks(...t){return i.useCallback(Zd(...t),t)}function Yv(t,s=[]){let r=[];function a(o,c){const l=i.createContext(c),d=r.length;r=[...r,c];function u(p){const{scope:x,children:y,...v}=p,f=(x==null?void 0:x[t][d])||l,h=i.useMemo(()=>v,Object.values(v));return i.createElement(f.Provider,{value:h},y)}function m(p,x){const y=(x==null?void 0:x[t][d])||l,v=i.useContext(y);if(v)return v;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,m]}const n=()=>{const o=r.map(c=>i.createContext(c));return function(l){const d=(l==null?void 0:l[t])||o;return i.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return n.scopeName=t,[a,Zv(n,...s)]}function Zv(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const c=a.reduce((l,{useScope:d,scopeName:u})=>{const p=d(o)[`__scope${u}`];return{...l,...p}},{});return i.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return r.scopeName=s.scopeName,r}const sn=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Jv=Hs.useId||(()=>{});let Xv=0;function Na(t){const[s,r]=i.useState(Jv());return sn(()=>{t||r(a=>a??String(Xv++))},[t]),t||(s?`radix-${s}`:"")}function $t(t){const s=i.useRef(t);return i.useEffect(()=>{s.current=t}),i.useMemo(()=>(...r)=>{var a;return(a=s.current)===null||a===void 0?void 0:a.call(s,...r)},[])}function Qv({prop:t,defaultProp:s,onChange:r=()=>{}}){const[a,n]=e0({defaultProp:s,onChange:r}),o=t!==void 0,c=o?t:a,l=$t(r),d=i.useCallback(u=>{if(o){const p=typeof u=="function"?u(t):u;p!==t&&l(p)}else n(u)},[o,t,n,l]);return[c,d]}function e0({defaultProp:t,onChange:s}){const r=i.useState(t),[a]=r,n=i.useRef(a),o=$t(s);return i.useEffect(()=>{n.current!==a&&(o(a),n.current=a)},[a,n,o]),r}const Kn=i.forwardRef((t,s)=>{const{children:r,...a}=t,n=i.Children.toArray(r),o=n.find(s0);if(o){const c=o.props.children,l=n.map(d=>d===o?i.Children.count(c)>1?i.Children.only(null):i.isValidElement(c)?c.props.children:null:d);return i.createElement(rn,Oe({},a,{ref:s}),i.isValidElement(c)?i.cloneElement(c,void 0,l):null)}return i.createElement(rn,Oe({},a,{ref:s}),r)});Kn.displayName="Slot";const rn=i.forwardRef((t,s)=>{const{children:r,...a}=t;return i.isValidElement(r)?i.cloneElement(r,{...r0(a,r.props),ref:s?Zd(s,r.ref):r.ref}):i.Children.count(r)>1?i.Children.only(null):null});rn.displayName="SlotClone";const t0=({children:t})=>i.createElement(i.Fragment,null,t);function s0(t){return i.isValidElement(t)&&t.type===t0}function r0(t,s){const r={...s};for(const a in s){const n=t[a],o=s[a];/^on[A-Z]/.test(a)?n&&o?r[a]=(...l)=>{o(...l),n(...l)}:n&&(r[a]=n):a==="style"?r[a]={...n,...o}:a==="className"&&(r[a]=[n,o].filter(Boolean).join(" "))}return{...t,...r}}const a0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ke=a0.reduce((t,s)=>{const r=i.forwardRef((a,n)=>{const{asChild:o,...c}=a,l=o?Kn:s;return i.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),i.createElement(l,Oe({},c,{ref:n}))});return r.displayName=`Primitive.${s}`,{...t,[s]:r}},{});function n0(t,s){t&&Bt.flushSync(()=>t.dispatchEvent(s))}function o0(t,s=globalThis==null?void 0:globalThis.document){const r=$t(t);i.useEffect(()=>{const a=n=>{n.key==="Escape"&&r(n)};return s.addEventListener("keydown",a),()=>s.removeEventListener("keydown",a)},[r,s])}const an="dismissableLayer.update",i0="dismissableLayer.pointerDownOutside",l0="dismissableLayer.focusOutside";let zo;const c0=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),d0=i.forwardRef((t,s)=>{var r;const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:l,onDismiss:d,...u}=t,m=i.useContext(c0),[p,x]=i.useState(null),y=(r=p==null?void 0:p.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,v]=i.useState({}),f=Ks(s,E=>x(E)),h=Array.from(m.layers),[g]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),b=h.indexOf(g),w=p?h.indexOf(p):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,T=w>=b,C=u0(E=>{const A=E.target,M=[...m.branches].some(S=>S.contains(A));!T||M||(o==null||o(E),l==null||l(E),E.defaultPrevented||d==null||d())},y),j=m0(E=>{const A=E.target;[...m.branches].some(S=>S.contains(A))||(c==null||c(E),l==null||l(E),E.defaultPrevented||d==null||d())},y);return o0(E=>{w===m.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&d&&(E.preventDefault(),d()))},y),i.useEffect(()=>{if(p)return a&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(zo=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Fo(),()=>{a&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=zo)}},[p,y,a,m]),i.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Fo())},[p,m]),i.useEffect(()=>{const E=()=>v({});return document.addEventListener(an,E),()=>document.removeEventListener(an,E)},[]),i.createElement(Ke.div,Oe({},u,{ref:f,style:{pointerEvents:N?T?"auto":"none":void 0,...t.style},onFocusCapture:as(t.onFocusCapture,j.onFocusCapture),onBlurCapture:as(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:as(t.onPointerDownCapture,C.onPointerDownCapture)}))});function u0(t,s=globalThis==null?void 0:globalThis.document){const r=$t(t),a=i.useRef(!1),n=i.useRef(()=>{});return i.useEffect(()=>{const o=l=>{if(l.target&&!a.current){let u=function(){Jd(i0,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",n.current),n.current=u,s.addEventListener("click",n.current,{once:!0})):u()}else s.removeEventListener("click",n.current);a.current=!1},c=window.setTimeout(()=>{s.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),s.removeEventListener("pointerdown",o),s.removeEventListener("click",n.current)}},[s,r]),{onPointerDownCapture:()=>a.current=!0}}function m0(t,s=globalThis==null?void 0:globalThis.document){const r=$t(t),a=i.useRef(!1);return i.useEffect(()=>{const n=o=>{o.target&&!a.current&&Jd(l0,r,{originalEvent:o},{discrete:!1})};return s.addEventListener("focusin",n),()=>s.removeEventListener("focusin",n)},[s,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Fo(){const t=new CustomEvent(an);document.dispatchEvent(t)}function Jd(t,s,r,{discrete:a}){const n=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&n.addEventListener(t,s,{once:!0}),a?n0(n,o):n.dispatchEvent(o)}const Sa="focusScope.autoFocusOnMount",Ca="focusScope.autoFocusOnUnmount",Bo={bubbles:!1,cancelable:!0},p0=i.forwardRef((t,s)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:o,...c}=t,[l,d]=i.useState(null),u=$t(n),m=$t(o),p=i.useRef(null),x=Ks(s,f=>d(f)),y=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(a){let f=function(w){if(y.paused||!l)return;const N=w.target;l.contains(N)?p.current=N:xt(p.current,{select:!0})},h=function(w){if(y.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||xt(p.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const T of w)T.removedNodes.length>0&&xt(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",h);const b=new MutationObserver(g);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",h),b.disconnect()}}},[a,l,y.paused]),i.useEffect(()=>{if(l){Vo.add(y);const f=document.activeElement;if(!l.contains(f)){const g=new CustomEvent(Sa,Bo);l.addEventListener(Sa,u),l.dispatchEvent(g),g.defaultPrevented||(f0(b0(Xd(l)),{select:!0}),document.activeElement===f&&xt(l))}return()=>{l.removeEventListener(Sa,u),setTimeout(()=>{const g=new CustomEvent(Ca,Bo);l.addEventListener(Ca,m),l.dispatchEvent(g),g.defaultPrevented||xt(f??document.body,{select:!0}),l.removeEventListener(Ca,m),Vo.remove(y)},0)}}},[l,u,m,y]);const v=i.useCallback(f=>{if(!r&&!a||y.paused)return;const h=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,g=document.activeElement;if(h&&g){const b=f.currentTarget,[w,N]=h0(b);w&&N?!f.shiftKey&&g===N?(f.preventDefault(),r&&xt(w,{select:!0})):f.shiftKey&&g===w&&(f.preventDefault(),r&&xt(N,{select:!0})):g===b&&f.preventDefault()}},[r,a,y.paused]);return i.createElement(Ke.div,Oe({tabIndex:-1},c,{ref:x,onKeyDown:v}))});function f0(t,{select:s=!1}={}){const r=document.activeElement;for(const a of t)if(xt(a,{select:s}),document.activeElement!==r)return}function h0(t){const s=Xd(t),r=Uo(s,t),a=Uo(s.reverse(),t);return[r,a]}function Xd(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Uo(t,s){for(const r of t)if(!x0(r,{upTo:s}))return r}function x0(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function g0(t){return t instanceof HTMLInputElement&&"select"in t}function xt(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&g0(t)&&s&&t.select()}}const Vo=v0();function v0(){let t=[];return{add(s){const r=t[0];s!==r&&(r==null||r.pause()),t=Ho(t,s),t.unshift(s)},remove(s){var r;t=Ho(t,s),(r=t[0])===null||r===void 0||r.resume()}}}function Ho(t,s){const r=[...t],a=r.indexOf(s);return a!==-1&&r.splice(a,1),r}function b0(t){return t.filter(s=>s.tagName!=="A")}const y0=i.forwardRef((t,s)=>{var r;const{container:a=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...n}=t;return a?Cp.createPortal(i.createElement(Ke.div,Oe({},n,{ref:s})),a):null});function j0(t,s){return i.useReducer((r,a)=>{const n=s[r][a];return n??r},t)}const ra=t=>{const{present:s,children:r}=t,a=w0(s),n=typeof r=="function"?r({present:a.isPresent}):i.Children.only(r),o=Ks(a.ref,n.ref);return typeof r=="function"||a.isPresent?i.cloneElement(n,{ref:o}):null};ra.displayName="Presence";function w0(t){const[s,r]=i.useState(),a=i.useRef({}),n=i.useRef(t),o=i.useRef("none"),c=t?"mounted":"unmounted",[l,d]=j0(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const u=sr(a.current);o.current=l==="mounted"?u:"none"},[l]),sn(()=>{const u=a.current,m=n.current;if(m!==t){const x=o.current,y=sr(u);t?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(m&&x!==y?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,d]),sn(()=>{if(s){const u=p=>{const y=sr(a.current).includes(p.animationName);p.target===s&&y&&Bt.flushSync(()=>d("ANIMATION_END"))},m=p=>{p.target===s&&(o.current=sr(a.current))};return s.addEventListener("animationstart",m),s.addEventListener("animationcancel",u),s.addEventListener("animationend",u),()=>{s.removeEventListener("animationstart",m),s.removeEventListener("animationcancel",u),s.removeEventListener("animationend",u)}}else d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:i.useCallback(u=>{u&&(a.current=getComputedStyle(u)),r(u)},[])}}function sr(t){return(t==null?void 0:t.animationName)||"none"}let Ea=0;function N0(){i.useEffect(()=>{var t,s;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=r[0])!==null&&t!==void 0?t:Go()),document.body.insertAdjacentElement("beforeend",(s=r[1])!==null&&s!==void 0?s:Go()),Ea++,()=>{Ea===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),Ea--}},[])}function Go(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var Qd=pp(),ka=function(){},aa=i.forwardRef(function(t,s){var r=i.useRef(null),a=i.useState({onScrollCapture:ka,onWheelCapture:ka,onTouchMoveCapture:ka}),n=a[0],o=a[1],c=t.forwardProps,l=t.children,d=t.className,u=t.removeScrollBar,m=t.enabled,p=t.shards,x=t.sideCar,y=t.noIsolation,v=t.inert,f=t.allowPinchZoom,h=t.as,g=h===void 0?"div":h,b=fp(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=x,N=hp([r,s]),T=Jt(Jt({},b),n);return i.createElement(i.Fragment,null,m&&i.createElement(w,{sideCar:Qd,removeScrollBar:u,shards:p,noIsolation:y,inert:v,setCallbacks:o,allowPinchZoom:!!f,lockRef:r}),c?i.cloneElement(i.Children.only(l),Jt(Jt({},T),{ref:N})):i.createElement(g,Jt({},T,{className:d,ref:N}),l))});aa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};aa.classNames={fullWidth:xp,zeroRight:gp};var nn=!1;if(typeof window<"u")try{var rr=Object.defineProperty({},"passive",{get:function(){return nn=!0,!0}});window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{nn=!1}var Yt=nn?{passive:!1}:!1,S0=function(t){return t.tagName==="TEXTAREA"},eu=function(t,s){var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!S0(t)&&r[s]==="visible")},C0=function(t){return eu(t,"overflowY")},E0=function(t){return eu(t,"overflowX")},Wo=function(t,s){var r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=tu(t,r);if(a){var n=su(t,r),o=n[1],c=n[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},k0=function(t){var s=t.scrollTop,r=t.scrollHeight,a=t.clientHeight;return[s,r,a]},P0=function(t){var s=t.scrollLeft,r=t.scrollWidth,a=t.clientWidth;return[s,r,a]},tu=function(t,s){return t==="v"?C0(s):E0(s)},su=function(t,s){return t==="v"?k0(s):P0(s)},T0=function(t,s){return t==="h"&&s==="rtl"?-1:1},R0=function(t,s,r,a,n){var o=T0(t,window.getComputedStyle(s).direction),c=o*a,l=r.target,d=s.contains(l),u=!1,m=c>0,p=0,x=0;do{var y=su(t,l),v=y[0],f=y[1],h=y[2],g=f-h-o*v;(v||g)&&tu(t,l)&&(p+=g,x+=v),l=l.parentNode}while(!d&&l!==document.body||d&&(s.contains(l)||s===l));return(m&&(p===0||!n)||!m&&(x===0||!n))&&(u=!0),u},ar=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},qo=function(t){return[t.deltaX,t.deltaY]},Ko=function(t){return t&&"current"in t?t.current:t},A0=function(t,s){return t[0]===s[0]&&t[1]===s[1]},I0=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},_0=0,Zt=[];function D0(t){var s=i.useRef([]),r=i.useRef([0,0]),a=i.useRef(),n=i.useState(_0++)[0],o=i.useState(function(){return vp()})[0],c=i.useRef(t);i.useEffect(function(){c.current=t},[t]),i.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var f=bp([t.lockRef.current],(t.shards||[]).map(Ko),!0).filter(Boolean);return f.forEach(function(h){return h.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),f.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var l=i.useCallback(function(f,h){if("touches"in f&&f.touches.length===2)return!c.current.allowPinchZoom;var g=ar(f),b=r.current,w="deltaX"in f?f.deltaX:b[0]-g[0],N="deltaY"in f?f.deltaY:b[1]-g[1],T,C=f.target,j=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in f&&j==="h"&&C.type==="range")return!1;var E=Wo(j,C);if(!E)return!0;if(E?T=j:(T=j==="v"?"h":"v",E=Wo(j,C)),!E)return!1;if(!a.current&&"changedTouches"in f&&(w||N)&&(a.current=T),!T)return!0;var A=a.current||T;return R0(A,h,f,A==="h"?w:N,!0)},[]),d=i.useCallback(function(f){var h=f;if(!(!Zt.length||Zt[Zt.length-1]!==o)){var g="deltaY"in h?qo(h):ar(h),b=s.current.filter(function(T){return T.name===h.type&&T.target===h.target&&A0(T.delta,g)})[0];if(b&&b.should){h.cancelable&&h.preventDefault();return}if(!b){var w=(c.current.shards||[]).map(Ko).filter(Boolean).filter(function(T){return T.contains(h.target)}),N=w.length>0?l(h,w[0]):!c.current.noIsolation;N&&h.cancelable&&h.preventDefault()}}},[]),u=i.useCallback(function(f,h,g,b){var w={name:f,delta:h,target:g,should:b};s.current.push(w),setTimeout(function(){s.current=s.current.filter(function(N){return N!==w})},1)},[]),m=i.useCallback(function(f){r.current=ar(f),a.current=void 0},[]),p=i.useCallback(function(f){u(f.type,qo(f),f.target,l(f,t.lockRef.current))},[]),x=i.useCallback(function(f){u(f.type,ar(f),f.target,l(f,t.lockRef.current))},[]);i.useEffect(function(){return Zt.push(o),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Yt),document.addEventListener("touchmove",d,Yt),document.addEventListener("touchstart",m,Yt),function(){Zt=Zt.filter(function(f){return f!==o}),document.removeEventListener("wheel",d,Yt),document.removeEventListener("touchmove",d,Yt),document.removeEventListener("touchstart",m,Yt)}},[]);var y=t.removeScrollBar,v=t.inert;return i.createElement(i.Fragment,null,v?i.createElement(o,{styles:I0(n)}):null,y?i.createElement(yp,{gapMode:"margin"}):null)}const M0=jp(Qd,D0);var ru=i.forwardRef(function(t,s){return i.createElement(aa,Jt({},t,{ref:s,sideCar:M0}))});ru.classNames=aa.classNames;const au="Dialog",[nu,Nw]=Yv(au),[$0,Ht]=nu(au),O0=t=>{const{__scopeDialog:s,children:r,open:a,defaultOpen:n,onOpenChange:o,modal:c=!0}=t,l=i.useRef(null),d=i.useRef(null),[u=!1,m]=Qv({prop:a,defaultProp:n,onChange:o});return i.createElement($0,{scope:s,triggerRef:l,contentRef:d,contentId:Na(),titleId:Na(),descriptionId:Na(),open:u,onOpenChange:m,onOpenToggle:i.useCallback(()=>m(p=>!p),[m]),modal:c},r)},ou="DialogPortal",[L0,iu]=nu(ou,{forceMount:void 0}),z0=t=>{const{__scopeDialog:s,forceMount:r,children:a,container:n}=t,o=Ht(ou,s);return i.createElement(L0,{scope:s,forceMount:r},i.Children.map(a,c=>i.createElement(ra,{present:r||o.open},i.createElement(y0,{asChild:!0,container:n},c))))},on="DialogOverlay",F0=i.forwardRef((t,s)=>{const r=iu(on,t.__scopeDialog),{forceMount:a=r.forceMount,...n}=t,o=Ht(on,t.__scopeDialog);return o.modal?i.createElement(ra,{present:a||o.open},i.createElement(B0,Oe({},n,{ref:s}))):null}),B0=i.forwardRef((t,s)=>{const{__scopeDialog:r,...a}=t,n=Ht(on,r);return i.createElement(ru,{as:Kn,allowPinchZoom:!0,shards:[n.contentRef]},i.createElement(Ke.div,Oe({"data-state":cu(n.open)},a,{ref:s,style:{pointerEvents:"auto",...a.style}})))}),Ls="DialogContent",U0=i.forwardRef((t,s)=>{const r=iu(Ls,t.__scopeDialog),{forceMount:a=r.forceMount,...n}=t,o=Ht(Ls,t.__scopeDialog);return i.createElement(ra,{present:a||o.open},o.modal?i.createElement(V0,Oe({},n,{ref:s})):i.createElement(H0,Oe({},n,{ref:s})))}),V0=i.forwardRef((t,s)=>{const r=Ht(Ls,t.__scopeDialog),a=i.useRef(null),n=Ks(s,r.contentRef,a);return i.useEffect(()=>{const o=a.current;if(o)return xi(o)},[]),i.createElement(lu,Oe({},t,{ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:as(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=r.triggerRef.current)===null||c===void 0||c.focus()}),onPointerDownOutside:as(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&o.preventDefault()}),onFocusOutside:as(t.onFocusOutside,o=>o.preventDefault())}))}),H0=i.forwardRef((t,s)=>{const r=Ht(Ls,t.__scopeDialog),a=i.useRef(!1),n=i.useRef(!1);return i.createElement(lu,Oe({},t,{ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c;if((c=t.onCloseAutoFocus)===null||c===void 0||c.call(t,o),!o.defaultPrevented){var l;a.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}a.current=!1,n.current=!1},onInteractOutside:o=>{var c,l;(c=t.onInteractOutside)===null||c===void 0||c.call(t,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const d=o.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(d))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}}))}),lu=i.forwardRef((t,s)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,...c}=t,l=Ht(Ls,r),d=i.useRef(null),u=Ks(s,d);return N0(),i.createElement(i.Fragment,null,i.createElement(p0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o},i.createElement(d0,Oe({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":cu(l.open)},c,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function cu(t){return t?"open":"closed"}const G0=O0,W0=z0,q0=F0,K0=U0;var ys='[cmdk-group=""]',Pa='[cmdk-group-items=""]',Y0='[cmdk-group-heading=""]',Yn='[cmdk-item=""]',Yo=`${Yn}:not([aria-disabled="true"])`,ln="cmdk-item-select",Rt="data-value",Z0=(t,s,r)=>qv(t,s,r),du=i.createContext(void 0),Ys=()=>i.useContext(du),uu=i.createContext(void 0),Zn=()=>i.useContext(uu),mu=i.createContext(void 0),pu=i.forwardRef((t,s)=>{let r=Xt(()=>{var D,U;return{search:"",value:(U=(D=t.value)!=null?D:t.defaultValue)!=null?U:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=Xt(()=>new Set),n=Xt(()=>new Map),o=Xt(()=>new Map),c=Xt(()=>new Set),l=fu(t),{label:d,children:u,value:m,onValueChange:p,filter:x,shouldFilter:y,loop:v,disablePointerSelection:f=!1,vimBindings:h=!0,...g}=t,b=i.useId(),w=i.useId(),N=i.useId(),T=i.useRef(null),C=ib();Ot(()=>{if(m!==void 0){let D=m.trim();r.current.value=D,j.emit()}},[m]),Ot(()=>{C(6,I)},[]);let j=i.useMemo(()=>({subscribe:D=>(c.current.add(D),()=>c.current.delete(D)),snapshot:()=>r.current,setState:(D,U,Y)=>{var G,W,L;if(!Object.is(r.current[D],U)){if(r.current[D]=U,D==="search")P(),M(),C(1,S);else if(D==="value"&&(Y||C(5,I),((G=l.current)==null?void 0:G.value)!==void 0)){let Z=U??"";(L=(W=l.current).onValueChange)==null||L.call(W,Z);return}j.emit()}},emit:()=>{c.current.forEach(D=>D())}}),[]),E=i.useMemo(()=>({value:(D,U,Y)=>{var G;U!==((G=o.current.get(D))==null?void 0:G.value)&&(o.current.set(D,{value:U,keywords:Y}),r.current.filtered.items.set(D,A(U,Y)),C(2,()=>{M(),j.emit()}))},item:(D,U)=>(a.current.add(D),U&&(n.current.has(U)?n.current.get(U).add(D):n.current.set(U,new Set([D]))),C(3,()=>{P(),M(),r.current.value||S(),j.emit()}),()=>{o.current.delete(D),a.current.delete(D),r.current.filtered.items.delete(D);let Y=_();C(4,()=>{P(),(Y==null?void 0:Y.getAttribute("id"))===D&&S(),j.emit()})}),group:D=>(n.current.has(D)||n.current.set(D,new Set),()=>{o.current.delete(D),n.current.delete(D)}),filter:()=>l.current.shouldFilter,label:d||t["aria-label"],disablePointerSelection:f,listId:b,inputId:N,labelId:w,listInnerRef:T}),[]);function A(D,U){var Y,G;let W=(G=(Y=l.current)==null?void 0:Y.filter)!=null?G:Z0;return D?W(D,r.current.search,U):0}function M(){if(!r.current.search||l.current.shouldFilter===!1)return;let D=r.current.filtered.items,U=[];r.current.filtered.groups.forEach(G=>{let W=n.current.get(G),L=0;W.forEach(Z=>{let ae=D.get(Z);L=Math.max(ae,L)}),U.push([G,L])});let Y=T.current;k().sort((G,W)=>{var L,Z;let ae=G.getAttribute("id"),se=W.getAttribute("id");return((L=D.get(se))!=null?L:0)-((Z=D.get(ae))!=null?Z:0)}).forEach(G=>{let W=G.closest(Pa);W?W.appendChild(G.parentElement===W?G:G.closest(`${Pa} > *`)):Y.appendChild(G.parentElement===Y?G:G.closest(`${Pa} > *`))}),U.sort((G,W)=>W[1]-G[1]).forEach(G=>{let W=T.current.querySelector(`${ys}[${Rt}="${encodeURIComponent(G[0])}"]`);W==null||W.parentElement.appendChild(W)})}function S(){let D=k().find(Y=>Y.getAttribute("aria-disabled")!=="true"),U=D==null?void 0:D.getAttribute(Rt);j.setState("value",U||void 0)}function P(){var D,U,Y,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let W=0;for(let L of a.current){let Z=(U=(D=o.current.get(L))==null?void 0:D.value)!=null?U:"",ae=(G=(Y=o.current.get(L))==null?void 0:Y.keywords)!=null?G:[],se=A(Z,ae);r.current.filtered.items.set(L,se),se>0&&W++}for(let[L,Z]of n.current)for(let ae of Z)if(r.current.filtered.items.get(ae)>0){r.current.filtered.groups.add(L);break}r.current.filtered.count=W}function I(){var D,U,Y;let G=_();G&&(((D=G.parentElement)==null?void 0:D.firstChild)===G&&((Y=(U=G.closest(ys))==null?void 0:U.querySelector(Y0))==null||Y.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function _(){var D;return(D=T.current)==null?void 0:D.querySelector(`${Yn}[aria-selected="true"]`)}function k(){var D;return Array.from((D=T.current)==null?void 0:D.querySelectorAll(Yo))}function $(D){let U=k()[D];U&&j.setState("value",U.getAttribute(Rt))}function O(D){var U;let Y=_(),G=k(),W=G.findIndex(Z=>Z===Y),L=G[W+D];(U=l.current)!=null&&U.loop&&(L=W+D<0?G[G.length-1]:W+D===G.length?G[0]:G[W+D]),L&&j.setState("value",L.getAttribute(Rt))}function z(D){let U=_(),Y=U==null?void 0:U.closest(ys),G;for(;Y&&!G;)Y=D>0?nb(Y,ys):ob(Y,ys),G=Y==null?void 0:Y.querySelector(Yo);G?j.setState("value",G.getAttribute(Rt)):O(D)}let J=()=>$(k().length-1),H=D=>{D.preventDefault(),D.metaKey?J():D.altKey?z(1):O(1)},B=D=>{D.preventDefault(),D.metaKey?$(0):D.altKey?z(-1):O(-1)};return i.createElement(Ke.div,{ref:s,tabIndex:-1,...g,"cmdk-root":"",onKeyDown:D=>{var U;if((U=g.onKeyDown)==null||U.call(g,D),!D.defaultPrevented)switch(D.key){case"n":case"j":{h&&D.ctrlKey&&H(D);break}case"ArrowDown":{H(D);break}case"p":case"k":{h&&D.ctrlKey&&B(D);break}case"ArrowUp":{B(D);break}case"Home":{D.preventDefault(),$(0);break}case"End":{D.preventDefault(),J();break}case"Enter":if(!D.nativeEvent.isComposing&&D.keyCode!==229){D.preventDefault();let Y=_();if(Y){let G=new Event(ln);Y.dispatchEvent(G)}}}}},i.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:cb},d),na(t,D=>i.createElement(uu.Provider,{value:j},i.createElement(du.Provider,{value:E},D))))}),J0=i.forwardRef((t,s)=>{var r,a;let n=i.useId(),o=i.useRef(null),c=i.useContext(mu),l=Ys(),d=fu(t),u=(a=(r=d.current)==null?void 0:r.forceMount)!=null?a:c==null?void 0:c.forceMount;Ot(()=>{if(!u)return l.item(n,c==null?void 0:c.id)},[u]);let m=hu(n,o,[t.value,t.children,o],t.keywords),p=Zn(),x=Lt(C=>C.value&&C.value===m.current),y=Lt(C=>u||l.filter()===!1?!0:C.search?C.filtered.items.get(n)>0:!0);i.useEffect(()=>{let C=o.current;if(!(!C||t.disabled))return C.addEventListener(ln,v),()=>C.removeEventListener(ln,v)},[y,t.onSelect,t.disabled]);function v(){var C,j;f(),(j=(C=d.current).onSelect)==null||j.call(C,m.current)}function f(){p.setState("value",m.current,!0)}if(!y)return null;let{disabled:h,value:g,onSelect:b,forceMount:w,keywords:N,...T}=t;return i.createElement(Ke.div,{ref:zs([o,s]),...T,id:n,"cmdk-item":"",role:"option","aria-disabled":!!h,"aria-selected":!!x,"data-disabled":!!h,"data-selected":!!x,onPointerMove:h||l.disablePointerSelection?void 0:f,onClick:h?void 0:v},t.children)}),X0=i.forwardRef((t,s)=>{let{heading:r,children:a,forceMount:n,...o}=t,c=i.useId(),l=i.useRef(null),d=i.useRef(null),u=i.useId(),m=Ys(),p=Lt(y=>n||m.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);Ot(()=>m.group(c),[]),hu(c,l,[t.value,t.heading,d]);let x=i.useMemo(()=>({id:c,forceMount:n}),[n]);return i.createElement(Ke.div,{ref:zs([l,s]),...o,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&i.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),na(t,y=>i.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},i.createElement(mu.Provider,{value:x},y))))}),Q0=i.forwardRef((t,s)=>{let{alwaysRender:r,...a}=t,n=i.useRef(null),o=Lt(c=>!c.search);return!r&&!o?null:i.createElement(Ke.div,{ref:zs([n,s]),...a,"cmdk-separator":"",role:"separator"})}),eb=i.forwardRef((t,s)=>{let{onValueChange:r,...a}=t,n=t.value!=null,o=Zn(),c=Lt(m=>m.search),l=Lt(m=>m.value),d=Ys(),u=i.useMemo(()=>{var m;let p=(m=d.listInnerRef.current)==null?void 0:m.querySelector(`${Yn}[${Rt}="${encodeURIComponent(l)}"]`);return p==null?void 0:p.getAttribute("id")},[]);return i.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),i.createElement(Ke.input,{ref:s,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:n?t.value:c,onChange:m=>{n||o.setState("search",m.target.value),r==null||r(m.target.value)}})}),tb=i.forwardRef((t,s)=>{let{children:r,label:a="Suggestions",...n}=t,o=i.useRef(null),c=i.useRef(null),l=Ys();return i.useEffect(()=>{if(c.current&&o.current){let d=c.current,u=o.current,m,p=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let x=d.offsetHeight;u.style.setProperty("--cmdk-list-height",x.toFixed(1)+"px")})});return p.observe(d),()=>{cancelAnimationFrame(m),p.unobserve(d)}}},[]),i.createElement(Ke.div,{ref:zs([o,s]),...n,"cmdk-list":"",role:"listbox","aria-label":a,id:l.listId},na(t,d=>i.createElement("div",{ref:zs([c,l.listInnerRef]),"cmdk-list-sizer":""},d)))}),sb=i.forwardRef((t,s)=>{let{open:r,onOpenChange:a,overlayClassName:n,contentClassName:o,container:c,...l}=t;return i.createElement(G0,{open:r,onOpenChange:a},i.createElement(W0,{container:c},i.createElement(q0,{"cmdk-overlay":"",className:n}),i.createElement(K0,{"aria-label":t.label,"cmdk-dialog":"",className:o},i.createElement(pu,{ref:s,...l}))))}),rb=i.forwardRef((t,s)=>Lt(r=>r.filtered.count===0)?i.createElement(Ke.div,{ref:s,...t,"cmdk-empty":"",role:"presentation"}):null),ab=i.forwardRef((t,s)=>{let{progress:r,children:a,label:n="Loading...",...o}=t;return i.createElement(Ke.div,{ref:s,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},na(t,c=>i.createElement("div",{"aria-hidden":!0},c)))}),Ue=Object.assign(pu,{List:tb,Item:J0,Input:eb,Group:X0,Separator:Q0,Dialog:sb,Empty:rb,Loading:ab});function nb(t,s){let r=t.nextElementSibling;for(;r;){if(r.matches(s))return r;r=r.nextElementSibling}}function ob(t,s){let r=t.previousElementSibling;for(;r;){if(r.matches(s))return r;r=r.previousElementSibling}}function fu(t){let s=i.useRef(t);return Ot(()=>{s.current=t}),s}var Ot=typeof window>"u"?i.useEffect:i.useLayoutEffect;function Xt(t){let s=i.useRef();return s.current===void 0&&(s.current=t()),s}function zs(t){return s=>{t.forEach(r=>{typeof r=="function"?r(s):r!=null&&(r.current=s)})}}function Lt(t){let s=Zn(),r=()=>t(s.snapshot());return i.useSyncExternalStore(s.subscribe,r,r)}function hu(t,s,r,a=[]){let n=i.useRef(),o=Ys();return Ot(()=>{var c;let l=(()=>{var u;for(let m of r){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(u=m.current.textContent)==null?void 0:u.trim():n.current}})(),d=a.map(u=>u.trim());o.value(t,l,d),(c=s.current)==null||c.setAttribute(Rt,l),n.current=l}),n}var ib=()=>{let[t,s]=i.useState(),r=Xt(()=>new Map);return Ot(()=>{r.current.forEach(a=>a()),r.current=new Map},[t]),(a,n)=>{r.current.set(a,n),s({})}};function lb(t){let s=t.type;return typeof s=="function"?s(t.props):"render"in s?s.render(t.props):t}function na({asChild:t,children:s},r){return t&&i.isValidElement(s)?i.cloneElement(lb(s),{ref:s.ref},r(s.props.children)):r(s)}var cb={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const xu=i.forwardRef(({className:t,...s},r)=>e.jsx(Ue,{ref:r,className:K("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s}));xu.displayName=Ue.displayName;const gu=i.forwardRef(({className:t,...s},r)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx($e,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(Ue.Input,{ref:r,className:K("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]}));gu.displayName=Ue.Input.displayName;const vu=i.forwardRef(({className:t,...s},r)=>e.jsx(Ue.List,{ref:r,className:K("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s}));vu.displayName=Ue.List.displayName;const bu=i.forwardRef((t,s)=>e.jsx(Ue.Empty,{ref:s,className:"py-6 text-center text-sm",...t}));bu.displayName=Ue.Empty.displayName;const yu=i.forwardRef(({className:t,...s},r)=>e.jsx(Ue.Group,{ref:r,className:K("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s}));yu.displayName=Ue.Group.displayName;const db=i.forwardRef(({className:t,...s},r)=>e.jsx(Ue.Separator,{ref:r,className:K("-mx-1 h-px bg-border",t),...s}));db.displayName=Ue.Separator.displayName;const ju=i.forwardRef(({className:t,...s},r)=>e.jsx(Ue.Item,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...s}));ju.displayName=Ue.Item.displayName;function wu({options:t,value:s,onChange:r,placeholder:a="Digite para buscar...",emptyText:n="Nenhum resultado encontrado.",className:o}){const[c,l]=i.useState(!1),[d,u]=i.useState(""),m=v=>{s.includes(v)||r([...s,v]),u(""),l(!1)},p=v=>{r(s.filter(f=>f!==v))},x=v=>{v.key==="Enter"&&d.trim()&&!t.find(f=>f.toLowerCase()===d.toLowerCase())&&(s.includes(d.trim())||r([...s,d.trim()]),u(""),l(!1),v.preventDefault())},y=t.filter(v=>v.toLowerCase().includes(d.toLowerCase())&&!s.includes(v));return e.jsxs("div",{className:K("w-full",o),children:[s.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.map(v=>e.jsxs(Ne,{variant:"secondary",className:"flex items-center gap-1",children:[v,e.jsx(Ee,{className:"h-3 w-3 cursor-pointer hover:text-red-500",onClick:()=>p(v)})]},v))}),e.jsxs(qr,{open:c,onOpenChange:l,children:[e.jsx(Kr,{asChild:!0,children:e.jsxs(R,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between",children:[d||a,e.jsx(Gr,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Ws,{className:"w-full p-0",children:e.jsxs(xu,{children:[e.jsx(gu,{placeholder:a,value:d,onValueChange:u,onKeyDown:x}),e.jsxs(vu,{children:[e.jsx(bu,{children:d.trim()?e.jsxs("div",{className:"text-center py-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:n}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:['Pressione Enter para adicionar "',d,'"']})]}):n}),e.jsx(yu,{children:y.map(v=>e.jsx(ju,{value:v,onSelect:()=>m(v),className:"cursor-pointer",children:v},v))})]})]})})]})]})}const nr=({value:t,onChange:s,suggestions:r,placeholder:a="Digite o que voc procura...",emptyText:n="Nenhuma sugesto encontrada.",showLabel:o=!0,label:c="Buscar produtos"})=>e.jsxs("div",{children:[o&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:c}),e.jsx(wu,{options:r,value:t,onChange:s,placeholder:a,emptyText:n,className:"w-full"})]});function Nu(t,[s,r]){return Math.min(r,Math.max(s,t))}function Qt(t,s,{checkForDefaultPrevented:r=!0}={}){return function(n){if(t==null||t(n),r===!1||!n.defaultPrevented)return s==null?void 0:s(n)}}function Zo(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Su(...t){return s=>{let r=!1;const a=t.map(n=>{const o=Zo(n,s);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let n=0;n<a.length;n++){const o=a[n];typeof o=="function"?o():Zo(t[n],null)}}}}function yt(...t){return i.useCallback(Su(...t),t)}function Cu(t,s=[]){let r=[];function a(o,c){const l=i.createContext(c),d=r.length;r=[...r,c];const u=p=>{var g;const{scope:x,children:y,...v}=p,f=((g=x==null?void 0:x[t])==null?void 0:g[d])||l,h=i.useMemo(()=>v,Object.values(v));return e.jsx(f.Provider,{value:h,children:y})};u.displayName=o+"Provider";function m(p,x){var f;const y=((f=x==null?void 0:x[t])==null?void 0:f[d])||l,v=i.useContext(y);if(v)return v;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[u,m]}const n=()=>{const o=r.map(c=>i.createContext(c));return function(l){const d=(l==null?void 0:l[t])||o;return i.useMemo(()=>({[`__scope${t}`]:{...l,[t]:d}}),[l,d])}};return n.scopeName=t,[a,ub(n,...s)]}function ub(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const c=a.reduce((l,{useScope:d,scopeName:u})=>{const p=d(o)[`__scope${u}`];return{...l,...p}},{});return i.useMemo(()=>({[`__scope${s.scopeName}`]:c}),[c])}};return r.scopeName=s.scopeName,r}var Eu=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},mb=Hs[" useInsertionEffect ".trim().toString()]||Eu;function pb({prop:t,defaultProp:s,onChange:r=()=>{},caller:a}){const[n,o,c]=fb({defaultProp:s,onChange:r}),l=t!==void 0,d=l?t:n;{const m=i.useRef(t!==void 0);i.useEffect(()=>{const p=m.current;p!==l&&console.warn(`${a} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,a])}const u=i.useCallback(m=>{var p;if(l){const x=hb(m)?m(t):m;x!==t&&((p=c.current)==null||p.call(c,x))}else o(m)},[l,t,o,c]);return[d,u]}function fb({defaultProp:t,onChange:s}){const[r,a]=i.useState(t),n=i.useRef(r),o=i.useRef(s);return mb(()=>{o.current=s},[s]),i.useEffect(()=>{var c;n.current!==r&&((c=o.current)==null||c.call(o,r),n.current=r)},[r,n]),[r,a,o]}function hb(t){return typeof t=="function"}var xb=i.createContext(void 0);function gb(t){const s=i.useContext(xb);return t||s||"ltr"}function vb(t){const s=i.useRef({value:t,previous:t});return i.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}function bb(t){const[s,r]=i.useState(void 0);return Eu(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const o=n[0];let c,l;if("borderBoxSize"in o){const d=o.borderBoxSize,u=Array.isArray(d)?d[0]:d;c=u.inlineSize,l=u.blockSize}else c=t.offsetWidth,l=t.offsetHeight;r({width:c,height:l})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else r(void 0)},[t]),s}function cn(t){const s=yb(t),r=i.forwardRef((a,n)=>{const{children:o,...c}=a,l=i.Children.toArray(o),d=l.find(wb);if(d){const u=d.props.children,m=l.map(p=>p===d?i.Children.count(u)>1?i.Children.only(null):i.isValidElement(u)?u.props.children:null:p);return e.jsx(s,{...c,ref:n,children:i.isValidElement(u)?i.cloneElement(u,void 0,m):null})}return e.jsx(s,{...c,ref:n,children:o})});return r.displayName=`${t}.Slot`,r}function yb(t){const s=i.forwardRef((r,a)=>{const{children:n,...o}=r;if(i.isValidElement(n)){const c=Sb(n),l=Nb(o,n.props);return n.type!==i.Fragment&&(l.ref=a?Su(a,c):c),i.cloneElement(n,l)}return i.Children.count(n)>1?i.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var jb=Symbol("radix.slottable");function wb(t){return i.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jb}function Nb(t,s){const r={...s};for(const a in s){const n=t[a],o=s[a];/^on[A-Z]/.test(a)?n&&o?r[a]=(...l)=>{const d=o(...l);return n(...l),d}:n&&(r[a]=n):a==="style"?r[a]={...n,...o}:a==="className"&&(r[a]=[n,o].filter(Boolean).join(" "))}return{...t,...r}}function Sb(t){var a,n;let s=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Cb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zs=Cb.reduce((t,s)=>{const r=cn(`Primitive.${s}`),a=i.forwardRef((n,o)=>{const{asChild:c,...l}=n,d=c?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...l,ref:o})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{});function Eb(t){const s=t+"CollectionProvider",[r,a]=Cu(s),[n,o]=r(s,{collectionRef:{current:null},itemMap:new Map}),c=f=>{const{scope:h,children:g}=f,b=V.useRef(null),w=V.useRef(new Map).current;return e.jsx(n,{scope:h,itemMap:w,collectionRef:b,children:g})};c.displayName=s;const l=t+"CollectionSlot",d=cn(l),u=V.forwardRef((f,h)=>{const{scope:g,children:b}=f,w=o(l,g),N=yt(h,w.collectionRef);return e.jsx(d,{ref:N,children:b})});u.displayName=l;const m=t+"CollectionItemSlot",p="data-radix-collection-item",x=cn(m),y=V.forwardRef((f,h)=>{const{scope:g,children:b,...w}=f,N=V.useRef(null),T=yt(h,N),C=o(m,g);return V.useEffect(()=>(C.itemMap.set(N,{ref:N,...w}),()=>void C.itemMap.delete(N))),e.jsx(x,{[p]:"",ref:T,children:b})});y.displayName=m;function v(f){const h=o(t+"CollectionConsumer",f);return V.useCallback(()=>{const b=h.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${p}]`));return Array.from(h.itemMap.values()).sort((C,j)=>w.indexOf(C.ref.current)-w.indexOf(j.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:c,Slot:u,ItemSlot:y},v,a]}var ku=["PageUp","PageDown"],Pu=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Tu={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ps="Slider",[dn,kb,Pb]=Eb(ps),[Ru,Sw]=Cu(ps,[Pb]),[Tb,oa]=Ru(ps),Au=i.forwardRef((t,s)=>{const{name:r,min:a=0,max:n=100,step:o=1,orientation:c="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[a],value:m,onValueChange:p=()=>{},onValueCommit:x=()=>{},inverted:y=!1,form:v,...f}=t,h=i.useRef(new Set),g=i.useRef(0),w=c==="horizontal"?Rb:Ab,[N=[],T]=pb({prop:m,defaultProp:u,onChange:S=>{var I;(I=[...h.current][g.current])==null||I.focus(),p(S)}}),C=i.useRef(N);function j(S){const P=$b(N,S);M(S,P)}function E(S){M(S,g.current)}function A(){const S=C.current[g.current];N[g.current]!==S&&x(N)}function M(S,P,{commit:I}={commit:!1}){const _=Fb(o),k=Bb(Math.round((S-a)/o)*o+a,_),$=Nu(k,[a,n]);T((O=[])=>{const z=Db(O,$,P);if(zb(z,d*o)){g.current=z.indexOf($);const J=String(z)!==String(O);return J&&I&&x(z),J?z:O}else return O})}return e.jsx(Tb,{scope:t.__scopeSlider,name:r,disabled:l,min:a,max:n,valueIndexToChangeRef:g,thumbs:h.current,values:N,orientation:c,form:v,children:e.jsx(dn.Provider,{scope:t.__scopeSlider,children:e.jsx(dn.Slot,{scope:t.__scopeSlider,children:e.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...f,ref:s,onPointerDown:Qt(f.onPointerDown,()=>{l||(C.current=N)}),min:a,max:n,inverted:y,onSlideStart:l?void 0:j,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&M(a,0,{commit:!0}),onEndKeyDown:()=>!l&&M(n,N.length-1,{commit:!0}),onStepKeyDown:({event:S,direction:P})=>{if(!l){const k=ku.includes(S.key)||S.shiftKey&&Pu.includes(S.key)?10:1,$=g.current,O=N[$],z=o*k*P;M(O+z,$,{commit:!0})}}})})})})});Au.displayName=ps;var[Iu,_u]=Ru(ps,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Rb=i.forwardRef((t,s)=>{const{min:r,max:a,dir:n,inverted:o,onSlideStart:c,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...m}=t,[p,x]=i.useState(null),y=yt(s,w=>x(w)),v=i.useRef(void 0),f=gb(n),h=f==="ltr",g=h&&!o||!h&&o;function b(w){const N=v.current||p.getBoundingClientRect(),T=[0,N.width],j=Jn(T,g?[r,a]:[a,r]);return v.current=N,j(w-N.left)}return e.jsx(Iu,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:e.jsx(Du,{dir:f,"data-orientation":"horizontal",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const N=b(w.clientX);c==null||c(N)},onSlideMove:w=>{const N=b(w.clientX);l==null||l(N)},onSlideEnd:()=>{v.current=void 0,d==null||d()},onStepKeyDown:w=>{const T=Tu[g?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:T?-1:1})}})})}),Ab=i.forwardRef((t,s)=>{const{min:r,max:a,inverted:n,onSlideStart:o,onSlideMove:c,onSlideEnd:l,onStepKeyDown:d,...u}=t,m=i.useRef(null),p=yt(s,m),x=i.useRef(void 0),y=!n;function v(f){const h=x.current||m.current.getBoundingClientRect(),g=[0,h.height],w=Jn(g,y?[a,r]:[r,a]);return x.current=h,w(f-h.top)}return e.jsx(Iu,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:e.jsx(Du,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const h=v(f.clientY);o==null||o(h)},onSlideMove:f=>{const h=v(f.clientY);c==null||c(h)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:f=>{const g=Tu[y?"from-bottom":"from-top"].includes(f.key);d==null||d({event:f,direction:g?-1:1})}})})}),Du=i.forwardRef((t,s)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:n,onSlideEnd:o,onHomeKeyDown:c,onEndKeyDown:l,onStepKeyDown:d,...u}=t,m=oa(ps,r);return e.jsx(Zs.span,{...u,ref:s,onKeyDown:Qt(t.onKeyDown,p=>{p.key==="Home"?(c(p),p.preventDefault()):p.key==="End"?(l(p),p.preventDefault()):ku.concat(Pu).includes(p.key)&&(d(p),p.preventDefault())}),onPointerDown:Qt(t.onPointerDown,p=>{const x=p.target;x.setPointerCapture(p.pointerId),p.preventDefault(),m.thumbs.has(x)?x.focus():a(p)}),onPointerMove:Qt(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&n(p)}),onPointerUp:Qt(t.onPointerUp,p=>{const x=p.target;x.hasPointerCapture(p.pointerId)&&(x.releasePointerCapture(p.pointerId),o(p))})})}),Mu="SliderTrack",$u=i.forwardRef((t,s)=>{const{__scopeSlider:r,...a}=t,n=oa(Mu,r);return e.jsx(Zs.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...a,ref:s})});$u.displayName=Mu;var un="SliderRange",Ou=i.forwardRef((t,s)=>{const{__scopeSlider:r,...a}=t,n=oa(un,r),o=_u(un,r),c=i.useRef(null),l=yt(s,c),d=n.values.length,u=n.values.map(x=>Fu(x,n.min,n.max)),m=d>1?Math.min(...u):0,p=100-Math.max(...u);return e.jsx(Zs.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...a,ref:l,style:{...t.style,[o.startEdge]:m+"%",[o.endEdge]:p+"%"}})});Ou.displayName=un;var mn="SliderThumb",Lu=i.forwardRef((t,s)=>{const r=kb(t.__scopeSlider),[a,n]=i.useState(null),o=yt(s,l=>n(l)),c=i.useMemo(()=>a?r().findIndex(l=>l.ref.current===a):-1,[r,a]);return e.jsx(Ib,{...t,ref:o,index:c})}),Ib=i.forwardRef((t,s)=>{const{__scopeSlider:r,index:a,name:n,...o}=t,c=oa(mn,r),l=_u(mn,r),[d,u]=i.useState(null),m=yt(s,b=>u(b)),p=d?c.form||!!d.closest("form"):!0,x=bb(d),y=c.values[a],v=y===void 0?0:Fu(y,c.min,c.max),f=Mb(a,c.values.length),h=x==null?void 0:x[l.size],g=h?Ob(h,v,l.direction):0;return i.useEffect(()=>{if(d)return c.thumbs.add(d),()=>{c.thumbs.delete(d)}},[d,c.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${g}px)`},children:[e.jsx(dn.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Zs.span,{role:"slider","aria-label":t["aria-label"]||f,"aria-valuemin":c.min,"aria-valuenow":y,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...o,ref:m,style:y===void 0?{display:"none"}:t.style,onFocus:Qt(t.onFocus,()=>{c.valueIndexToChangeRef.current=a})})}),p&&e.jsx(zu,{name:n??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:y},a)]})});Lu.displayName=mn;var _b="RadioBubbleInput",zu=i.forwardRef(({__scopeSlider:t,value:s,...r},a)=>{const n=i.useRef(null),o=yt(n,a),c=vb(s);return i.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==s&&m){const p=new Event("input",{bubbles:!0});m.call(l,s),l.dispatchEvent(p)}},[c,s]),e.jsx(Zs.input,{style:{display:"none"},...r,ref:o,defaultValue:s})});zu.displayName=_b;function Db(t=[],s,r){const a=[...t];return a[r]=s,a.sort((n,o)=>n-o)}function Fu(t,s,r){const o=100/(r-s)*(t-s);return Nu(o,[0,100])}function Mb(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function $b(t,s){if(t.length===1)return 0;const r=t.map(n=>Math.abs(n-s)),a=Math.min(...r);return r.indexOf(a)}function Ob(t,s,r){const a=t/2,o=Jn([0,50],[0,a]);return(a-o(s)*r)*r}function Lb(t){return t.slice(0,-1).map((s,r)=>t[r+1]-s)}function zb(t,s){if(s>0){const r=Lb(t);return Math.min(...r)>=s}return!0}function Jn(t,s){return r=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(t[1]-t[0]);return s[0]+a*(r-t[0])}}function Fb(t){return(String(t).split(".")[1]||"").length}function Bb(t,s){const r=Math.pow(10,s);return Math.round(t*r)/r}var Bu=Au,Ub=$u,Vb=Ou,Hb=Lu;const At=i.forwardRef(({className:t,...s},r)=>e.jsxs(Bu,{ref:r,className:K("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(Ub,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Vb,{className:"absolute h-full bg-primary"})}),e.jsx(Hb,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));At.displayName=Bu.displayName;const Gb=({value:t,onChange:s})=>{const r=()=>t[1]>=1e3?`R$ ${t[0]} - Acima de R$ 1.000`:`R$ ${t[0]} - R$ ${t[1]}`;return e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Faixa de preo: ",r()]}),e.jsx(At,{value:t,onValueChange:s,max:1e3,min:0,step:50,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"R$ 0"}),e.jsx("span",{children:"R$ 1.000+"})]})]})};var Xn="Checkbox",[Wb,Cw]=Ft(Xn),[qb,Kb]=Wb(Xn),Uu=i.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:a,checked:n,defaultChecked:o,required:c,disabled:l,value:d="on",onCheckedChange:u,form:m,...p}=t,[x,y]=i.useState(null),v=De(s,N=>y(N)),f=i.useRef(!1),h=x?m||!!x.closest("form"):!0,[g=!1,b]=ct({prop:n,defaultProp:o,onChange:u}),w=i.useRef(g);return i.useEffect(()=>{const N=x==null?void 0:x.form;if(N){const T=()=>b(w.current);return N.addEventListener("reset",T),()=>N.removeEventListener("reset",T)}},[x,b]),e.jsxs(qb,{scope:r,state:g,disabled:l,children:[e.jsx(de.button,{type:"button",role:"checkbox","aria-checked":vt(g)?"mixed":g,"aria-required":c,"data-state":Gu(g),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:v,onKeyDown:ne(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ne(t.onClick,N=>{b(T=>vt(T)?!0:!T),h&&(f.current=N.isPropagationStopped(),f.current||N.stopPropagation())})}),h&&e.jsx(Yb,{control:x,bubbles:!f.current,name:a,value:d,checked:g,required:c,disabled:l,form:m,style:{transform:"translateX(-100%)"},defaultChecked:vt(o)?!1:o})]})});Uu.displayName=Xn;var Vu="CheckboxIndicator",Hu=i.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:a,...n}=t,o=Kb(Vu,r);return e.jsx(Tr,{present:a||vt(o.state)||o.state===!0,children:e.jsx(de.span,{"data-state":Gu(o.state),"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...t.style}})})});Hu.displayName=Vu;var Yb=t=>{const{control:s,checked:r,bubbles:a=!0,defaultChecked:n,...o}=t,c=i.useRef(null),l=Xl(r),d=wp(s);i.useEffect(()=>{const m=c.current,p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==r&&y){const v=new Event("click",{bubbles:a});m.indeterminate=vt(r),y.call(m,vt(r)?!1:r),m.dispatchEvent(v)}},[l,r,a]);const u=i.useRef(vt(r)?!1:r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...o,tabIndex:-1,ref:c,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vt(t){return t==="indeterminate"}function Gu(t){return vt(t)?"indeterminate":t?"checked":"unchecked"}var Wu=Uu,Zb=Hu;const Er=i.forwardRef(({className:t,...s},r)=>e.jsx(Wu,{ref:r,className:K("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Zb,{className:K("flex items-center justify-center text-current"),children:e.jsx(dt,{className:"h-4 w-4"})})}));Er.displayName=Wu.displayName;const Jb=({inStock:t,onSale:s,onInStockChange:r,onOnSaleChange:a})=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Er,{id:"inStock",checked:t,onCheckedChange:n=>r(!!n)}),e.jsx("label",{htmlFor:"inStock",className:"text-sm",children:"Produtos em estoque"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Er,{id:"onSale",checked:s,onCheckedChange:n=>a(!!n)}),e.jsx("label",{htmlFor:"onSale",className:"text-sm",children:"Produtos em promoo"})]})]}),Xb=({onFiltersChange:t})=>{const[s,r]=i.useState([]),[a,n]=i.useState([0,1e3]),[o,c]=i.useState([]),[l,d]=i.useState([]),[u,m]=i.useState([]),[p,x]=i.useState([]),[y,v]=i.useState(!1),[f,h]=i.useState(!1),g=["Zara","H&M","Nike","Adidas","Forever 21","Mango","Uniqlo","Gap","C&A","Renner","Riachuelo","Farm","Osklen","Colcci"],b=["Preto","Branco","Azul","Vermelho","Verde","Rosa","Amarelo","Cinza","Marrom","Roxo","Laranja","Bege","Azul Marinho","Verde Escuro"],w=["PP","P","M","G","GG","XG","XXG"],N=["Vestidos","Blusas","Calas","Saias","Blazers","Jaquetas","Acessrios","Sapatos","Bolsas","Bijuterias","culos","Lingerie"],T=()=>{const E={searchQuery:s.join(" "),priceRange:a,brands:o,colors:l,sizes:u,categories:p,inStock:y,onSale:f};t(E)},C=()=>{r([]),n([0,1e3]),c([]),d([]),m([]),x([]),v(!1),h(!1)},j=s.length>0||o.length>0||l.length>0||u.length>0||p.length>0||y||f||a[0]>0||a[1]<1e3;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-4",children:[e.jsxs("span",{className:"flex items-center gap-2 text-base font-semibold text-gray-900",children:[e.jsx(yr,{className:"h-5 w-5"}),"Filtros Avanados"]}),j&&e.jsxs(R,{variant:"ghost",size:"sm",onClick:C,children:[e.jsx(Ee,{className:"h-4 w-4 mr-1"}),"Limpar"]})]}),e.jsxs("div",{className:"space-y-6 px-6 pb-6",children:[e.jsx(nr,{value:s,onChange:r,suggestions:[],placeholder:"Digite livremente o que voc procura...",emptyText:"Digite qualquer termo de busca.",label:"Buscar produtos"}),e.jsx(Gb,{value:a,onChange:n}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categorias"}),e.jsx(nr,{value:p,onChange:x,suggestions:N,placeholder:"Digite ou selecione categorias...",emptyText:"Nenhuma categoria encontrada.",showLabel:!1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marcas"}),e.jsx(nr,{value:o,onChange:c,suggestions:g,placeholder:"Digite ou selecione marcas...",emptyText:"Nenhuma marca encontrada.",showLabel:!1})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cores"}),e.jsx(nr,{value:l,onChange:d,suggestions:b,placeholder:"Digite ou selecione cores...",emptyText:"Nenhuma cor encontrada.",showLabel:!1})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tamanhos"}),e.jsx(qd,{type:"multiple",value:u,onValueChange:m,className:"justify-start flex-wrap gap-2",children:w.map(E=>e.jsx(Kd,{value:E,variant:"outline",className:"px-4 py-2 min-w-[60px] data-[state=on]:bg-primary data-[state=on]:text-primary-foreground",children:E},E))})]}),e.jsx(Jb,{inStock:y,onSale:f,onInStockChange:v,onOnSaleChange:h}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(R,{onClick:T,className:"flex-1 h-10",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Aplicar Filtros"]}),e.jsxs(R,{onClick:C,variant:"outline",disabled:!j,className:"flex-1 h-10",children:[e.jsx(yr,{className:"h-4 w-4 mr-2"}),"Limpar Tudo"]})]})]})]})},Qb=["trabalho","reunio importante","apresentao","primeiro dia de trabalho","entrevista de emprego","conferncia","networking","escritrio casual","encontro romntico","primeiro encontro","jantar a dois","almoo casual","happy hour","encontro com amigos","cinema","shopping","festa de aniversrio","festa em casa","balada","bar","festa na piscina","festa junina","reveillon","carnaval","festa  fantasia","casamento","formatura","gala","pera","teatro","cerimnia","evento corporativo","premiao","coquetel","jantar formal","viagem de negcios","frias na praia","viagem de montanha","city tour","viagem internacional","fim de semana","hotel","academia","corrida","yoga","pilates","natao","tnis","futebol","caminhada","parque","piquenique","almoo em famlia","visita aos pais","churrasco","aniversrio criana","reunio famlia","domingo em casa","dia das mes","dia dos pais","natal","pscoa","dia dos namorados","halloween","ano novo"],ey=({onOccasionSearch:t,loading:s})=>{const[r,a]=i.useState(""),[n,o]=i.useState([]),c=()=>{let d="";n.length>0?d=n.join(", "):r.trim()&&(d=r.trim()),d&&t(`[Busca por ocasio] ${d}`)},l=d=>{d.key==="Enter"&&c()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"subtitle-section",children:"Buscar por Ocasio"}),e.jsx("p",{className:"subtitle-description",children:"Digite ou selecione ocasies para encontrar looks ideais"})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Selecione ocasies (opcional)"}),e.jsx(wu,{options:Qb,value:n,onChange:o,placeholder:"Ex: casamento, trabalho, festa...",emptyText:"Nenhuma ocasio encontrada"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ou descreva livremente"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(pe,{placeholder:"Ex: evento formal no vero, look confortvel para viajar...",value:r,onChange:d=>a(d.target.value),onKeyPress:l,className:"flex-1"}),e.jsx(R,{onClick:c,disabled:s||!n.length&&!r.trim(),className:"bg-orange-500 hover:bg-orange-600",children:s?e.jsx(le,{className:"h-4 w-4 animate-spin"}):e.jsx($e,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:" Dica: Voc pode selecionar vrias ocasies ou descrever livremente o que procura"})]})]})},ty=({onImageSearch:t,colorPalette:s,onDiscoverPalette:r})=>{const[a,n]=i.useState(null),[o,c]=i.useState(!1),[l,d]=i.useState(!1),u=i.useRef(null),{toast:m}=ge(),p=g=>{g.preventDefault(),g.stopPropagation(),g.type==="dragenter"||g.type==="dragleave"||g.type==="dragover"?c(!0):g.type==="dragleave"&&c(!1)},x=g=>{g.preventDefault(),g.stopPropagation(),c(!1);const b=g.dataTransfer.files;b&&b[0]&&v(b[0])},y=g=>{const b=g.target.files;b&&b[0]&&v(b[0])},v=g=>{if(!g.type.startsWith("image/")){m({title:"Arquivo invlido",description:"Por favor, selecione uma imagem",variant:"destructive"});return}const b=new FileReader;b.onload=w=>{var T;const N=(T=w.target)==null?void 0:T.result;n(N)},b.readAsDataURL(g)},f=()=>{a&&(s?(t(a),m({title:"Buscando por imagem...",description:"Analisando a imagem para encontrar produtos similares"})):d(!0))},h=()=>{n(null),u.current&&(u.current.value="")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(rt,{className:"h-5 w-5"}),e.jsx("h3",{className:"font-medium",children:"Buscar por Imagem"})]}),a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a,alt:"Imagem selecionada",className:"w-full h-48 object-cover rounded-lg"}),e.jsx(R,{variant:"ghost",size:"sm",onClick:h,className:"absolute top-2 right-2 bg-white dark:bg-gray-800",children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsx(R,{onClick:f,className:"w-full",children:"Buscar Produtos Similares"})]}):e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${o?"border-orange-500 bg-orange-50 dark:bg-orange-950":"border-gray-300 dark:border-gray-600"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:x,children:[e.jsx(lt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Arraste uma imagem aqui ou clique para selecionar"}),e.jsx(R,{variant:"outline",onClick:()=>{var g;return(g=u.current)==null?void 0:g.click()},children:"Selecionar Imagem"}),e.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:y,className:"hidden"})]})]}),e.jsx(jd,{open:l,onOpenChange:d,onDiscoverPalette:r||(()=>{}),featureType:"image-search"})]})},ia=()=>{const[t,s]=i.useState([]),[r,a]=i.useState(null),[n,o]=i.useState(!0);i.useEffect(()=>{c()},[]);const c=()=>{try{const m=localStorage.getItem("pozzy-saved-palettes");if(m){const p=JSON.parse(m);if(s(p),p.length>0){const x=p.sort((y,v)=>new Date(v.createdAt).getTime()-new Date(y.createdAt).getTime())[0];a(x)}}}catch(m){console.error("Erro ao carregar paletas salvas:",m)}finally{o(!1)}};return{savedPalettes:t,currentPalette:r,isLoading:n,savePalette:(m,p)=>{try{const x={id:`palette-${Date.now()}`,data:m,createdAt:new Date().toISOString(),name:p||m.seasonType||"Minha Paleta"},y=[x,...t];return s(y),a(x),localStorage.setItem("pozzy-saved-palettes",JSON.stringify(y)),x}catch(x){return console.error("Erro ao salvar paleta:",x),null}},deletePalette:m=>{try{const p=t.filter(x=>x.id!==m);if(s(p),(r==null?void 0:r.id)===m){const x=p.length>0?p[0]:null;a(x)}return localStorage.setItem("pozzy-saved-palettes",JSON.stringify(p)),!0}catch(p){return console.error("Erro ao excluir paleta:",p),!1}},clearAllPalettes:()=>{try{return s([]),a(null),localStorage.removeItem("pozzy-saved-palettes"),!0}catch(m){return console.error("Erro ao limpar paletas:",m),!1}},setCurrentPalette:a}},or=[{id:"default-1",data:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI2NyIgdmlld0JveD0iMCAwIDIwMCAyNjciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjY3IiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSIzMCIgZmlsbD0iI0Q5RDlEOSIvPgo8cGF0aCBkPSJNNzAgMTMwSDE3MEwxNDAgMjAwSDYwTDcwIDEzMFoiIGZpbGw9IiNEOUQ5RDkiLz4KPHRleHQgeD0iMTAwIiB5PSIyNDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM5Q0EzQUYiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+Rm90byAxPC90ZXh0Pgo8L3N2Zz4=",name:"Foto Exemplo 1"},{id:"default-2",data:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI2NyIgdmlld0JveD0iMCAwIDIwMCAyNjciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjY3IiBmaWxsPSIjRkVGM0UyIi8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSIzMCIgZmlsbD0iI0Y5Qzc0RiIvPgo8cGF0aCBkPSJNNzAgMTMwSDE3MEwxNDAgMjAwSDYwTDcwIDEzMFoiIGZpbGw9IiNGOUM3NEYiLz4KPHRleHQgeD0iMTAwIiB5PSIyNDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiNENzI5MDkiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+Rm90byAyPC90ZXh0Pgo8L3N2Zz4=",name:"Foto Exemplo 2"},{id:"default-3",data:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjI2NyIgdmlld0JveD0iMCAwIDIwMCAyNjciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjY3IiBmaWxsPSIjRUNGREY1Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSIzMCIgZmlsbD0iIzM0RDM5OSIvPgo8cGF0aCBkPSJNNzAgMTMwSDE3MEwxNDAgMjAwSDYwTDcwIDEzMFoiIGZpbGw9IiMzNEQzOTkiLz4KPHRleHQgeD0iMTAwIiB5PSIyNDAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiMwNTY5NDIiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+Rm90byAzPC90ZXh0Pgo8L3N2Zz4=",name:"Foto Exemplo 3"}],qu=()=>{const[t,s]=i.useState([]),[r,a]=i.useState(!0);i.useEffect(()=>{(()=>{try{const u=localStorage.getItem("pozzy-saved-photos");if(u){const m=JSON.parse(u);Array.isArray(m)&&m.length>0?s(m):s(or)}else s(or)}catch(u){console.error("Erro ao carregar fotos salvas:",u),s(or)}finally{a(!1)}})()},[]);const n=d=>{try{s(d),localStorage.setItem("pozzy-saved-photos",JSON.stringify(d))}catch(u){console.error("Erro ao salvar fotos:",u)}};return{savedPhotos:t,addSavedPhoto:d=>{const u=[...t,d];n(u)},removeSavedPhoto:d=>{const u=t.filter(m=>m.id!==d);n(u)},replaceSavedPhoto:(d,u)=>{const m=t.map(p=>p.id===d?u:p);n(m)},DEFAULT_PHOTOS:or,isLoading:r}},sy=({savedPhotos:t,isLoading:s,onPhotoSelect:r,onBack:a})=>{const[n,o]=i.useState(null),c=d=>{n===d.id?r(d.data):o(d.id)},l=()=>{const d=t.find(u=>u.id===n);d&&r(d.data)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 dark:from-purple-950 dark:via-pink-950 dark:to-orange-950",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 text-white",children:e.jsxs("div",{className:"flex items-center p-4",children:[e.jsx(R,{onClick:a,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-full h-10 w-10 p-0 mr-3",children:e.jsx(Vr,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"font-semibold text-lg",children:"Suas Fotos Salvas"}),e.jsx("p",{className:"text-white/90 text-sm",children:t.length>0?`${t.length} foto(s) disponvel(is)`:"Nenhuma foto encontrada"})]})]})}),e.jsx("div",{className:"p-4",children:s?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando suas fotos..."})]}):t.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx(X,{className:"border-0 bg-blue-50 dark:bg-blue-950",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-500/10 rounded-full",children:e.jsx($e,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-blue-800 dark:text-blue-200 text-sm font-medium",children:"Toque em uma foto para selecion-la"}),e.jsx("p",{className:"text-blue-600 dark:text-blue-400 text-xs",children:"Toque novamente para confirmar a escolha"})]})]})})}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map(d=>{const u=n===d.id;return e.jsx(X,{className:`overflow-hidden cursor-pointer transform transition-all duration-300 ${u?"scale-105 ring-4 ring-purple-500 shadow-xl":"hover:scale-[1.02] shadow-lg"}`,onClick:()=>c(d),children:e.jsx(ee,{className:"p-0",children:e.jsxs("div",{className:"relative aspect-[3/4]",children:[e.jsx("img",{src:d.data,alt:d.name,className:"w-full h-full object-cover"}),u&&e.jsx("div",{className:"absolute inset-0 bg-purple-500/30 flex items-center justify-center",children:e.jsx("div",{className:"bg-purple-600 text-white rounded-full p-3 shadow-lg",children:e.jsx(dt,{className:"h-6 w-6"})})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-3",children:e.jsx("p",{className:"text-white text-xs font-medium truncate",children:d.name})}),u&&e.jsx("div",{className:"absolute top-2 right-2 bg-purple-600 text-white rounded-full px-2 py-1",children:e.jsx("p",{className:"text-xs font-medium",children:"Toque novamente"})})]})})},d.id)})}),n&&e.jsx("div",{className:"fixed bottom-6 left-4 right-4 z-50",children:e.jsxs(R,{onClick:l,className:"w-full h-14 rounded-xl bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 hover:from-purple-700 hover:via-pink-700 hover:to-orange-600 text-white shadow-xl font-semibold text-lg",children:[e.jsx(dt,{className:"h-5 w-5 mr-2"}),"Usar Esta Foto "]})})]}):e.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:e.jsx(X,{className:"w-full max-w-sm",children:e.jsxs(ee,{className:"p-8 text-center",children:[e.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full mx-auto mb-4 w-fit",children:e.jsx(rt,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Nenhuma foto salva"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:"Voc ainda no possui fotos salvas no sistema"}),e.jsx(R,{onClick:a,variant:"outline",className:"w-full",children:"Voltar e Tirar Foto"})]})})})})]})},ry=({videoRef:t,isReady:s,isLoading:r,error:a,onCapture:n,onCancel:o})=>e.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[e.jsx("div",{className:"relative z-10 bg-gradient-to-r from-black/80 to-black/60 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{onClick:o,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-full h-10 w-10 p-0",children:e.jsx(Vr,{className:"h-5 w-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"font-semibold",children:"Capture sua foto"}),e.jsx("p",{className:"text-xs text-white/80",children:"Posicione-se bem no centro"})]}),e.jsx("div",{className:"w-10"})]})}),e.jsx("div",{className:"flex-1 relative",children:a?e.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:e.jsx(X,{className:"w-full max-w-sm",children:e.jsxs(ee,{className:"p-6 text-center",children:[e.jsx(Ee,{className:"h-12 w-12 mx-auto mb-4 text-red-500"}),e.jsx("h3",{className:"font-semibold text-red-700 mb-2",children:"Erro na cmera"}),e.jsx("p",{className:"text-sm text-red-600 mb-4",children:a}),e.jsx(R,{onClick:o,variant:"outline",className:"w-full",children:"Voltar"})]})})}):e.jsxs(e.Fragment,{children:[e.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-64 h-80 border-2 border-white/50 rounded-[2rem] border-dashed"})}),e.jsx("div",{className:"absolute top-20 left-0 right-0 text-center",children:e.jsx("div",{className:"inline-block bg-black/60 text-white px-4 py-2 rounded-full text-sm",children:" Alinhe seu rosto dentro do crculo"})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${s?"bg-green-500 text-white":"bg-yellow-500 text-black"}`,children:s?" Pronto para capturar":" Preparando..."})})]})]})}),e.jsxs("div",{className:"relative z-10 bg-gradient-to-t from-black/90 to-black/60 p-6",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[e.jsx(R,{onClick:o,variant:"outline",className:"rounded-full h-16 w-16 border-white/30 bg-white/10 hover:bg-white/20 text-white",children:e.jsx(Ee,{className:"h-6 w-6"})}),e.jsx(R,{onClick:n,disabled:!s,className:"rounded-full h-20 w-20 bg-white hover:bg-gray-100 disabled:bg-gray-500 shadow-2xl transform transition-all duration-200 active:scale-95",children:s?e.jsx(_e,{className:"h-8 w-8 text-gray-800"}):e.jsx(le,{className:"h-8 w-8 text-gray-400 animate-spin"})}),e.jsx("div",{className:"h-16 w-16"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-white/80 text-sm",children:s?"Toque no crculo branco para capturar":"Aguarde a cmera ficar pronta..."})})]})]});function ay(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const Ku=V.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),fs=()=>{const t=V.useContext(Ku);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};ay(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const ny=24,oy=typeof window<"u"?i.useLayoutEffect:i.useEffect;function Jo(...t){return(...s)=>{for(let r of t)typeof r=="function"&&r(...s)}}function iy(){return Qn(/^Mac/)}function ly(){return Qn(/^iPhone/)}function Xo(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function cy(){return Qn(/^iPad/)||iy()&&navigator.maxTouchPoints>1}function Yu(){return ly()||cy()}function Qn(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Ta=typeof document<"u"&&window.visualViewport;function Qo(t){let s=window.getComputedStyle(t);return/(auto|scroll)/.test(s.overflow+s.overflowX+s.overflowY)}function Zu(t){for(Qo(t)&&(t=t.parentElement);t&&!Qo(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const dy=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ir=0,Ra;function uy(t={}){let{isDisabled:s}=t;oy(()=>{if(!s)return ir++,ir===1&&Yu()&&(Ra=my()),()=>{ir--,ir===0&&(Ra==null||Ra())}},[s])}function my(){let t,s=0,r=p=>{t=Zu(p.target),!(t===document.documentElement&&t===document.body)&&(s=p.changedTouches[0].pageY)},a=p=>{if(!t||t===document.documentElement||t===document.body){p.preventDefault();return}let x=p.changedTouches[0].pageY,y=t.scrollTop,v=t.scrollHeight-t.clientHeight;v!==0&&((y<=0&&x>s||y>=v&&x<s)&&p.preventDefault(),s=x)},n=p=>{let x=p.target;pn(x)&&x!==document.activeElement&&(p.preventDefault(),x.style.transform="translateY(-2000px)",x.focus(),requestAnimationFrame(()=>{x.style.transform=""}))},o=p=>{let x=p.target;pn(x)&&(x.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{x.style.transform="",Ta&&(Ta.height<window.innerHeight?requestAnimationFrame(()=>{ei(x)}):Ta.addEventListener("resize",()=>ei(x),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},l=window.pageXOffset,d=window.pageYOffset,u=Jo(py(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let m=Jo(js(document,"touchstart",r,{passive:!1,capture:!0}),js(document,"touchmove",a,{passive:!1,capture:!0}),js(document,"touchend",n,{passive:!1,capture:!0}),js(document,"focus",o,!0),js(window,"scroll",c));return()=>{u(),m(),window.scrollTo(l,d)}}function py(t,s,r){let a=t.style[s];return t.style[s]=r,()=>{t.style[s]=a}}function js(t,s,r,a){return t.addEventListener(s,r,a),()=>{t.removeEventListener(s,r,a)}}function ei(t){let s=document.scrollingElement||document.documentElement;for(;t&&t!==s;){let r=Zu(t);if(r!==document.documentElement&&r!==document.body&&r!==t){let a=r.getBoundingClientRect().top,n=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const c=r.getBoundingClientRect().bottom+ny;o>c&&(r.scrollTop+=n-a)}t=r.parentElement}}function pn(t){return t instanceof HTMLInputElement&&!dy.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function fy(t,s){typeof t=="function"?t(s):t!=null&&(t.current=s)}function hy(...t){return s=>t.forEach(r=>fy(r,s))}function Ju(...t){return i.useCallback(hy(...t),t)}const Xu=new WeakMap;function Pe(t,s,r=!1){if(!t||!(t instanceof HTMLElement))return;let a={};Object.entries(s).forEach(([n,o])=>{if(n.startsWith("--")){t.style.setProperty(n,o);return}a[n]=t.style[n],t.style[n]=o}),!r&&Xu.set(t,a)}function xy(t,s){if(!t||!(t instanceof HTMLElement))return;let r=Xu.get(t);r&&(t.style[s]=r[s])}const Te=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function lr(t,s){if(!t)return null;const r=window.getComputedStyle(t),a=r.transform||r.webkitTransform||r.mozTransform;let n=a.match(/^matrix3d\((.+)\)$/);return n?parseFloat(n[1].split(", ")[Te(s)?13:12]):(n=a.match(/^matrix\((.+)\)$/),n?parseFloat(n[1].split(", ")[Te(s)?5:4]):null)}function gy(t){return 8*(Math.log(t+1)-2)}function Aa(t,s){if(!t)return()=>{};const r=t.style.cssText;return Object.assign(t.style,s),()=>{t.style.cssText=r}}function vy(...t){return(...s)=>{for(const r of t)typeof r=="function"&&r(...s)}}const be={DURATION:.5,EASE:[.32,.72,0,1]},Qu=.4,by=.25,yy=100,em=8,Tt=16,fn=26,Ia="vaul-dragging";function tm(t){const s=V.useRef(t);return V.useEffect(()=>{s.current=t}),V.useMemo(()=>(...r)=>s.current==null?void 0:s.current.call(s,...r),[])}function jy({defaultProp:t,onChange:s}){const r=V.useState(t),[a]=r,n=V.useRef(a),o=tm(s);return V.useEffect(()=>{n.current!==a&&(o(a),n.current=a)},[a,n,o]),r}function sm({prop:t,defaultProp:s,onChange:r=()=>{}}){const[a,n]=jy({defaultProp:s,onChange:r}),o=t!==void 0,c=o?t:a,l=tm(r),d=V.useCallback(u=>{if(o){const p=typeof u=="function"?u(t):u;p!==t&&l(p)}else n(u)},[o,t,n,l]);return[c,d]}function wy({activeSnapPointProp:t,setActiveSnapPointProp:s,snapPoints:r,drawerRef:a,overlayRef:n,fadeFromIndex:o,onSnapPointChange:c,direction:l="bottom",container:d,snapToSequentialPoint:u}){const[m,p]=sm({prop:t,defaultProp:r==null?void 0:r[0],onChange:s}),[x,y]=V.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);V.useEffect(()=>{function j(){y({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const v=V.useMemo(()=>m===(r==null?void 0:r[r.length-1])||null,[r,m]),f=V.useMemo(()=>r==null?void 0:r.findIndex(j=>j===m),[r,m]),h=r&&r.length>0&&(o||o===0)&&!Number.isNaN(o)&&r[o]===m||!r,g=V.useMemo(()=>{const j=d?{width:d.getBoundingClientRect().width,height:d.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var E;return(E=r==null?void 0:r.map(A=>{const M=typeof A=="string";let S=0;if(M&&(S=parseInt(A,10)),Te(l)){const I=M?S:x?A*j.height:0;return x?l==="bottom"?j.height-I:-j.height+I:I}const P=M?S:x?A*j.width:0;return x?l==="right"?j.width-P:-j.width+P:P}))!=null?E:[]},[r,x,d]),b=V.useMemo(()=>f!==null?g==null?void 0:g[f]:null,[g,f]),w=V.useCallback(j=>{var E;const A=(E=g==null?void 0:g.findIndex(M=>M===j))!=null?E:null;c(A),Pe(a.current,{transition:`transform ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,transform:Te(l)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`}),g&&A!==g.length-1&&A!==o&&A<o?Pe(n.current,{transition:`opacity ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,opacity:"0"}):Pe(n.current,{transition:`opacity ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,opacity:"1"}),p(r==null?void 0:r[Math.max(A,0)])},[a.current,r,g,o,n,p]);V.useEffect(()=>{if(m||t){var j;const E=(j=r==null?void 0:r.findIndex(A=>A===t||A===m))!=null?j:-1;g&&E!==-1&&typeof g[E]=="number"&&w(g[E])}},[m,t,r,g,w]);function N({draggedDistance:j,closeDrawer:E,velocity:A,dismissible:M}){if(o===void 0)return;const S=l==="bottom"||l==="right"?(b??0)-j:(b??0)+j,P=f===o-1,I=f===0,_=j>0;if(P&&Pe(n.current,{transition:`opacity ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`}),!u&&A>2&&!_){M?E():w(g[0]);return}if(!u&&A>2&&_&&g&&r){w(g[r.length-1]);return}const k=g==null?void 0:g.reduce((O,z)=>typeof O!="number"||typeof z!="number"?O:Math.abs(z-S)<Math.abs(O-S)?z:O),$=Te(l)?window.innerHeight:window.innerWidth;if(A>Qu&&Math.abs(j)<$*.4){const O=_?1:-1;if(O>0&&v){w(g[r.length-1]);return}if(I&&O<0&&M&&E(),f===null)return;w(g[f+O]);return}w(k)}function T({draggedDistance:j}){if(b===null)return;const E=l==="bottom"||l==="right"?b-j:b+j;(l==="bottom"||l==="right")&&E<g[g.length-1]||(l==="top"||l==="left")&&E>g[g.length-1]||Pe(a.current,{transform:Te(l)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})}function C(j,E){if(!r||typeof f!="number"||!g||o===void 0)return null;const A=f===o-1;if(f>=o&&E)return 0;if(A&&!E)return 1;if(!h&&!A)return null;const S=A?f+1:f-1,P=A?g[S]-g[S-1]:g[S+1]-g[S],I=j/Math.abs(P);return A?1-I:I}return{isLastSnapPoint:v,activeSnapPoint:m,shouldFade:h,getPercentageDragged:C,setActiveSnapPoint:p,activeSnapPointIndex:f,onRelease:N,onDrag:T,snapPointsOffset:g}}const Ny=()=>()=>{};function Sy(){const{direction:t,isOpen:s,shouldScaleBackground:r,setBackgroundColorOnScale:a,noBodyStyles:n}=fs(),o=V.useRef(null),c=i.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-fn)/window.innerWidth}V.useEffect(()=>{if(s&&r){o.current&&clearTimeout(o.current);const d=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!d)return;vy(a&&!n?Aa(document.body,{background:"black"}):Ny,Aa(d,{transformOrigin:Te(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${be.DURATION}s`,transitionTimingFunction:`cubic-bezier(${be.EASE.join(",")})`}));const u=Aa(d,{borderRadius:`${em}px`,overflow:"hidden",...Te(t)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},be.DURATION*1e3)}}},[s,r,c])}let ws=null;function Cy({isOpen:t,modal:s,nested:r,hasBeenOpened:a,preventScrollRestoration:n,noBodyStyles:o}){const[c,l]=V.useState(()=>typeof window<"u"?window.location.href:""),d=V.useRef(0),u=V.useCallback(()=>{if(Xo()&&ws===null&&t&&!o){ws={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:x}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-d.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const y=x-window.innerHeight;y&&d.current>=x&&(document.body.style.top=`${-(d.current+y)}px`)}),300)}},[t]),m=V.useCallback(()=>{if(Xo()&&ws!==null&&!o){const p=-parseInt(document.body.style.top,10),x=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ws),window.requestAnimationFrame(()=>{if(n&&c!==window.location.href){l(window.location.href);return}window.scrollTo(x,p)}),ws=null}},[c]);return V.useEffect(()=>{function p(){d.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),V.useEffect(()=>{r||!a||(t?(!window.matchMedia("(display-mode: standalone)").matches&&u(),s||window.setTimeout(()=>{m()},500)):m())},[t,a,c,s,r,u,m]),{restorePositionSetting:m}}function rm({open:t,onOpenChange:s,children:r,onDrag:a,onRelease:n,snapPoints:o,shouldScaleBackground:c=!1,setBackgroundColorOnScale:l=!0,closeThreshold:d=by,scrollLockTimeout:u=yy,dismissible:m=!0,handleOnly:p=!1,fadeFromIndex:x=o&&o.length-1,activeSnapPoint:y,setActiveSnapPoint:v,fixed:f,modal:h=!0,onClose:g,nested:b,noBodyStyles:w,direction:N="bottom",defaultOpen:T=!1,disablePreventScroll:C=!0,snapToSequentialPoint:j=!1,preventScrollRestoration:E=!1,repositionInputs:A=!0,onAnimationEnd:M,container:S,autoFocus:P=!1}){var I,_;const[k=!1,$]=sm({defaultProp:T,prop:t,onChange:re=>{s==null||s(re),!re&&!b&&da(),setTimeout(()=>{M==null||M(re)},be.DURATION*1e3),re&&!h&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),re||(document.body.style.pointerEvents="auto")}}),[O,z]=V.useState(!1),[J,H]=V.useState(!1),[B,D]=V.useState(!1),U=V.useRef(null),Y=V.useRef(null),G=V.useRef(null),W=V.useRef(null),L=V.useRef(null),Z=V.useRef(!1),ae=V.useRef(null),se=V.useRef(0),te=V.useRef(!1),F=V.useRef(0),q=V.useRef(null),ce=V.useRef(((I=q.current)==null?void 0:I.getBoundingClientRect().height)||0),ve=V.useRef(((_=q.current)==null?void 0:_.getBoundingClientRect().width)||0),Ce=V.useRef(0),Ie=V.useCallback(re=>{o&&re===at.length-1&&(Y.current=new Date)},[]),{activeSnapPoint:He,activeSnapPointIndex:ke,setActiveSnapPoint:Qe,onRelease:Et,snapPointsOffset:at,onDrag:hs,shouldFade:xs,getPercentageDragged:Xs}=wy({snapPoints:o,activeSnapPointProp:y,setActiveSnapPointProp:v,drawerRef:q,fadeFromIndex:x,overlayRef:U,onSnapPointChange:Ie,direction:N,container:S,snapToSequentialPoint:j});uy({isDisabled:!k||J||!h||B||!O||!A||!C});const{restorePositionSetting:da}=Cy({isOpen:k,modal:h,nested:b,hasBeenOpened:O,preventScrollRestoration:E,noBodyStyles:w});function kt(){return(window.innerWidth-fn)/window.innerWidth}function ua(re){var me,fe;!m&&!o||q.current&&!q.current.contains(re.target)||(ce.current=((me=q.current)==null?void 0:me.getBoundingClientRect().height)||0,ve.current=((fe=q.current)==null?void 0:fe.getBoundingClientRect().width)||0,H(!0),G.current=new Date,Yu()&&window.addEventListener("touchend",()=>Z.current=!1,{once:!0}),re.target.setPointerCapture(re.pointerId),se.current=Te(N)?re.pageY:re.pageX)}function Gt(re,me){var fe,he;let ue=re;const Le=(fe=window.getSelection())==null?void 0:fe.toString(),Re=q.current?lr(q.current,N):null,Me=new Date;if(ue.hasAttribute("data-vaul-no-drag")||ue.closest("[data-vaul-no-drag]"))return!1;if(N==="right"||N==="left")return!0;if(Y.current&&Me.getTime()-Y.current.getTime()<500)return!1;if(Re!==null&&(N==="bottom"?Re>0:Re<0))return!0;if(Le&&Le.length>0)return!1;if(Me.getTime()-((he=L.current)==null?void 0:he.getTime())<u&&Re===0||me)return L.current=Me,!1;for(;ue;){if(ue.scrollHeight>ue.clientHeight){if(ue.scrollTop!==0)return L.current=new Date,!1;if(ue.getAttribute("role")==="dialog")return!0}ue=ue.parentNode}return!0}function et(re){if(q.current&&J){const me=N==="bottom"||N==="right"?1:-1,fe=(se.current-(Te(N)?re.pageY:re.pageX))*me,he=fe>0,ue=o&&!m&&!he;if(ue&&ke===0)return;const Le=Math.abs(fe),Re=document.querySelector("[data-vaul-drawer-wrapper]"),Me=N==="bottom"||N==="top"?ce.current:ve.current;let Ye=Le/Me;const Pt=Xs(Le,he);if(Pt!==null&&(Ye=Pt),ue&&Ye>=1||!Z.current&&!Gt(re.target,he))return;if(q.current.classList.add(Ia),Z.current=!0,Pe(q.current,{transition:"none"}),Pe(U.current,{transition:"none"}),o&&hs({draggedDistance:fe}),he&&!o){const tt=gy(fe),Qs=Math.min(tt*-1,0)*me;Pe(q.current,{transform:Te(N)?`translate3d(0, ${Qs}px, 0)`:`translate3d(${Qs}px, 0, 0)`});return}const pt=1-Ye;if((xs||x&&ke===x-1)&&(a==null||a(re,Ye),Pe(U.current,{opacity:`${pt}`,transition:"none"},!0)),Re&&U.current&&c){const tt=Math.min(kt()+Ye*(1-kt()),1),Qs=8-Ye*8,io=Math.max(0,14-Ye*14);Pe(Re,{borderRadius:`${Qs}px`,transform:Te(N)?`scale(${tt}) translate3d(0, ${io}px, 0)`:`scale(${tt}) translate3d(${io}px, 0, 0)`,transition:"none"},!0)}if(!o){const tt=Le*me;Pe(q.current,{transform:Te(N)?`translate3d(0, ${tt}px, 0)`:`translate3d(${tt}px, 0, 0)`})}}}V.useEffect(()=>{var re;function me(){if(!q.current||!A)return;const fe=document.activeElement;if(pn(fe)||te.current){var he;const ue=((he=window.visualViewport)==null?void 0:he.height)||0,Le=window.innerHeight;let Re=Le-ue;const Me=q.current.getBoundingClientRect().height||0,Ye=Me>Le*.8;Ce.current||(Ce.current=Me);const Pt=q.current.getBoundingClientRect().top;if(Math.abs(F.current-Re)>60&&(te.current=!te.current),o&&o.length>0&&at&&ke){const pt=at[ke]||0;Re+=pt}if(F.current=Re,Me>ue||te.current){const pt=q.current.getBoundingClientRect().height;let tt=pt;pt>ue&&(tt=ue-(Ye?Pt:fn)),f?q.current.style.height=`${pt-Math.max(Re,0)}px`:q.current.style.height=`${Math.max(tt,ue-Pt)}px`}else q.current.style.height=`${Ce.current}px`;o&&o.length>0&&!te.current?q.current.style.bottom="0px":q.current.style.bottom=`${Math.max(Re,0)}px`}}return(re=window.visualViewport)==null||re.addEventListener("resize",me),()=>{var fe;return(fe=window.visualViewport)==null?void 0:fe.removeEventListener("resize",me)}},[ke,o,at]);function nt(re){qt(),g==null||g(),re||$(!1),setTimeout(()=>{o&&Qe(o[0])},be.DURATION*1e3)}function Wt(){if(!q.current)return;const re=document.querySelector("[data-vaul-drawer-wrapper]"),me=lr(q.current,N);Pe(q.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`}),Pe(U.current,{transition:`opacity ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,opacity:"1"}),c&&me&&me>0&&k&&Pe(re,{borderRadius:`${em}px`,overflow:"hidden",...Te(N)?{transform:`scale(${kt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${kt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${be.DURATION}s`,transitionTimingFunction:`cubic-bezier(${be.EASE.join(",")})`},!0)}function qt(){!J||!q.current||(q.current.classList.remove(Ia),Z.current=!1,H(!1),W.current=new Date)}function gs(re){if(!J||!q.current)return;q.current.classList.remove(Ia),Z.current=!1,H(!1),W.current=new Date;const me=lr(q.current,N);if(!Gt(re.target,!1)||!me||Number.isNaN(me)||G.current===null)return;const fe=W.current.getTime()-G.current.getTime(),he=se.current-(Te(N)?re.pageY:re.pageX),ue=Math.abs(he)/fe;if(ue>.05&&(D(!0),setTimeout(()=>{D(!1)},200)),o){Et({draggedDistance:he*(N==="bottom"||N==="right"?1:-1),closeDrawer:nt,velocity:ue,dismissible:m}),n==null||n(re,!0);return}if(N==="bottom"||N==="right"?he>0:he<0){Wt(),n==null||n(re,!0);return}if(ue>Qu){nt(),n==null||n(re,!1);return}var Le;const Re=Math.min((Le=q.current.getBoundingClientRect().height)!=null?Le:0,window.innerHeight);var Me;const Ye=Math.min((Me=q.current.getBoundingClientRect().width)!=null?Me:0,window.innerWidth),Pt=N==="left"||N==="right";if(Math.abs(me)>=(Pt?Ye:Re)*d){nt(),n==null||n(re,!1);return}n==null||n(re,!0),Wt()}V.useEffect(()=>(k&&(Pe(document.documentElement,{scrollBehavior:"auto"}),Y.current=new Date),()=>{xy(document.documentElement,"scrollBehavior")}),[k]);function ma(re){const me=re?(window.innerWidth-Tt)/window.innerWidth:1,fe=re?-Tt:0;ae.current&&window.clearTimeout(ae.current),Pe(q.current,{transition:`transform ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,transform:`scale(${me}) translate3d(0, ${fe}px, 0)`}),!re&&q.current&&(ae.current=setTimeout(()=>{const he=lr(q.current,N);Pe(q.current,{transition:"none",transform:Te(N)?`translate3d(0, ${he}px, 0)`:`translate3d(${he}px, 0, 0)`})},500))}function pa(re,me){if(me<0)return;const fe=(window.innerWidth-Tt)/window.innerWidth,he=fe+me*(1-fe),ue=-Tt+me*Tt;Pe(q.current,{transform:Te(N)?`scale(${he}) translate3d(0, ${ue}px, 0)`:`scale(${he}) translate3d(${ue}px, 0, 0)`,transition:"none"})}function fa(re,me){const fe=Te(N)?window.innerHeight:window.innerWidth,he=me?(fe-Tt)/fe:1,ue=me?-Tt:0;me&&Pe(q.current,{transition:`transform ${be.DURATION}s cubic-bezier(${be.EASE.join(",")})`,transform:Te(N)?`scale(${he}) translate3d(0, ${ue}px, 0)`:`scale(${he}) translate3d(${ue}px, 0, 0)`})}return V.createElement(bn,{defaultOpen:T,onOpenChange:re=>{!m&&!re||(re?z(!0):nt(!0),$(re))},open:k},V.createElement(Ku.Provider,{value:{activeSnapPoint:He,snapPoints:o,setActiveSnapPoint:Qe,drawerRef:q,overlayRef:U,onOpenChange:s,onPress:ua,onRelease:gs,onDrag:et,dismissible:m,handleOnly:p,isOpen:k,isDragging:J,shouldFade:xs,closeDrawer:nt,onNestedDrag:pa,onNestedOpenChange:ma,onNestedRelease:fa,keyboardIsOpen:te,modal:h,snapPointsOffset:at,direction:N,shouldScaleBackground:c,setBackgroundColorOnScale:l,noBodyStyles:w,container:S,autoFocus:P}},r))}const am=V.forwardRef(function({...t},s){const{overlayRef:r,snapPoints:a,onRelease:n,shouldFade:o,isOpen:c,modal:l}=fs(),d=Ju(s,r),u=a&&a.length>0;return l?V.createElement(Rr,{onMouseUp:n,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":c&&u?"true":"false","data-vaul-snap-points-overlay":c&&o?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});am.displayName="Drawer.Overlay";const nm=V.forwardRef(function({onPointerDownOutside:t,style:s,onOpenAutoFocus:r,...a},n){const{drawerRef:o,onPress:c,onRelease:l,onDrag:d,keyboardIsOpen:u,snapPointsOffset:m,modal:p,isOpen:x,direction:y,snapPoints:v,container:f,handleOnly:h,autoFocus:g}=fs(),[b,w]=V.useState(!1),N=Ju(n,o),T=V.useRef(null),C=V.useRef(null),j=V.useRef(!1),E=v&&v.length>0;Sy();const A=(S,P,I=0)=>{if(j.current)return!0;const _=Math.abs(S.y),k=Math.abs(S.x),$=k>_,O=["bottom","right"].includes(P)?1:-1;if(P==="left"||P==="right"){if(!(S.x*O<0)&&k>=0&&k<=I)return $}else if(!(S.y*O<0)&&_>=0&&_<=I)return!$;return j.current=!0,!0};V.useEffect(()=>{E&&window.requestAnimationFrame(()=>{w(!0)})},[]);function M(S){T.current=null,j.current=!1,l(S)}return V.createElement(Ar,{"data-vaul-drawer-direction":y,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":x&&E?"true":"false","data-vaul-custom-container":f?"true":"false",...a,ref:N,style:m&&m.length>0?{"--snap-point-height":`${m[0]}px`,...s}:s,onPointerDown:S=>{h||(a.onPointerDown==null||a.onPointerDown.call(a,S),T.current={x:S.pageX,y:S.pageY},c(S))},onOpenAutoFocus:S=>{r==null||r(S),g||S.preventDefault()},onPointerDownOutside:S=>{if(t==null||t(S),!p||S.defaultPrevented){S.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:S=>{if(!p){S.preventDefault();return}},onPointerMove:S=>{if(C.current=S,h||(a.onPointerMove==null||a.onPointerMove.call(a,S),!T.current))return;const P=S.pageY-T.current.y,I=S.pageX-T.current.x,_=S.pointerType==="touch"?10:2;A({x:I,y:P},y,_)?d(S):(Math.abs(I)>_||Math.abs(P)>_)&&(T.current=null)},onPointerUp:S=>{a.onPointerUp==null||a.onPointerUp.call(a,S),T.current=null,j.current=!1,l(S)},onPointerOut:S=>{a.onPointerOut==null||a.onPointerOut.call(a,S),M(C.current)},onContextMenu:S=>{a.onContextMenu==null||a.onContextMenu.call(a,S),M(C.current)}})});nm.displayName="Drawer.Content";const Ey=250,ky=120,om=V.forwardRef(function({preventCycle:t=!1,children:s,...r},a){const{closeDrawer:n,isDragging:o,snapPoints:c,activeSnapPoint:l,setActiveSnapPoint:d,dismissible:u,handleOnly:m,isOpen:p,onPress:x,onDrag:y}=fs(),v=V.useRef(null),f=V.useRef(!1);function h(){if(f.current){w();return}window.setTimeout(()=>{g()},ky)}function g(){if(o||t||f.current){w();return}if(w(),(!c||c.length===0)&&u){n();return}if(l===c[c.length-1]&&u){n();return}const T=c.findIndex(j=>j===l);if(T===-1)return;const C=c[T+1];d(C)}function b(){v.current=window.setTimeout(()=>{f.current=!0},Ey)}function w(){window.clearTimeout(v.current),f.current=!1}return V.createElement("div",{onClick:h,onPointerCancel:w,onPointerDown:N=>{m&&x(N),b()},onPointerMove:N=>{m&&y(N)},ref:a,"data-vaul-drawer-visible":p?"true":"false","data-vaul-handle":"","aria-hidden":"true",...r},V.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},s))});om.displayName="Drawer.Handle";function Py({onDrag:t,onOpenChange:s,...r}){const{onNestedDrag:a,onNestedOpenChange:n,onNestedRelease:o}=fs();if(!a)throw new Error("Drawer.NestedRoot must be placed in another drawer");return V.createElement(rm,{nested:!0,onClose:()=>{n(!1)},onDrag:(c,l)=>{a(c,l),t==null||t(c,l)},onOpenChange:c=>{c&&n(c)},onRelease:o,...r})}function Ty(t){const s=fs(),{container:r=s.container,...a}=t;return V.createElement(vn,{container:r,...a})}const ut={Root:rm,NestedRoot:Py,Content:nm,Overlay:am,Trigger:yn,Portal:Ty,Handle:om,Close:Vs,Title:Ir,Description:_r},im=({shouldScaleBackground:t=!0,...s})=>e.jsx(ut.Root,{shouldScaleBackground:t,...s});im.displayName="Drawer";const Ry=ut.Portal,lm=i.forwardRef(({className:t,...s},r)=>e.jsx(ut.Overlay,{ref:r,className:K("fixed inset-0 z-50 bg-black/80",t),...s}));lm.displayName=ut.Overlay.displayName;const cm=i.forwardRef(({className:t,children:s,...r},a)=>e.jsxs(Ry,{children:[e.jsx(lm,{}),e.jsxs(ut.Content,{ref:a,className:K("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...r,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),s]})]}));cm.displayName="DrawerContent";const Ay=i.forwardRef(({className:t,...s},r)=>e.jsx(ut.Title,{ref:r,className:K("text-lg font-semibold leading-none tracking-tight",t),...s}));Ay.displayName=ut.Title.displayName;const Iy=i.forwardRef(({className:t,...s},r)=>e.jsx(ut.Description,{ref:r,className:K("text-sm text-muted-foreground",t),...s}));Iy.displayName=ut.Description.displayName;const _y=({open:t,onClose:s,onSelectOption:r})=>{const a="from-[#4C1F4B] to-[#A883B7]",n="from-[#E8D5E8] to-[#A883B7]",o="from-[#E8D5E8] to-[#F3F0F3]",c="#4C1F4B";return e.jsx(im,{open:t,onOpenChange:s,children:e.jsxs(cm,{className:"pt-4 pb-8 px-4 rounded-t-2xl shadow-xl border-0",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-10 h-1.5 bg-[#ECE6EC] rounded-full mb-6"}),e.jsx("span",{className:"mb-1 text-sm font-medium text-[#4C1F4B] tracking-wide",children:"Como voc quer comear?"}),e.jsx("p",{className:"text-xs text-[#6D5775] mb-5",children:"Escolha uma forma de enviar sua foto abaixo"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:`w-full flex items-center gap-3 rounded-xl px-4 py-3 bg-gradient-to-r ${a} text-white transition hover:brightness-110 shadow-none`,onClick:()=>r("camera"),children:[e.jsx(_e,{className:"h-5 w-5",strokeWidth:2.2,color:"#fff"}),e.jsxs("div",{className:"flex flex-col items-start text-left flex-1",children:[e.jsx("span",{className:"font-semibold text-sm leading-tight",children:"Tirar Foto Agora"}),e.jsx("span",{className:"text-xs opacity-85 font-normal",children:"Use a cmera do seu celular"})]})]}),e.jsxs("button",{className:`w-full flex items-center gap-3 rounded-xl px-4 py-3 bg-gradient-to-r ${n} text-[#4C1F4B] transition hover:brightness-110 shadow-none`,onClick:()=>r("upload"),children:[e.jsx(lt,{className:"h-5 w-5",strokeWidth:2.1,color:c}),e.jsxs("div",{className:"flex flex-col items-start text-left flex-1",children:[e.jsx("span",{className:"font-semibold text-sm leading-tight",children:"Enviar da Galeria"}),e.jsx("span",{className:"text-xs opacity-85 font-normal",children:"Escolha uma foto do seu dispositivo"})]})]}),e.jsxs("button",{className:`w-full flex items-center gap-3 rounded-xl px-4 py-3 bg-gradient-to-r ${o} text-[#4C1F4B] transition hover:brightness-110 shadow-none`,onClick:()=>r("saved"),children:[e.jsx(rt,{className:"h-5 w-5",strokeWidth:2.1,color:c}),e.jsxs("div",{className:"flex flex-col items-start text-left flex-1",children:[e.jsx("span",{className:"font-semibold text-sm leading-tight",children:"Fotos Salvas"}),e.jsx("span",{className:"text-xs opacity-85 font-normal",children:"Acesse e utilize fotos j salvas"})]})]})]})]})})},Dy=({onPaletteAnalyzed:t})=>{const[s,r]=i.useState(null),[a,n]=i.useState(!1),[o,c]=i.useState("main"),{toast:l}=ge(),{savePalette:d}=ia(),{savedPhotos:u,isLoading:m}=qu(),{isActive:p,isLoading:x,isReady:y,error:v,videoRef:f,startCamera:h,stopCamera:g,capturePhoto:b}=Gn(),[w,N]=i.useState(!1);i.useState(null);const T=()=>{const I=b();I&&(r(I),g(),c("main"))},C=I=>{r(I),c("main")},j=async()=>{s&&(n(!0),l({title:" Analisando sua beleza...",description:"Nossa IA est descobrindo as cores perfeitas para voc"}),setTimeout(()=>{const I={seasonType:"Inverno Profundo",description:"Voc possui caractersticas marcantes que pedem cores intensas e contrastantes",dominantUndertone:"Frio",characteristics:["Contraste alto entre cabelo, pele e olhos","Tons frios na pele","Olhos profundos e expressivos"],bestColors:[{name:"Azul Royal",hex:"#1e3a8a",category:"Principal"},{name:"Preto Verdadeiro",hex:"#000000",category:"Neutro"},{name:"Branco Puro",hex:"#ffffff",category:"Neutro"},{name:"Vermelho Cereja",hex:"#dc2626",category:"Destaque"},{name:"Rosa Pink",hex:"#ec4899",category:"Destaque"},{name:"Roxo Profundo",hex:"#7c3aed",category:"Principal"}],avoidColors:[{name:"Laranja Queimado",hex:"#ea580c",reason:"Muito quente para seu tom"},{name:"Amarelo Mostarda",hex:"#ca8a04",reason:"Deixa a pele amarelada"},{name:"Verde Oliva",hex:"#65a30d",reason:"Tom muito terroso"}],makeupTips:["Base com subtom frio ou neutro","Batons em tons de vermelho, rosa pink ou berry","Sombras em azuis, roxos e cinzas"],styleRecommendations:["Prefira peas monocromticas em suas cores ideais","Combine preto e branco para looks sofisticados","Use suas cores de destaque em acessrios"],confidence:.89};d(I),t(I),n(!1),l({title:" Paleta descoberta!",description:`Voc  ${I.seasonType}! Sua anlise foi salva.`})},3e3))},E=()=>{r(null),c("main")},A=()=>{g(),c("main")},M=()=>N(!0),S=()=>N(!1),P=I=>{N(!1),setTimeout(()=>{I==="camera"?(c("camera"),h()):I==="upload"?c("upload"):I==="saved"&&c("photos")},350)};return o==="camera"?e.jsx(ry,{videoRef:f,isReady:y,isLoading:x,error:v,onCapture:T,onCancel:A}):o==="photos"?e.jsx(sy,{savedPhotos:u,isLoading:m,onPhotoSelect:C,onBack:()=>c("main")}):e.jsxs("div",{className:`bg-white flex flex-col justify-start items-center px-4 pt-10 ${s?"min-h-screen":"min-h-0"}`,children:[e.jsxs("div",{className:"flex items-center mb-7",children:[e.jsx(Fe,{className:"h-5 w-5 text-purple-600 mr-2"}),e.jsx("h2",{className:"text-lg font-semibold text-[#4C1F4B]",children:"Anlise de Paleta de Cores"})]}),s&&e.jsxs("div",{className:"w-full max-w-md mb-8 relative rounded-2xl overflow-hidden shadow-lg bg-white",children:[e.jsx("img",{src:s,alt:"Sua foto",className:"w-full h-72 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-black/10 pointer-events-none"}),e.jsx(R,{variant:"secondary",size:"sm",onClick:E,className:"absolute top-4 right-4 rounded-full h-10 w-10 p-0 bg-white/95 hover:bg-white shadow-lg border-0",children:e.jsx(Ee,{className:"h-4 w-4 text-gray-700"})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-xl p-2 border border-white/40 flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-[#4C1F4B]",children:"Foto carregada com sucesso"})]})})]}),!s&&o==="main"&&e.jsxs(e.Fragment,{children:[e.jsx(R,{onClick:M,className:"w-full h-14 rounded-xl bg-gradient-to-r from-[#4C1F4B] to-[#A883B7] text-white shadow-lg font-semibold text-lg justify-center hover:brightness-110 transition-colors mb-6",children:"Descobrir Minha Paleta "}),e.jsx("h4",{className:"font-semibold text-[#4C1F4B] mb-3 text-base text-center mt-1",children:"Dicas para a foto perfeita"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4 w-full items-center justify-center pb-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[e.jsx("span",{children:e.jsxs("svg",{className:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"#dbb400",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"#ffe066"}),e.jsxs("g",{stroke:"#dbb400",children:[e.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"4"}),e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"22"}),e.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),e.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),e.jsx("line",{x1:"2",y1:"12",x2:"4",y2:"12"}),e.jsx("line",{x1:"20",y1:"12",x2:"22",y2:"12"}),e.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),e.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})]})}),e.jsx("span",{className:"text-xs text-[#6D5775] text-center",children:"Luz natural"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[e.jsx("span",{children:e.jsxs("svg",{className:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",stroke:"#3b82f6",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"#3b82f6",strokeWidth:"2.5",fill:"#f1f5fd"}),e.jsx("circle",{cx:"12",cy:"12",r:"5",stroke:"#f43f5e",strokeWidth:"2.5",fill:"#fdf2f8"}),e.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"#f43f5e"})]})}),e.jsx("span",{className:"text-xs text-[#6D5775] text-center",children:"Fundo neutro"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[e.jsx("span",{children:e.jsxs("svg",{className:"w-7 h-7",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("ellipse",{cx:"12",cy:"12",rx:"9",ry:"5.5",fill:"#fffaf2",stroke:"#6d28d9",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"2.2",fill:"#fdba74",stroke:"#6d28d9",strokeWidth:"1.2"}),e.jsx("circle",{cx:"12",cy:"12",r:"1",fill:"#262626"})]})}),e.jsx("span",{className:"text-xs text-[#6D5775] text-center",children:"Olhar direto"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[e.jsx("span",{children:e.jsxs("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"9.3",y:"12",width:"5.5",height:"6.2",rx:"1.1",fill:"#f4f4f5",stroke:"#a21caf",strokeWidth:"1.5"}),e.jsx("path",{d:"M12 12v-4.2c0-1.2.35-2.4 1.2-2.4s1.2 1.2 1.2 2.4v4.2",stroke:"#a21caf",strokeWidth:"1.2",fill:"#f1c0e8"}),e.jsx("ellipse",{cx:"15.5",cy:"14.5",rx:"0.55",ry:"1.1",fill:"#f43f5e"}),e.jsx("ellipse",{cx:"10.5",cy:"14.5",rx:"0.55",ry:"1.1",fill:"#f43f5e"})]})}),e.jsx("span",{className:"text-xs text-[#6D5775] text-center",children:"Pouca maquiagem"})]})]})]}),e.jsx(_y,{open:w,onClose:S,onSelectOption:P}),v&&e.jsxs("div",{className:"w-full max-w-md mt-4 rounded-xl p-4 bg-gradient-to-r from-red-50 to-pink-50 shadow border border-red-200 flex items-center",children:[e.jsx(Ee,{className:"h-5 w-5 text-red-500 mr-3"}),e.jsx("span",{className:"text-red-700 text-sm",children:v})]}),s&&e.jsx(R,{onClick:j,disabled:a,className:"w-full max-w-md h-14 mt-8 rounded-xl bg-gradient-to-r from-purple-600 via-pink-600 to-indigo-600 hover:from-purple-700 hover:via-pink-700 hover:to-indigo-700 text-white shadow-xl font-semibold text-lg border-0 transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]",children:a?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{children:"Analisando sua beleza..."})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(En,{className:"h-6 w-6"}),e.jsx("span",{children:"Descobrir Minha Paleta "})]})})]})},dm=({onPaletteAnalyzed:t})=>{const s=In(),[r,a]=i.useState(null),[n,o]=i.useState(!1),[c,l]=i.useState(!1),{toast:d}=ge(),{savePalette:u}=ia(),{savedPhotos:m,isLoading:p}=qu(),{isActive:x,isLoading:y,isReady:v,error:f,videoRef:h,startCamera:g,stopCamera:b,capturePhoto:w}=Gn();if(s)return e.jsx(Dy,{onPaletteAnalyzed:t});const N=S=>{var _;const P=(_=S.target.files)==null?void 0:_[0];if(!P)return;if(!P.type.startsWith("image/")){d({title:"Erro",description:"Por favor, selecione apenas arquivos de imagem",variant:"destructive"});return}const I=new FileReader;I.onload=k=>{var O;const $=(O=k.target)==null?void 0:O.result;a($),l(!1)},I.readAsDataURL(P)},T=()=>{const S=w();S&&(a(S),b(),l(!1))},C=S=>{a(S),l(!1)},j=async()=>{r&&(o(!0),d({title:"Analisando sua paleta...",description:"Nossa IA est descobrindo as cores que mais combinam com voc"}),setTimeout(()=>{const S={seasonType:"Inverno Profundo",description:"Voc possui caractersticas marcantes que pedem cores intensas e contrastantes",dominantUndertone:"Frio",characteristics:["Contraste alto entre cabelo, pele e olhos","Tons frios na pele","Olhos profundos e expressivos"],bestColors:[{name:"Azul Royal",hex:"#1e3a8a",category:"Principal"},{name:"Preto Verdadeiro",hex:"#000000",category:"Neutro"},{name:"Branco Puro",hex:"#ffffff",category:"Neutro"},{name:"Vermelho Cereja",hex:"#dc2626",category:"Destaque"},{name:"Rosa Pink",hex:"#ec4899",category:"Destaque"},{name:"Roxo Profundo",hex:"#7c3aed",category:"Principal"}],avoidColors:[{name:"Laranja Queimado",hex:"#ea580c",reason:"Muito quente para seu tom"},{name:"Amarelo Mostarda",hex:"#ca8a04",reason:"Deixa a pele amarelada"},{name:"Verde Oliva",hex:"#65a30d",reason:"Tom muito terroso"}],makeupTips:["Base com subtom frio ou neutro","Batons em tons de vermelho, rosa pink ou berry","Sombras em azuis, roxos e cinzas"],styleRecommendations:["Prefira peas monocromticas em suas cores ideais","Combine preto e branco para looks sofisticados","Use suas cores de destaque em acessrios"],confidence:.89};u(S),t(S),o(!1),d({title:"Anlise concluda e salva! ",description:`Descobrimos que voc  ${S.seasonType}. Sua paleta foi salva automaticamente.`})},3e3))},E=()=>{a(null),l(!1)},A=()=>{l(!1),g()},M=()=>{b(),l(!0)};return e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(X,{className:"mb-6",children:e.jsxs(ee,{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Envie uma foto sua com boa iluminao natural para descobrir as cores que mais valorizam sua beleza"}),x&&e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full rounded-lg bg-gray-100 dark:bg-gray-800",style:{maxHeight:"300px"}}),e.jsx(R,{onClick:M,variant:"destructive",size:"sm",className:"absolute top-2 right-2",children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsx("div",{className:"absolute bottom-2 left-2",children:e.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${v?"bg-green-500 text-white":"bg-yellow-500 text-black"}`,children:v?" Pronto":" Carregando..."})})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs(R,{onClick:T,className:"bg-green-500 hover:bg-green-600",disabled:!v,children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),v?"Capturar Foto":"Aguarde..."]}),e.jsx(R,{onClick:M,variant:"outline",children:"Cancelar"})]})]}),!r&&!x&&e.jsxs(Md,{defaultValue:"upload",className:"w-full",children:[e.jsxs(Hn,{className:"grid w-full grid-cols-3",children:[e.jsxs(ss,{value:"upload",className:"flex items-center space-x-2",children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsx("span",{children:"Upload"})]}),e.jsxs(ss,{value:"camera",className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx("span",{children:"Cmera"})]}),e.jsxs(ss,{value:"saved",className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"h-4 w-4"}),e.jsx("span",{children:"Fotos Salvas"})]})]}),e.jsx(rs,{value:"upload",className:"mt-6",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"border-2 border-dashed border-purple-300 dark:border-purple-600 rounded-lg p-6",children:[e.jsx(lt,{className:"mx-auto h-12 w-12 text-purple-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Selecione uma foto do seu dispositivo"}),e.jsx(R,{variant:"outline",className:"border-purple-300 text-purple-600 hover:bg-purple-50",asChild:!0,children:e.jsxs("label",{className:"cursor-pointer",children:[e.jsx(lt,{className:"h-4 w-4 mr-2"}),"Selecionar Arquivo",e.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden"})]})})]})})}),e.jsxs(rs,{value:"camera",className:"mt-6",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"border-2 border-dashed border-green-300 dark:border-green-600 rounded-lg p-6",children:[e.jsx(_e,{className:"mx-auto h-12 w-12 text-green-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Use a cmera do seu dispositivo"}),e.jsxs(R,{onClick:A,className:"bg-green-500 hover:bg-green-600",disabled:y,children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),y?"Ativando...":"Ativar Cmera"]})]})}),f&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-700 text-sm",children:f})})]}),e.jsx(rs,{value:"saved",className:"mt-6",children:p?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando fotos..."})]}):m.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.map(S=>e.jsxs("div",{className:"relative cursor-pointer rounded-lg overflow-hidden border-2 border-gray-200 hover:border-purple-300 transition-all",onClick:()=>C(S.data),children:[e.jsx("div",{className:"aspect-[3/4]",children:e.jsx("img",{src:S.data,alt:S.name,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute bottom-1 left-1 bg-black/50 text-white px-2 py-1 rounded text-xs",children:S.name}),e.jsx("div",{className:"absolute inset-0 bg-purple-500/10 hover:bg-purple-500/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"bg-purple-500 text-white rounded-full p-1",children:e.jsx(dt,{className:"h-4 w-4"})})})]},S.id))}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(rt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhuma foto salva encontrada"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Tire algumas fotos primeiro para usar esta opo"})]})})]}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Foto para anlise",className:"w-full h-48 object-cover rounded-lg"}),e.jsx(R,{variant:"ghost",size:"sm",onClick:E,className:"absolute top-2 right-2 bg-white dark:bg-gray-800",children:""})]}),e.jsx(R,{onClick:j,disabled:n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:n?e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-4 w-4 mr-2 animate-spin"}),"Analisando Paleta..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Descobrir Minha Paleta "]})})]})]})}),e.jsxs("div",{className:"p-4 mt-2 rounded-lg bg-blue-50 border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-sm text-blue-800 mb-2",children:" Dicas para melhor resultado:"}),e.jsxs("ul",{className:"list-disc list-inside text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:"Use luz natural (prximo  janela)"}),e.jsx("li",{children:"Evite maquiagem pesada"}),e.jsx("li",{children:"Prefira fundo neutro"}),e.jsx("li",{children:"Olhe diretamente para a cmera"})]})]})]})};var um="AlertDialog",[My,Ew]=Ft(um,[Ii]),mt=Ii(),mm=t=>{const{__scopeAlertDialog:s,...r}=t,a=mt(s);return e.jsx(bn,{...a,...r,modal:!0})};mm.displayName=um;var $y="AlertDialogTrigger",pm=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=mt(r);return e.jsx(yn,{...n,...a,ref:s})});pm.displayName=$y;var Oy="AlertDialogPortal",fm=t=>{const{__scopeAlertDialog:s,...r}=t,a=mt(s);return e.jsx(vn,{...a,...r})};fm.displayName=Oy;var Ly="AlertDialogOverlay",hm=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=mt(r);return e.jsx(Rr,{...n,...a,ref:s})});hm.displayName=Ly;var ns="AlertDialogContent",[zy,Fy]=My(ns),xm=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,children:a,...n}=t,o=mt(r),c=i.useRef(null),l=De(s,c),d=i.useRef(null);return e.jsx(Np,{contentName:ns,titleName:gm,docsSlug:"alert-dialog",children:e.jsx(zy,{scope:r,cancelRef:d,children:e.jsxs(Ar,{role:"alertdialog",...o,...n,ref:l,onOpenAutoFocus:ne(n.onOpenAutoFocus,u=>{var m;u.preventDefault(),(m=d.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[e.jsx(Sp,{children:a}),e.jsx(Uy,{contentRef:c})]})})})});xm.displayName=ns;var gm="AlertDialogTitle",vm=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=mt(r);return e.jsx(Ir,{...n,...a,ref:s})});vm.displayName=gm;var bm="AlertDialogDescription",ym=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=mt(r);return e.jsx(_r,{...n,...a,ref:s})});ym.displayName=bm;var By="AlertDialogAction",jm=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,n=mt(r);return e.jsx(Vs,{...n,...a,ref:s})});jm.displayName=By;var wm="AlertDialogCancel",Nm=i.forwardRef((t,s)=>{const{__scopeAlertDialog:r,...a}=t,{cancelRef:n}=Fy(wm,r),o=mt(r),c=De(s,n);return e.jsx(Vs,{...o,...a,ref:c})});Nm.displayName=wm;var Uy=({contentRef:t})=>{const s=`\`${ns}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ns}\` by passing a \`${bm}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ns}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},Vy=mm,Hy=pm,Gy=fm,Sm=hm,Cm=xm,Em=jm,km=Nm,Pm=vm,Tm=ym;const hr=Vy,xr=Hy,Wy=Gy,Rm=i.forwardRef(({className:t,...s},r)=>e.jsx(Sm,{className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:r}));Rm.displayName=Sm.displayName;const Ts=i.forwardRef(({className:t,...s},r)=>e.jsxs(Wy,{children:[e.jsx(Rm,{}),e.jsx(Cm,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Ts.displayName=Cm.displayName;const Rs=({className:t,...s})=>e.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",t),...s});Rs.displayName="AlertDialogHeader";const As=({className:t,...s})=>e.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});As.displayName="AlertDialogFooter";const Is=i.forwardRef(({className:t,...s},r)=>e.jsx(Pm,{ref:r,className:K("text-lg font-semibold",t),...s}));Is.displayName=Pm.displayName;const _s=i.forwardRef(({className:t,...s},r)=>e.jsx(Tm,{ref:r,className:K("text-sm text-muted-foreground",t),...s}));_s.displayName=Tm.displayName;const Ds=i.forwardRef(({className:t,...s},r)=>e.jsx(Em,{ref:r,className:K(_n(),t),...s}));Ds.displayName=Em.displayName;const Ms=i.forwardRef(({className:t,...s},r)=>e.jsx(km,{ref:r,className:K(_n({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Ms.displayName=km.displayName;const eo=({palette:t,showSaveOptions:s=!0,onSave:r,onEdit:a,onDelete:n,isSaved:o=!1,onNewAnalysis:c})=>{const[l,d]=i.useState(o),{toast:u}=ge(),{deletePalette:m,currentPalette:p}=ia();if(!t)return null;const x=f=>Array.isArray(f)?f:[],y=()=>{p&&m(p.id)&&(d(!1),u({title:"Paleta excluda! ",description:"Sua anlise foi removida. Voc pode fazer uma nova anlise quando quiser."}),n&&p.id&&n(p.id))},v=()=>{c&&c(),u({title:"Nova anlise",description:"Faa upload de uma nova foto para descobrir sua paleta"})};return e.jsx(X,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"h-5 w-5 text-purple-500"}),e.jsx("h3",{className:"font-medium",children:"Sua Paleta Pessoal"}),e.jsxs(Ne,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:[Math.round((t.confidence||0)*100),"% confiana"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[e.jsx(jt,{className:"h-3 w-3 mr-1 fill-current"}),"Salva"]}),e.jsxs(R,{onClick:v,size:"sm",variant:"outline",className:"border-blue-300 text-blue-600 hover:bg-blue-50",children:[e.jsx(xl,{className:"h-3 w-3 mr-1"}),"Nova Anlise"]}),e.jsxs(hr,{children:[e.jsx(xr,{asChild:!0,children:e.jsxs(R,{size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:[e.jsx(_t,{className:"h-3 w-3 mr-1"}),"Excluir"]})}),e.jsxs(Ts,{children:[e.jsxs(Rs,{children:[e.jsx(Is,{children:"Excluir Paleta"}),e.jsx(_s,{children:"Tem certeza que deseja excluir sua anlise de paleta de cores? Voc precisar fazer uma nova anlise para descobrir suas cores novamente."})]}),e.jsxs(As,{children:[e.jsx(Ms,{children:"Cancelar"}),e.jsx(Ds,{onClick:y,className:"bg-red-500 hover:bg-red-600",children:"Sim, Excluir"})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-lg mb-2 flex items-center",children:[e.jsx(le,{className:"h-4 w-4 mr-2 text-gold"}),t.seasonType||t.season||"Estao no definida"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:t.description||"Anlise personalizada baseada em suas caractersticas"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("strong",{children:"Subtom dominante:"})," ",t.dominantUndertone||t.undertone||"No definido"]})]}),x(t.characteristics).length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"Suas Caractersticas:"}),e.jsx("ul",{className:"text-sm space-y-1",children:x(t.characteristics).map((f,h)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Hf,{className:"h-3 w-3 text-green-500 mt-1 flex-shrink-0"}),e.jsx("span",{children:f})]},h))})]}),x(t.bestColors).length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-3",children:"Suas Cores Ideais:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:x(t.bestColors).map((f,h)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full mx-auto mb-2 border-2 border-white shadow-lg",style:{backgroundColor:f.hex||f}}),e.jsx("div",{className:"text-xs font-medium",children:f.name||`Cor ${h+1}`}),e.jsx("div",{className:"text-xs text-gray-500",children:f.category||""})]},h))})]}),x(t.avoidColors).length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-3",children:"Cores a Evitar:"}),e.jsx("div",{className:"space-y-2",children:x(t.avoidColors).map((f,h)=>e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:f.hex||f}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium",children:f.name||`Cor ${h+1}`}),e.jsx("div",{className:"text-xs text-gray-500",children:f.reason||"No combina com seu subtom"})]}),e.jsx(Gf,{className:"h-4 w-4 text-red-500"})]},h))})]}),x(t.makeupTips).length>0&&e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center",children:[e.jsx(kn,{className:"h-4 w-4 mr-2"}),"Dicas de Maquiagem:"]}),e.jsx("ul",{className:"text-sm space-y-1",children:x(t.makeupTips).map((f,h)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-pink-500",children:""}),e.jsx("span",{children:f})]},h))})]}),x(t.styleRecommendations).length>0&&e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Recomendaes de Estilo:"]}),e.jsx("ul",{className:"text-sm space-y-1",children:x(t.styleRecommendations).map((f,h)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-purple-500",children:""}),e.jsx("span",{children:f})]},h))})]})]})]})})},qy=[{name:"Coral Suave",hex:"#FFB6A1"},{name:"Lavanda",hex:"#B8A1FF"},{name:"Verde Menta",hex:"#B8FFD9"},{name:"Azul Serenity",hex:"#AEE9F9"},{name:"Dourado Claro",hex:"#FFE5B4"},{name:"Lils Acinzentado",hex:"#A68DAD"},{name:"Cinza Escuro",hex:"#2D2D2D"}],Ky=()=>e.jsxs("div",{style:{background:"#fff",padding:32,borderRadius:16,boxShadow:"0 2px 8px #0001",maxWidth:600,margin:"40px auto"},children:[e.jsx("h2",{style:{textAlign:"center",marginBottom:24,fontWeight:600,fontSize:24},children:"Paleta Pozzy"}),e.jsx("div",{style:{display:"flex",gap:16,justifyContent:"center",flexWrap:"wrap"},children:qy.map(t=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx("div",{style:{width:64,height:64,borderRadius:12,background:t.hex,border:"1.5px solid #eee",marginBottom:8}}),e.jsxs("span",{style:{fontSize:13,color:"#444",textAlign:"center"},children:[t.name,e.jsx("br",{}),e.jsx("span",{style:{fontFamily:"monospace",color:"#888"},children:t.hex})]})]},t.hex))})]});function Yy(t){return Object.prototype.toString.call(t)==="[object Object]"}function ti(t){return Yy(t)||Array.isArray(t)}function Zy(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function to(t,s){const r=Object.keys(t),a=Object.keys(s);if(r.length!==a.length)return!1;const n=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(s.breakpoints||{}));return n!==o?!1:r.every(c=>{const l=t[c],d=s[c];return typeof l=="function"?`${l}`==`${d}`:!ti(l)||!ti(d)?l===d:to(l,d)})}function si(t){return t.concat().sort((s,r)=>s.name>r.name?1:-1).map(s=>s.options)}function Jy(t,s){if(t.length!==s.length)return!1;const r=si(t),a=si(s);return r.every((n,o)=>{const c=a[o];return to(n,c)})}function so(t){return typeof t=="number"}function hn(t){return typeof t=="string"}function la(t){return typeof t=="boolean"}function ri(t){return Object.prototype.toString.call(t)==="[object Object]"}function we(t){return Math.abs(t)}function ro(t){return Math.sign(t)}function $s(t,s){return we(t-s)}function Xy(t,s){if(t===0||s===0||we(t)<=we(s))return 0;const r=$s(we(t),we(s));return we(r/t)}function Fs(t){return Bs(t).map(Number)}function Je(t){return t[Js(t)]}function Js(t){return Math.max(0,t.length-1)}function ao(t,s){return s===Js(t)}function ai(t,s=0){return Array.from(Array(t),(r,a)=>s+a)}function Bs(t){return Object.keys(t)}function Am(t,s){return[t,s].reduce((r,a)=>(Bs(a).forEach(n=>{const o=r[n],c=a[n],l=ri(o)&&ri(c);r[n]=l?Am(o,c):c}),r),{})}function xn(t,s){return typeof s.MouseEvent<"u"&&t instanceof s.MouseEvent}function Qy(t,s){const r={start:a,center:n,end:o};function a(){return 0}function n(d){return o(d)/2}function o(d){return s-d}function c(d,u){return hn(t)?r[t](d):t(s,d,u)}return{measure:c}}function Us(){let t=[];function s(n,o,c,l={passive:!0}){let d;if("addEventListener"in n)n.addEventListener(o,c,l),d=()=>n.removeEventListener(o,c,l);else{const u=n;u.addListener(c),d=()=>u.removeListener(c)}return t.push(d),a}function r(){t=t.filter(n=>n())}const a={add:s,clear:r};return a}function ej(t,s,r,a){const n=Us(),o=1e3/60;let c=null,l=0,d=0;function u(){n.add(t,"visibilitychange",()=>{t.hidden&&v()})}function m(){y(),n.clear()}function p(h){if(!d)return;c||(c=h);const g=h-c;for(c=h,l+=g;l>=o;)r(o),l-=o;const b=l/o;a(b),d&&s.requestAnimationFrame(p)}function x(){d||(d=s.requestAnimationFrame(p))}function y(){s.cancelAnimationFrame(d),c=null,l=0,d=0}function v(){c=null,l=0}return{init:u,destroy:m,start:x,stop:y,update:()=>r(o),render:a}}function tj(t,s){const r=s==="rtl",a=t==="y",n=a?"y":"x",o=a?"x":"y",c=!a&&r?-1:1,l=m(),d=p();function u(v){const{height:f,width:h}=v;return a?f:h}function m(){return a?"top":r?"right":"left"}function p(){return a?"bottom":r?"left":"right"}function x(v){return v*c}return{scroll:n,cross:o,startEdge:l,endEdge:d,measureSize:u,direction:x}}function zt(t=0,s=0){const r=we(t-s);function a(u){return u<t}function n(u){return u>s}function o(u){return a(u)||n(u)}function c(u){return o(u)?a(u)?t:s:u}function l(u){return r?u-r*Math.ceil((u-s)/r):u}return{length:r,max:s,min:t,constrain:c,reachedAny:o,reachedMax:n,reachedMin:a,removeOffset:l}}function Im(t,s,r){const{constrain:a}=zt(0,t),n=t+1;let o=c(s);function c(x){return r?we((n+x)%n):a(x)}function l(){return o}function d(x){return o=c(x),p}function u(x){return m().set(l()+x)}function m(){return Im(t,l(),r)}const p={get:l,set:d,add:u,clone:m};return p}function sj(t,s,r,a,n,o,c,l,d,u,m,p,x,y,v,f,h,g,b){const{cross:w,direction:N}=t,T=["INPUT","SELECT","TEXTAREA"],C={passive:!1},j=Us(),E=Us(),A=zt(50,225).constrain(y.measure(20)),M={mouse:300,touch:400},S={mouse:500,touch:600},P=v?43:25;let I=!1,_=0,k=0,$=!1,O=!1,z=!1,J=!1;function H(F){if(!b)return;function q(ve){(la(b)||b(F,ve))&&W(ve)}const ce=s;j.add(ce,"dragstart",ve=>ve.preventDefault(),C).add(ce,"touchmove",()=>{},C).add(ce,"touchend",()=>{}).add(ce,"touchstart",q).add(ce,"mousedown",q).add(ce,"touchcancel",Z).add(ce,"contextmenu",Z).add(ce,"click",ae,!0)}function B(){j.clear(),E.clear()}function D(){const F=J?r:s;E.add(F,"touchmove",L,C).add(F,"touchend",Z).add(F,"mousemove",L,C).add(F,"mouseup",Z)}function U(F){const q=F.nodeName||"";return T.includes(q)}function Y(){return(v?S:M)[J?"mouse":"touch"]}function G(F,q){const ce=p.add(ro(F)*-1),ve=m.byDistance(F,!v).distance;return v||we(F)<A?ve:h&&q?ve*.5:m.byIndex(ce.get(),0).distance}function W(F){const q=xn(F,a);J=q,z=v&&q&&!F.buttons&&I,I=$s(n.get(),c.get())>=2,!(q&&F.button!==0)&&(U(F.target)||($=!0,o.pointerDown(F),u.useFriction(0).useDuration(0),n.set(c),D(),_=o.readPoint(F),k=o.readPoint(F,w),x.emit("pointerDown")))}function L(F){if(!xn(F,a)&&F.touches.length>=2)return Z(F);const ce=o.readPoint(F),ve=o.readPoint(F,w),Ce=$s(ce,_),Ie=$s(ve,k);if(!O&&!J&&(!F.cancelable||(O=Ce>Ie,!O)))return Z(F);const He=o.pointerMove(F);Ce>f&&(z=!0),u.useFriction(.3).useDuration(.75),l.start(),n.add(N(He)),F.preventDefault()}function Z(F){const ce=m.byDistance(0,!1).index!==p.get(),ve=o.pointerUp(F)*Y(),Ce=G(N(ve),ce),Ie=Xy(ve,Ce),He=P-10*Ie,ke=g+Ie/50;O=!1,$=!1,E.clear(),u.useDuration(He).useFriction(ke),d.distance(Ce,!v),J=!1,x.emit("pointerUp")}function ae(F){z&&(F.stopPropagation(),F.preventDefault(),z=!1)}function se(){return $}return{init:H,destroy:B,pointerDown:se}}function rj(t,s){let a,n;function o(p){return p.timeStamp}function c(p,x){const v=`client${(x||t.scroll)==="x"?"X":"Y"}`;return(xn(p,s)?p:p.touches[0])[v]}function l(p){return a=p,n=p,c(p)}function d(p){const x=c(p)-c(n),y=o(p)-o(a)>170;return n=p,y&&(a=p),x}function u(p){if(!a||!n)return 0;const x=c(n)-c(a),y=o(p)-o(a),v=o(p)-o(n)>170,f=x/y;return y&&!v&&we(f)>.1?f:0}return{pointerDown:l,pointerMove:d,pointerUp:u,readPoint:c}}function aj(){function t(r){const{offsetTop:a,offsetLeft:n,offsetWidth:o,offsetHeight:c}=r;return{top:a,right:n+o,bottom:a+c,left:n,width:o,height:c}}return{measure:t}}function nj(t){function s(a){return t*(a/100)}return{measure:s}}function oj(t,s,r,a,n,o,c){const l=[t].concat(a);let d,u,m=[],p=!1;function x(h){return n.measureSize(c.measure(h))}function y(h){if(!o)return;u=x(t),m=a.map(x);function g(b){for(const w of b){if(p)return;const N=w.target===t,T=a.indexOf(w.target),C=N?u:m[T],j=x(N?t:a[T]);if(we(j-C)>=.5){h.reInit(),s.emit("resize");break}}}d=new ResizeObserver(b=>{(la(o)||o(h,b))&&g(b)}),r.requestAnimationFrame(()=>{l.forEach(b=>d.observe(b))})}function v(){p=!0,d&&d.disconnect()}return{init:y,destroy:v}}function ij(t,s,r,a,n,o){let c=0,l=0,d=n,u=o,m=t.get(),p=0;function x(C){const j=C/1e3,E=d*j,A=a.get()-t.get(),M=!d;let S=0;return M?(c=0,r.set(a),t.set(a),S=A):(r.set(t),c+=A/E,c*=u,m+=c,t.add(c*j),S=m-p),l=ro(S),p=m,T}function y(){const C=a.get()-s.get();return we(C)<.001}function v(){return d}function f(){return l}function h(){return c}function g(){return w(n)}function b(){return N(o)}function w(C){return d=C,T}function N(C){return u=C,T}const T={direction:f,duration:v,velocity:h,seek:x,settled:y,useBaseFriction:b,useBaseDuration:g,useFriction:N,useDuration:w};return T}function lj(t,s,r,a,n){const o=n.measure(10),c=n.measure(50),l=zt(.1,.99);let d=!1;function u(){return!(d||!t.reachedAny(r.get())||!t.reachedAny(s.get()))}function m(y){if(!u())return;const v=t.reachedMin(s.get())?"min":"max",f=we(t[v]-s.get()),h=r.get()-s.get(),g=l.constrain(f/c);r.subtract(h*g),!y&&we(h)<o&&(r.set(t.constrain(r.get())),a.useDuration(25).useBaseFriction())}function p(y){d=!y}return{shouldConstrain:u,constrain:m,toggleActive:p}}function cj(t,s,r,a,n){const o=zt(-s+t,0),c=p(),l=m(),d=x();function u(v,f){return $s(v,f)<1}function m(){const v=c[0],f=Je(c),h=c.lastIndexOf(v),g=c.indexOf(f)+1;return zt(h,g)}function p(){return r.map((v,f)=>{const{min:h,max:g}=o,b=o.constrain(v),w=!f,N=ao(r,f);return w?g:N||u(h,b)?h:u(g,b)?g:b}).map(v=>parseFloat(v.toFixed(3)))}function x(){if(s<=t+n)return[o.max];if(a==="keepSnaps")return c;const{min:v,max:f}=l;return c.slice(v,f)}return{snapsContained:d,scrollContainLimit:l}}function dj(t,s,r){const a=s[0],n=r?a-t:Je(s);return{limit:zt(n,a)}}function uj(t,s,r,a){const o=s.min+.1,c=s.max+.1,{reachedMin:l,reachedMax:d}=zt(o,c);function u(x){return x===1?d(r.get()):x===-1?l(r.get()):!1}function m(x){if(!u(x))return;const y=t*(x*-1);a.forEach(v=>v.add(y))}return{loop:m}}function mj(t){const{max:s,length:r}=t;function a(o){const c=o-s;return r?c/-r:0}return{get:a}}function pj(t,s,r,a,n){const{startEdge:o,endEdge:c}=t,{groupSlides:l}=n,d=p().map(s.measure),u=x(),m=y();function p(){return l(a).map(f=>Je(f)[c]-f[0][o]).map(we)}function x(){return a.map(f=>r[o]-f[o]).map(f=>-we(f))}function y(){return l(u).map(f=>f[0]).map((f,h)=>f+d[h])}return{snaps:u,snapsAligned:m}}function fj(t,s,r,a,n,o){const{groupSlides:c}=n,{min:l,max:d}=a,u=m();function m(){const x=c(o),y=!t||s==="keepSnaps";return r.length===1?[o]:y?x:x.slice(l,d).map((v,f,h)=>{const g=!f,b=ao(h,f);if(g){const w=Je(h[0])+1;return ai(w)}if(b){const w=Js(o)-Je(h)[0]+1;return ai(w,Je(h)[0])}return v})}return{slideRegistry:u}}function hj(t,s,r,a,n){const{reachedAny:o,removeOffset:c,constrain:l}=a;function d(v){return v.concat().sort((f,h)=>we(f)-we(h))[0]}function u(v){const f=t?c(v):l(v),h=s.map((b,w)=>({diff:m(b-f,0),index:w})).sort((b,w)=>we(b.diff)-we(w.diff)),{index:g}=h[0];return{index:g,distance:f}}function m(v,f){const h=[v,v+r,v-r];if(!t)return v;if(!f)return d(h);const g=h.filter(b=>ro(b)===f);return g.length?d(g):Je(h)-r}function p(v,f){const h=s[v]-n.get(),g=m(h,f);return{index:v,distance:g}}function x(v,f){const h=n.get()+v,{index:g,distance:b}=u(h),w=!t&&o(h);if(!f||w)return{index:g,distance:v};const N=s[g]-b,T=v+m(N,0);return{index:g,distance:T}}return{byDistance:x,byIndex:p,shortcut:m}}function xj(t,s,r,a,n,o,c){function l(p){const x=p.distance,y=p.index!==s.get();o.add(x),x&&(a.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(r.set(s.get()),s.set(p.index),c.emit("select"))}function d(p,x){const y=n.byDistance(p,x);l(y)}function u(p,x){const y=s.clone().set(p),v=n.byIndex(y.get(),x);l(v)}return{distance:d,index:u}}function gj(t,s,r,a,n,o,c,l){const d={passive:!0,capture:!0};let u=0;function m(y){if(!l)return;function v(f){if(new Date().getTime()-u>10)return;c.emit("slideFocusStart"),t.scrollLeft=0;const b=r.findIndex(w=>w.includes(f));so(b)&&(n.useDuration(0),a.index(b,0),c.emit("slideFocus"))}o.add(document,"keydown",p,!1),s.forEach((f,h)=>{o.add(f,"focus",g=>{(la(l)||l(y,g))&&v(h)},d)})}function p(y){y.code==="Tab"&&(u=new Date().getTime())}return{init:m}}function Cs(t){let s=t;function r(){return s}function a(d){s=c(d)}function n(d){s+=c(d)}function o(d){s-=c(d)}function c(d){return so(d)?d:d.get()}return{get:r,set:a,add:n,subtract:o}}function _m(t,s){const r=t.scroll==="x"?o:c,a=s.style;let n=!1;function o(p){return`translate3d(${p}px,0px,0px)`}function c(p){return`translate3d(0px,${p}px,0px)`}function l(p){n||(a.transform=r(t.direction(p)))}function d(p){n=!p}function u(){n||(a.transform="",s.getAttribute("style")||s.removeAttribute("style"))}return{clear:u,to:l,toggleActive:d}}function vj(t,s,r,a,n,o,c,l,d){const m=Fs(n),p=Fs(n).reverse(),x=g().concat(b());function y(j,E){return j.reduce((A,M)=>A-n[M],E)}function v(j,E){return j.reduce((A,M)=>y(A,E)>0?A.concat([M]):A,[])}function f(j){return o.map((E,A)=>({start:E-a[A]+.5+j,end:E+s-.5+j}))}function h(j,E,A){const M=f(E);return j.map(S=>{const P=A?0:-r,I=A?r:0,_=A?"end":"start",k=M[S][_];return{index:S,loopPoint:k,slideLocation:Cs(-1),translate:_m(t,d[S]),target:()=>l.get()>k?P:I}})}function g(){const j=c[0],E=v(p,j);return h(E,r,!1)}function b(){const j=s-c[0]-1,E=v(m,j);return h(E,-r,!0)}function w(){return x.every(({index:j})=>{const E=m.filter(A=>A!==j);return y(E,s)<=.1})}function N(){x.forEach(j=>{const{target:E,translate:A,slideLocation:M}=j,S=E();S!==M.get()&&(A.to(S),M.set(S))})}function T(){x.forEach(j=>j.translate.clear())}return{canLoop:w,clear:T,loop:N,loopPoints:x}}function bj(t,s,r){let a,n=!1;function o(d){if(!r)return;function u(m){for(const p of m)if(p.type==="childList"){d.reInit(),s.emit("slidesChanged");break}}a=new MutationObserver(m=>{n||(la(r)||r(d,m))&&u(m)}),a.observe(t,{childList:!0})}function c(){a&&a.disconnect(),n=!0}return{init:o,destroy:c}}function yj(t,s,r,a){const n={};let o=null,c=null,l,d=!1;function u(){l=new IntersectionObserver(v=>{d||(v.forEach(f=>{const h=s.indexOf(f.target);n[h]=f}),o=null,c=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:a}),s.forEach(v=>l.observe(v))}function m(){l&&l.disconnect(),d=!0}function p(v){return Bs(n).reduce((f,h)=>{const g=parseInt(h),{isIntersecting:b}=n[g];return(v&&b||!v&&!b)&&f.push(g),f},[])}function x(v=!0){if(v&&o)return o;if(!v&&c)return c;const f=p(v);return v&&(o=f),v||(c=f),f}return{init:u,destroy:m,get:x}}function jj(t,s,r,a,n,o){const{measureSize:c,startEdge:l,endEdge:d}=t,u=r[0]&&n,m=v(),p=f(),x=r.map(c),y=h();function v(){if(!u)return 0;const b=r[0];return we(s[l]-b[l])}function f(){if(!u)return 0;const b=o.getComputedStyle(Je(a));return parseFloat(b.getPropertyValue(`margin-${d}`))}function h(){return r.map((b,w,N)=>{const T=!w,C=ao(N,w);return T?x[w]+m:C?x[w]+p:N[w+1][l]-b[l]}).map(we)}return{slideSizes:x,slideSizesWithGaps:y,startGap:m,endGap:p}}function wj(t,s,r,a,n,o,c,l,d){const{startEdge:u,endEdge:m,direction:p}=t,x=so(r);function y(g,b){return Fs(g).filter(w=>w%b===0).map(w=>g.slice(w,w+b))}function v(g){return g.length?Fs(g).reduce((b,w,N)=>{const T=Je(b)||0,C=T===0,j=w===Js(g),E=n[u]-o[T][u],A=n[u]-o[w][m],M=!a&&C?p(c):0,S=!a&&j?p(l):0,P=we(A-S-(E+M));return N&&P>s+d&&b.push(w),j&&b.push(g.length),b},[]).map((b,w,N)=>{const T=Math.max(N[w-1]||0);return g.slice(T,b)}):[]}function f(g){return x?y(g,r):v(g)}return{groupSlides:f}}function Nj(t,s,r,a,n,o,c){const{align:l,axis:d,direction:u,startIndex:m,loop:p,duration:x,dragFree:y,dragThreshold:v,inViewThreshold:f,slidesToScroll:h,skipSnaps:g,containScroll:b,watchResize:w,watchSlides:N,watchDrag:T,watchFocus:C}=o,j=2,E=aj(),A=E.measure(s),M=r.map(E.measure),S=tj(d,u),P=S.measureSize(A),I=nj(P),_=Qy(l,P),k=!p&&!!b,$=p||!!b,{slideSizes:O,slideSizesWithGaps:z,startGap:J,endGap:H}=jj(S,A,M,r,$,n),B=wj(S,P,h,p,A,M,J,H,j),{snaps:D,snapsAligned:U}=pj(S,_,A,M,B),Y=-Je(D)+Je(z),{snapsContained:G,scrollContainLimit:W}=cj(P,Y,U,b,j),L=k?G:U,{limit:Z}=dj(Y,L,p),ae=Im(Js(L),m,p),se=ae.clone(),te=Fs(r),F=({dragHandler:et,scrollBody:nt,scrollBounds:Wt,options:{loop:qt}},gs)=>{qt||Wt.constrain(et.pointerDown()),nt.seek(gs)},q=({scrollBody:et,translate:nt,location:Wt,offsetLocation:qt,scrollLooper:gs,slideLooper:ma,dragHandler:pa,animation:fa,eventHandler:re,scrollBounds:me,options:{loop:fe}},he)=>{const ue=et.settled(),Le=!me.shouldConstrain(),Re=fe?ue:ue&&Le;Re&&!pa.pointerDown()&&(fa.stop(),re.emit("settle")),Re||re.emit("scroll");const Me=Wt.get()*he+He.get()*(1-he);qt.set(Me),fe&&(gs.loop(et.direction()),ma.loop()),nt.to(qt.get())},ce=ej(a,n,et=>F(Gt,et),et=>q(Gt,et)),ve=.68,Ce=L[ae.get()],Ie=Cs(Ce),He=Cs(Ce),ke=Cs(Ce),Qe=Cs(Ce),Et=ij(Ie,ke,He,Qe,x,ve),at=hj(p,L,Y,Z,Qe),hs=xj(ce,ae,se,Et,at,Qe,c),xs=mj(Z),Xs=Us(),da=yj(s,r,c,f),{slideRegistry:kt}=fj(k,b,L,W,B,te),ua=gj(t,r,kt,hs,Et,Xs,c,C),Gt={ownerDocument:a,ownerWindow:n,eventHandler:c,containerRect:A,slideRects:M,animation:ce,axis:S,dragHandler:sj(S,t,a,n,Qe,rj(S,n),Ie,ce,hs,Et,at,ae,c,I,y,v,g,ve,T),eventStore:Xs,percentOfView:I,index:ae,indexPrevious:se,limit:Z,location:Ie,offsetLocation:ke,previousLocation:He,options:o,resizeHandler:oj(s,c,n,r,S,w,E),scrollBody:Et,scrollBounds:lj(Z,ke,Qe,Et,I),scrollLooper:uj(Y,Z,ke,[Ie,ke,He,Qe]),scrollProgress:xs,scrollSnapList:L.map(xs.get),scrollSnaps:L,scrollTarget:at,scrollTo:hs,slideLooper:vj(S,P,Y,O,z,D,L,ke,r),slideFocus:ua,slidesHandler:bj(s,c,N),slidesInView:da,slideIndexes:te,slideRegistry:kt,slidesToScroll:B,target:Qe,translate:_m(S,s)};return Gt}function Sj(){let t={},s;function r(u){s=u}function a(u){return t[u]||[]}function n(u){return a(u).forEach(m=>m(s,u)),d}function o(u,m){return t[u]=a(u).concat([m]),d}function c(u,m){return t[u]=a(u).filter(p=>p!==m),d}function l(){t={}}const d={init:r,emit:n,off:c,on:o,clear:l};return d}const Cj={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Ej(t){function s(o,c){return Am(o,c||{})}function r(o){const c=o.breakpoints||{},l=Bs(c).filter(d=>t.matchMedia(d).matches).map(d=>c[d]).reduce((d,u)=>s(d,u),{});return s(o,l)}function a(o){return o.map(c=>Bs(c.breakpoints||{})).reduce((c,l)=>c.concat(l),[]).map(t.matchMedia)}return{mergeOptions:s,optionsAtMedia:r,optionsMediaQueries:a}}function kj(t){let s=[];function r(o,c){return s=c.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),s.forEach(l=>l.init(o,t)),c.reduce((l,d)=>Object.assign(l,{[d.name]:d}),{})}function a(){s=s.filter(o=>o.destroy())}return{init:r,destroy:a}}function kr(t,s,r){const a=t.ownerDocument,n=a.defaultView,o=Ej(n),c=kj(o),l=Us(),d=Sj(),{mergeOptions:u,optionsAtMedia:m,optionsMediaQueries:p}=o,{on:x,off:y,emit:v}=d,f=S;let h=!1,g,b=u(Cj,kr.globalOptions),w=u(b),N=[],T,C,j;function E(){const{container:te,slides:F}=w;C=(hn(te)?t.querySelector(te):te)||t.children[0];const ce=hn(F)?C.querySelectorAll(F):F;j=[].slice.call(ce||C.children)}function A(te){const F=Nj(t,C,j,a,n,te,d);if(te.loop&&!F.slideLooper.canLoop()){const q=Object.assign({},te,{loop:!1});return A(q)}return F}function M(te,F){h||(b=u(b,te),w=m(b),N=F||N,E(),g=A(w),p([b,...N.map(({options:q})=>q)]).forEach(q=>l.add(q,"change",S)),w.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(se),g.eventHandler.init(se),g.resizeHandler.init(se),g.slidesHandler.init(se),g.options.loop&&g.slideLooper.loop(),C.offsetParent&&j.length&&g.dragHandler.init(se),T=c.init(se,N)))}function S(te,F){const q=B();P(),M(u({startIndex:q},te),F),d.emit("reInit")}function P(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),c.destroy(),l.clear()}function I(){h||(h=!0,l.clear(),P(),d.emit("destroy"),d.clear())}function _(te,F,q){!w.active||h||(g.scrollBody.useBaseFriction().useDuration(F===!0?0:w.duration),g.scrollTo.index(te,q||0))}function k(te){const F=g.index.add(1).get();_(F,te,-1)}function $(te){const F=g.index.add(-1).get();_(F,te,1)}function O(){return g.index.add(1).get()!==B()}function z(){return g.index.add(-1).get()!==B()}function J(){return g.scrollSnapList}function H(){return g.scrollProgress.get(g.location.get())}function B(){return g.index.get()}function D(){return g.indexPrevious.get()}function U(){return g.slidesInView.get()}function Y(){return g.slidesInView.get(!1)}function G(){return T}function W(){return g}function L(){return t}function Z(){return C}function ae(){return j}const se={canScrollNext:O,canScrollPrev:z,containerNode:Z,internalEngine:W,destroy:I,off:y,on:x,emit:v,plugins:G,previousScrollSnap:D,reInit:f,rootNode:L,scrollNext:k,scrollPrev:$,scrollProgress:H,scrollSnapList:J,scrollTo:_,selectedScrollSnap:B,slideNodes:ae,slidesInView:U,slidesNotInView:Y};return M(s,r),setTimeout(()=>d.emit("init"),0),se}kr.globalOptions=void 0;function no(t={},s=[]){const r=i.useRef(t),a=i.useRef(s),[n,o]=i.useState(),[c,l]=i.useState(),d=i.useCallback(()=>{n&&n.reInit(r.current,a.current)},[n]);return i.useEffect(()=>{to(r.current,t)||(r.current=t,d())},[t,d]),i.useEffect(()=>{Jy(a.current,s)||(a.current=s,d())},[s,d]),i.useEffect(()=>{if(Zy()&&c){kr.globalOptions=no.globalOptions;const u=kr(c,r.current,a.current);return o(u),()=>u.destroy()}else o(void 0)},[c,o]),[l,n]}no.globalOptions=void 0;const Dm=i.createContext(null);function ca(){const t=i.useContext(Dm);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Mm=i.forwardRef(({orientation:t="horizontal",opts:s,setApi:r,plugins:a,className:n,children:o,...c},l)=>{const[d,u]=no({...s,axis:t==="horizontal"?"x":"y"},a),[m,p]=i.useState(!1),[x,y]=i.useState(!1),v=i.useCallback(b=>{b&&(p(b.canScrollPrev()),y(b.canScrollNext()))},[]),f=i.useCallback(()=>{u==null||u.scrollPrev()},[u]),h=i.useCallback(()=>{u==null||u.scrollNext()},[u]),g=i.useCallback(b=>{b.key==="ArrowLeft"?(b.preventDefault(),f()):b.key==="ArrowRight"&&(b.preventDefault(),h())},[f,h]);return i.useEffect(()=>{!u||!r||r(u)},[u,r]),i.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u==null||u.off("select",v)}},[u,v]),e.jsx(Dm.Provider,{value:{carouselRef:d,api:u,opts:s,orientation:t||((s==null?void 0:s.axis)==="y"?"vertical":"horizontal"),scrollPrev:f,scrollNext:h,canScrollPrev:m,canScrollNext:x},children:e.jsx("div",{ref:l,onKeyDownCapture:g,className:K("relative",n),role:"region","aria-roledescription":"carousel",...c,children:o})})});Mm.displayName="Carousel";const $m=i.forwardRef(({className:t,...s},r)=>{const{carouselRef:a,orientation:n}=ca();return e.jsx("div",{ref:a,className:"overflow-hidden",children:e.jsx("div",{ref:r,className:K("flex",n==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...s})})});$m.displayName="CarouselContent";const Om=i.forwardRef(({className:t,...s},r)=>{const{orientation:a}=ca();return e.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:K("min-w-0 shrink-0 grow-0 basis-full",a==="horizontal"?"pl-4":"pt-4",t),...s})});Om.displayName="CarouselItem";const Lm=i.forwardRef(({className:t,variant:s="outline",size:r="icon",...a},n)=>{const{orientation:o,scrollPrev:c,canScrollPrev:l}=ca();return e.jsxs(R,{ref:n,variant:s,size:r,className:K("absolute  h-8 w-8 rounded-full",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:c,...a,children:[e.jsx(Vr,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Lm.displayName="CarouselPrevious";const zm=i.forwardRef(({className:t,variant:s="outline",size:r="icon",...a},n)=>{const{orientation:o,scrollNext:c,canScrollNext:l}=ca();return e.jsxs(R,{ref:n,variant:s,size:r,className:K("absolute h-8 w-8 rounded-full",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:c,...a,children:[e.jsx(ul,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})});zm.displayName="CarouselNext";const _a=[{id:"minimalist",name:"Minimalismo",description:"Looks clean, neutros e atemporais",searchQuery:"roupas minimalistas neutras bsicas clean atemporal",gradient:"from-gray-50 to-slate-50",color:"gray-700",icon:"",type:"fixed",priority:1,isActive:!0},{id:"classic",name:"Clssico",description:"Estilo elegante e sofisticado",searchQuery:"roupas clssicas elegantes sofisticadas atemporais",gradient:"from-slate-50 to-gray-50",color:"slate-700",icon:"",type:"fixed",priority:2,isActive:!0},{id:"casual",name:"Casual Chic",description:"Conforto com estilo para o dia a dia",searchQuery:"roupas casuais confortveis estilo dia a dia",gradient:"from-blue-50 to-indigo-50",color:"blue-700",icon:"",type:"fixed",priority:3,isActive:!0}],Pj=[{id:"summer-2024",name:"Moda Vero 2024",description:"Cores vibrantes, tecidos leves e estampas florais",searchQuery:"vestidos florais cores vibrantes vero 2024 tecidos leves",gradient:"from-yellow-50 to-orange-50",color:"yellow-700",icon:"",type:"seasonal",priority:1,isActive:!0},{id:"barbiecore",name:"Barbiecore",description:"Rosa, brilho e acessrios divertidos",searchQuery:"roupas rosa brilho acessrios divertidos vestidos pink",gradient:"from-pink-50 to-purple-50",color:"purple-700",icon:"",type:"seasonal",priority:2,isActive:!0},{id:"cottagecore",name:"Cottagecore",description:"Romntico, vintage e inspirado na natureza",searchQuery:"vestidos romnticos vintage cottagecore floral natureza",gradient:"from-green-50 to-emerald-50",color:"green-700",icon:"",type:"seasonal",priority:3,isActive:!0}],ni=async()=>(await new Promise(s=>setTimeout(s,500)),[{id:"tiktok-style",name:"Estilo TikTok",description:"Peas virais, jeans largos e muita criatividade",searchQuery:"jeans largos peas virais tiktok fashion streetwear",gradient:"from-cyan-50 to-blue-50",color:"cyan-700",icon:"",type:"viral",priority:1,isActive:!0},{id:"y2k-revival",name:"Y2K Revival",description:"Anos 2000 de volta com cores neon e brilhos",searchQuery:"roupas y2k anos 2000 neon brilho retro vintage",gradient:"from-purple-50 to-pink-50",color:"pink-700",icon:"",type:"viral",priority:2,isActive:!0},{id:"quiet-luxury",name:"Quiet Luxury",description:"Luxo discreto e sofisticao minimalista",searchQuery:"roupas luxo discreto sofisticado minimalista qualidade",gradient:"from-stone-50 to-neutral-50",color:"stone-700",icon:"",type:"viral",priority:3,isActive:!0}]),oi=()=>{const t=new Date().getMonth();return t>=11||t<=2?Pj.filter(s=>s.id==="summer-2024"||s.id==="barbiecore"):t>=2&&t<=4?[{id:"autumn-style",name:"Estilo Outono",description:"Tons terrosos, camadas e texturas",searchQuery:"roupas outono tons terrosos camadas texturas",gradient:"from-amber-50 to-orange-50",color:"amber-700",icon:"",type:"seasonal",priority:1,isActive:!0}]:t>=5&&t<=7?[{id:"winter-cozy",name:"Inverno Aconchegante",description:"Looks quentes, casacos e trics",searchQuery:"casacos inverno trics looks quentes aconchegantes",gradient:"from-slate-50 to-gray-50",color:"slate-700",icon:"",type:"seasonal",priority:1,isActive:!0}]:[{id:"spring-fresh",name:"Primavera Fresca",description:"Cores suaves, flores e renovao",searchQuery:"roupas primavera cores suaves flores renovao",gradient:"from-green-50 to-emerald-50",color:"green-700",icon:"",type:"seasonal",priority:1,isActive:!0}]},Tj=()=>{const[t,s]=i.useState([]),[r,a]=i.useState(!0),[n,o]=i.useState(null);return i.useEffect(()=>{(async()=>{try{a(!0),o(null);const d=_a.filter(y=>y.isActive),u=oi(),m=await ni(),x=[...d,...u,...m].sort((y,v)=>y.priority-v.priority).slice(0,6);s(x)}catch(d){console.error("Erro ao carregar tendncias:",d),o("Erro ao carregar tendncias. Usando tendncias padro."),s(_a.slice(0,6))}finally{a(!1)}})()},[]),{trends:t,isLoading:r,error:n,refreshTrends:async()=>{a(!0),o(null);try{const l=await ni(),d=oi(),m=[..._a.filter(p=>p.isActive),...d,...l].sort((p,x)=>p.priority-x.priority);s(m.slice(0,6))}catch{o("Erro ao atualizar tendncias.")}finally{a(!1)}}}},Rj=({colorPalette:t,onSectionChange:s,onSearch:r,searchesLeft:a,isPremium:n,loading:o,searchResults:c,user:l,onProductTryOn:d,activeSubSection:u})=>{const[m,p]=i.useState("text"),x=In(),{trends:y,isLoading:v,error:f,refreshTrends:h}=Tj(),g=C=>{r(`[Busca por tendncia] ${C.searchQuery}`)},b=()=>{const C=document.getElementById("palette-section");C&&C.scrollIntoView({behavior:"smooth",block:"start"})};i.useEffect(()=>{c&&c.length>0&&localStorage.setItem("discover-lastResults",JSON.stringify(c)),localStorage.setItem("discover-searchMode",m)},[c,m]),i.useEffect(()=>{localStorage.getItem("discover-lastResults")&&c.length;const j=localStorage.getItem("discover-searchMode");j&&m!==j&&p(j)},[]);const w=C=>{console.log("Paleta analisada:",C)},N=C=>{const j=[];C.searchQuery&&C.searchQuery.trim()&&j.push(C.searchQuery.trim()),C.priceRange&&j.push(`preo entre R$ ${C.priceRange[0]} e R$ ${C.priceRange[1]}`),C.brands&&C.brands.length>0&&j.push(`marcas: ${C.brands.join(", ")}`),C.colors&&C.colors.length>0&&j.push(`cores: ${C.colors.join(", ")}`),C.rating&&j.push(`avaliao mnima: ${C.rating} estrelas`),C.inStock&&j.push("apenas em estoque");const E=j.length>0?`[Busca por filtros] ${j.join(" | ")}`:"[Busca por filtros vazia]";r(E)},T=C=>{r(`[Busca por imagem] ${C.substring(0,50)}...`)};return e.jsxs("div",{className:"space-y-6 animate-fade-in p-4 md:p-6",children:[e.jsx("div",{id:"palette-section",children:e.jsx(X,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 mb-3",children:[e.jsx(Fe,{className:"h-5 w-5 text-purple-500"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Anlise de Paleta de Cores"})]}),e.jsx(dm,{onPaletteAnalyzed:w}),t&&e.jsx("div",{className:"mt-4",children:e.jsx(eo,{palette:t})})]})})}),e.jsx("div",{id:"search-section",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h2",{className:"text-center text-base md:text-lg font-semibold text-black",children:"Compare preos, encontre lojas e descubra as melhores opes para comprar online"})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 md:hidden",children:[e.jsxs(R,{variant:m==="text"?"default":"outline",onClick:()=>p("text"),className:"flex items-center justify-center space-x-1 h-10",size:"sm",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Busca Livre"})]}),e.jsxs(R,{variant:m==="filters"?"default":"outline",onClick:()=>p("filters"),className:"flex items-center justify-center space-x-1 h-10",size:"sm",children:[e.jsx(yr,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Filtros"})]}),e.jsxs(R,{variant:m==="occasions"?"default":"outline",onClick:()=>p("occasions"),className:"flex items-center justify-center space-x-1 h-10",size:"sm",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Por Ocasio"})]}),e.jsxs(R,{variant:m==="image"?"default":"outline",onClick:()=>p("image"),className:"flex items-center justify-center space-x-1 h-10",size:"sm",children:[e.jsx(rt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Por Imagem"})]}),e.jsxs(R,{variant:m==="trends"?"default":"outline",onClick:()=>p("trends"),className:"flex items-center justify-center space-x-1 h-10",size:"sm",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Tendncias"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center justify-center space-x-2 flex-wrap gap-2",children:[e.jsxs(R,{variant:m==="text"?"default":"outline",onClick:()=>p("text"),className:"flex items-center space-x-2",size:"sm",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsx("span",{children:"Busca Livre"})]}),e.jsxs(R,{variant:m==="occasions"?"default":"outline",onClick:()=>p("occasions"),className:"flex items-center space-x-2",size:"sm",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Por Ocasio"})]}),e.jsxs(R,{variant:m==="filters"?"default":"outline",onClick:()=>p("filters"),className:"flex items-center space-x-2",size:"sm",children:[e.jsx(yr,{className:"h-4 w-4"}),e.jsx("span",{children:"Filtros Avanados"})]}),e.jsxs(R,{variant:m==="image"?"default":"outline",onClick:()=>p("image"),className:"flex items-center space-x-2",size:"sm",children:[e.jsx(rt,{className:"h-4 w-4"}),e.jsx("span",{children:"Busca por Imagem"})]}),e.jsxs(R,{variant:m==="trends"?"default":"outline",onClick:()=>p("trends"),className:"flex items-center space-x-2",size:"sm",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"Tendncias"})]})]})]}),m==="text"&&e.jsx(Rv,{onSearch:r,searchesLeft:a,isPremium:n,loading:o,results:c,user:l,onProductTryOn:d,colorPalette:t}),m==="occasions"&&e.jsx(ey,{onOccasionSearch:r,loading:o}),m==="filters"&&e.jsx(Xb,{onFiltersChange:N}),m==="image"&&e.jsx(ty,{onImageSearch:T,colorPalette:t,onDiscoverPalette:b}),m==="trends"&&e.jsxs("div",{className:"py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Tendncias do Momento"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Clique em uma tendncia para descobrir produtos incrveis que esto em alta agora!"})]}),v?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando tendncias..."})]})}):f?e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-700 text-sm mb-3",children:f}),e.jsx(R,{onClick:h,variant:"outline",size:"sm",className:"text-red-600 border-red-300 hover:bg-red-50",children:"Tentar Novamente"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-w-6xl mx-auto",children:y.map(C=>e.jsx("div",{onClick:()=>g(C),className:`
                          rounded-xl border p-6 bg-gradient-to-br ${C.gradient} 
                          cursor-pointer transition-all duration-300 transform hover:scale-105 
                          hover:shadow-lg active:scale-95 group
                        `,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-2xl",children:C.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:`font-semibold text-${C.color} group-hover:underline`,children:C.name}),e.jsxs("span",{className:`
                                text-xs px-2 py-1 rounded-full font-medium
                                ${C.type==="fixed"?"bg-gray-100 text-gray-600":""}
                                ${C.type==="seasonal"?"bg-orange-100 text-orange-600":""}
                                ${C.type==="viral"?"bg-purple-100 text-purple-600":""}
                              `,children:[C.type==="fixed"&&"Atemporal",C.type==="seasonal"&&"Sazonal",C.type==="viral"&&"Viral"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:C.description}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(le,{className:"h-3 w-3 mr-1"}),"Clique para explorar"]})]})]})},C.id))}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(R,{onClick:h,variant:"outline",size:"sm",className:"text-purple-600 border-purple-300 hover:bg-purple-50",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Atualizar Tendncias"]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-50 border border-blue-200 rounded-lg px-4 py-2",children:[e.jsx(le,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm text-blue-700",children:" Dica: As buscas so personalizadas com base na sua paleta de cores"})]})})]})]}),c.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4",children:["Produtos Encontrados (",c.length,")",t&&e.jsx("span",{className:"text-sm font-normal text-gray-600 ml-2",children:" Baseado na sua paleta de cores"})]}),x?e.jsx("div",{className:"relative",children:e.jsxs(Mm,{className:"w-full max-w-xs mx-auto sm:max-w-full",opts:{loop:!0,dragFree:!1,slidesToScroll:1,skipSnaps:!1},children:[e.jsx($m,{children:c.map((C,j)=>e.jsx(Om,{className:"p-0",children:e.jsx(en,{product:C,onTryOn:d,showFavorite:!0,colorPalette:t,onDiscoverPalette:b})},C.id||j))}),e.jsx(Lm,{className:"left-2 md:left-2"}),e.jsx(zm,{className:"right-2 md:right-2"})]})}):e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.slice(0,4).map((C,j)=>e.jsx(en,{product:C,onTryOn:d,showFavorite:!0,colorPalette:t,onDiscoverPalette:b},C.id||j)),c.length<4&&e.jsx("div",{className:"bg-gray-50 rounded-lg h-[420px] border border-dashed border-gray-200 flex items-center justify-center text-gray-300",children:"Produto"})]}),c.length>4&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{className:"px-6 py-2 rounded-lg bg-purple-600 text-white font-medium hover:bg-purple-700 transition",children:"Ver mais"})})]})]})})]})},Aj=({onAdviceGenerated:t})=>{const[s,r]=i.useState(""),[a,n]=i.useState(""),[o,c]=i.useState(""),[l,d]=i.useState(""),[u,m]=i.useState(!1),{toast:p}=ge(),x=async()=>{if(!s||!a){p({title:"Informaes necessrias",description:"Selecione pelo menos a ocasio e seu estilo preferido",variant:"destructive"});return}m(!0),setTimeout(()=>{t({mainRecommendation:"Para um evento social casual, recomendo um look equilibrado entre conforto e elegncia.",outfit:[{item:"Blusa social em tecido fluido",color:"Azul marinho ou branco",reason:"Verstil e elegante para a ocasio"},{item:"Cala de alfaiataria slim",color:"Preto ou cinza escuro",reason:"Alonga a silhueta e combina com qualquer blusa"},{item:"Sapato scarpin de salto mdio",color:"Nude ou preto",reason:"Confortvel para caminhar e elegante"}],accessories:["Brincos pequenos ou mdios","Bolsa estruturada mdia","Relgio delicado"],colorPalette:["#1e3a8a","#ffffff","#000000","#f5f5dc"],styling_tips:["Mantenha a maquiagem natural com um batom mais marcante","Prefira tecidos que no amarrotem facilmente","Uma terceira pea (blazer) pode ser til para ambientes com ar condicionado"],confidence_score:.94}),m(!1),p({title:"Conselho gerado! ",description:"Sua consultoria personalizada est pronta"})},2500)};return e.jsx(X,{className:"mb-6",children:e.jsxs(ee,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(le,{className:"h-5 w-5 text-orange-500"}),e.jsx("h3",{className:"font-medium",children:"Consultoria Inteligente"}),e.jsx(sh,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Bf,{className:"h-4 w-4 inline mr-1"}),"Ocasio"]}),e.jsxs(mr,{value:s,onValueChange:r,children:[e.jsx(ks,{children:e.jsx(pr,{placeholder:"Para onde voc vai?"})}),e.jsxs(Ps,{children:[e.jsx(Se,{value:"trabalho",children:"Trabalho"}),e.jsx(Se,{value:"evento-social",children:"Evento Social"}),e.jsx(Se,{value:"festa",children:"Festa/Balada"}),e.jsx(Se,{value:"casual",children:"Dia a Dia"}),e.jsx(Se,{value:"encontro",children:"Encontro"}),e.jsx(Se,{value:"viagem",children:"Viagem"}),e.jsx(Se,{value:"esporte",children:"Atividade Fsica"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Tn,{className:"h-4 w-4 inline mr-1"}),"Seu Estilo"]}),e.jsxs(mr,{value:a,onValueChange:n,children:[e.jsx(ks,{children:e.jsx(pr,{placeholder:"Como voc se define?"})}),e.jsxs(Ps,{children:[e.jsx(Se,{value:"classico",children:"Clssico/Elegante"}),e.jsx(Se,{value:"casual",children:"Casual/Confortvel"}),e.jsx(Se,{value:"moderno",children:"Moderno/Trendy"}),e.jsx(Se,{value:"boho",children:"Boho/Romntico"}),e.jsx(Se,{value:"minimalista",children:"Minimalista"}),e.jsx(Se,{value:"rock",children:"Rock/Alternativo"}),e.jsx(Se,{value:"colorido",children:"Colorido/Divertido"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(eh,{className:"h-4 w-4 inline mr-1"}),"Clima/Local"]}),e.jsxs(mr,{value:o,onValueChange:c,children:[e.jsx(ks,{children:e.jsx(pr,{placeholder:"Como est o tempo?"})}),e.jsxs(Ps,{children:[e.jsx(Se,{value:"quente",children:"Calor"}),e.jsx(Se,{value:"frio",children:"Frio"}),e.jsx(Se,{value:"ameno",children:"Clima Ameno"}),e.jsx(Se,{value:"chuva",children:"Chuva"}),e.jsx(Se,{value:"ar-condicionado",children:"Ambiente com Ar"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Oramento (opcional)"}),e.jsx(pe,{placeholder:"Ex: at R$ 300",value:l,onChange:y=>d(y.target.value)})]})]}),e.jsxs(R,{onClick:x,disabled:u||!s||!a,className:"w-full bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600",children:[u?e.jsx(le,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(le,{className:"h-4 w-4 mr-2"}),u?"Gerando Conselho...":"Receber Consultoria "]})]})})},Ij=({advice:t})=>t?e.jsx(X,{className:"mb-6 border-orange-200 bg-gradient-to-br from-orange-50 to-pink-50 dark:from-orange-950 dark:to-pink-950",children:e.jsxs(ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(le,{className:"h-6 w-6 text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Sua Consultoria Personalizada"}),e.jsxs(Ne,{variant:"secondary",className:"ml-auto",children:[Math.round(t.confidence_score*100),"% confiana"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:" Recomendao Principal"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 p-3 rounded-lg",children:t.mainRecommendation})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-3",children:" Look Completo"}),e.jsx("div",{className:"grid gap-3",children:t.outfit.map((s,r)=>e.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border-l-4 border-orange-400",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:s.item}),e.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400",children:s.color})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic max-w-xs text-right",children:s.reason})]})},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-3",children:" Acessrios Recomendados"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.accessories.map((s,r)=>e.jsx(Ne,{variant:"outline",className:"bg-white dark:bg-gray-800",children:s},r))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-3",children:[e.jsx(Fe,{className:"h-4 w-4 inline mr-1"}),"Paleta de Cores"]}),e.jsx("div",{className:"flex space-x-2",children:t.colorPalette.map((s,r)=>e.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300",style:{backgroundColor:s},title:s},r))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-3",children:[e.jsx(kn,{className:"h-4 w-4 inline mr-1"}),"Dicas Especiais"]}),e.jsx("ul",{className:"space-y-2",children:t.styling_tips.map((s,r)=>e.jsxs("li",{className:"flex items-start space-x-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsx(Pn,{className:"h-4 w-4 text-yellow-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:s})]},r))})]})]})]})}):null,Fm=({isFirstTime:t,colorPalette:s,userPhotos:r,selectedProduct:a,onStepChange:n,onCompleteSetup:o,activeStep:c})=>{const[l,d]=i.useState([{id:"evento",title:"Ocasio",description:"Escolha o evento para sua consultoria",completed:!1,locked:!1},{id:"palette",title:"Paleta de Cores",description:"Suas cores ideais j analisadas",completed:!1,locked:!0},{id:"photos",title:"Suas Fotos",description:"Adicione ou selecione suas fotos",completed:!1,locked:!0},{id:"product",title:"Escolher Roupa",description:"Selecione a pea para experimentar",completed:!1,locked:!0},{id:"tryon",title:"Teste Virtual",description:"Veja como fica em voc",completed:!1,locked:!0},{id:"analysis",title:"Anlise & Dicas",description:"Receba feedback personalizado",completed:!1,locked:!0}]),{toast:u}=ge();i.useEffect(()=>{m()},[s,r,a,t]);const m=()=>{d(b=>{const w=[...b];return w[0].completed=c!=="evento",w[1].locked=!w[0].completed,w[1].completed=!!s,t?(w[2].locked=!w[1].completed,w[2].completed=r.length>0,w[3].locked=!w[2].completed,w[3].completed=!!a,w[4].locked=!w[3].completed,w[4].completed=w[3].completed,w[5].locked=!w[4].completed,w[5].completed=!1):w.forEach((N,T)=>{N.locked=!1,T===1&&(N.completed=!!s),T===2&&(N.completed=r.length>0),T===3&&(N.completed=!!a)}),w})},p=b=>{if(b.locked){u({title:"Passo bloqueado ",description:"Complete o passo anterior para continuar",variant:"destructive"});return}n(b.id)},x=()=>{l.slice(0,4).every(w=>w.completed)?(o(),u({title:"Etapa completa! ",description:"Agora voc pode usar todas as funcionalidades livremente"})):u({title:"Etapa incompleta",description:"Complete todos os passos para finalizar",variant:"destructive"})},y=()=>l.findIndex(b=>b.id===c),v=()=>{const b=y();return b<l.length-1&&!l[b+1].locked},f=()=>y()>0,h=()=>{const b=y();v()&&n(l[b+1].id)},g=()=>{const b=y();f()&&n(l[b-1].id)};return e.jsxs("div",{className:"space-y-4",children:[t&&e.jsx(X,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950",children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Zf,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Primeira Consultoria - Etapa Inicial"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Vamos te guiar passo a passo na sua primeira consultoria. Aps completar, voc poder usar todas as funcionalidades livremente."})]})]})})}),e.jsx("div",{className:"flex flex-col items-center w-full mb-6",children:e.jsx("div",{className:"w-full max-w-[400px] flex flex-col gap-2",children:l.map((b,w)=>e.jsx("button",{onClick:()=>p(b),disabled:b.locked,className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-all w-full ${c===b.id?"bg-purple-500 text-white border-purple-500":b.completed?"bg-green-100 text-green-800 border-green-300 hover:bg-green-200":b.locked?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,style:{minHeight:50},children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-medium",children:b.completed?e.jsx(dt,{className:"h-4 w-4"}):b.locked?e.jsx(Xf,{className:"h-3 w-3"}):w+1}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium",children:b.title}),e.jsx("div",{className:"text-xs opacity-75",children:b.description})]})]})},b.id))})}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(R,{onClick:g,disabled:!f(),variant:"outline",size:"sm",children:[e.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Anterior"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Passo ",y()+1," de ",l.length]}),y()===l.length-1&&t?e.jsxs(R,{onClick:x,className:"bg-green-500 hover:bg-green-600 text-white",size:"sm",children:["Finalizar Etapa",e.jsx(dt,{className:"h-4 w-4 ml-2"})]}):e.jsxs(R,{onClick:h,disabled:!v(),size:"sm",children:["Prximo",e.jsx(ul,{className:"h-4 w-4 ml-2"})]})]})]})},_j=({userPhotos:t,selectedProduct:s,colorPalette:r,onSectionChange:a,onAdviceGenerated:n,fashionAdvice:o,activeSubSection:c,isSetupComplete:l=!1,onSetupComplete:d,onPaletteAnalyzed:u})=>{const m="consult-wizard-activeStep",[p,x]=i.useState(()=>typeof window<"u"&&window.localStorage.getItem(m)||"evento"),[y,v]=i.useState(""),f=!l;i.useEffect(()=>{typeof window<"u"&&p&&window.localStorage.setItem(m,p)},[p]),i.useEffect(()=>{f||window.localStorage.removeItem(m)},[f]),i.useEffect(()=>{s&&localStorage.setItem("consult-selectedProduct",JSON.stringify(s))},[s]),i.useEffect(()=>{t&&t.length>0&&localStorage.setItem("consult-userPhotos",JSON.stringify(t))},[t]),i.useEffect(()=>{if(localStorage.getItem("consult-selectedProduct")&&!s)try{a&&a("consultoria")}catch{}localStorage.getItem("consult-userPhotos")&&t.length},[]);const h=j=>{x(j)},g=()=>{d&&d()},b=j=>{u&&u(j)},w="w-full max-w-[400px] min-h-[370px] mx-auto flex flex-col justify-center rounded-2xl shadow-soft",N="flex flex-col items-center",T="p-6 flex flex-col flex-1 justify-center",C=()=>{switch(p){case"evento":return e.jsx("div",{className:N,children:e.jsx(X,{className:w,children:e.jsxs(ee,{className:T,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(le,{className:"h-5 w-5 text-pink-500"}),e.jsx("h3",{className:"text-lg font-medium",children:"Para qual ocasio voc quer consultoria?"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:["Casamento","Trabalho","Festa","Viagem","Encontro","Dia a dia"].map(j=>e.jsx("button",{className:`rounded-lg border px-3 py-2 text-sm font-medium transition-all ${y===j?"bg-purple-500 text-white border-purple-600":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-purple-50"}`,onClick:()=>v(j),type:"button",children:j},j))}),e.jsx("button",{className:`w-full py-2 rounded-lg font-semibold transition ${y?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,disabled:!y,onClick:()=>x("palette"),type:"button",children:"Avanar"})]})})});case"palette":return e.jsx("div",{className:N,children:e.jsx(X,{className:w,children:e.jsxs(ee,{className:T,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Fe,{className:"h-5 w-5 text-purple-500"}),e.jsx("h3",{className:"text-lg font-medium",children:"Passo 1: Sua Paleta de Cores"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(dm,{onPaletteAnalyzed:b}),r&&e.jsx("div",{className:"mt-4",children:e.jsx(eo,{palette:r,onNewAnalysis:()=>{window.location.reload()}})}),r&&f&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:" Suas cores esto prontas! Agora vamos para o prximo passo."})})]})]})})});case"photos":return e.jsx("div",{className:N,children:e.jsx(X,{className:w,children:e.jsxs(ee,{className:T,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(_e,{className:"h-5 w-5 text-blue-500"}),e.jsx("h3",{className:"text-lg font-medium",children:"Passo 2: Suas Fotos"})]}),t.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),e.jsxs("span",{className:"font-medium text-green-800",children:[t.length," foto(s) carregada(s)"]})]})}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.slice(0,6).map(j=>e.jsx("div",{className:"relative aspect-square",children:e.jsx("img",{src:j.data,alt:j.name,className:"w-full h-full object-cover rounded-lg"})},j.id))}),f&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:" Fotos carregadas! Agora vamos escolher uma roupa."})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(lt,{className:"h-12 w-12 mx-auto mb-2 text-amber-600"}),e.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"Adicione suas fotos"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Carregue suas fotos para usar o teste virtual"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:" Dicas para a melhor foto:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-left",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-blue-700",children:[" ",e.jsx("strong",{children:"Posio ideal:"})]}),e.jsxs("ul",{className:"text-xs text-blue-600 space-y-1 ml-4",children:[e.jsx("li",{children:" Fique em p, de frente para a cmera"}),e.jsx("li",{children:" Braos relaxados ao lado do corpo"}),e.jsx("li",{children:" Ps ligeiramente afastados"}),e.jsx("li",{children:" Olhar diretamente para a cmera"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-blue-700",children:[" ",e.jsx("strong",{children:"Ambiente ideal:"})]}),e.jsxs("ul",{className:"text-xs text-blue-600 space-y-1 ml-4",children:[e.jsx("li",{children:" Luz natural (prximo  janela)"}),e.jsx("li",{children:" Fundo neutro e liso"}),e.jsx("li",{children:" Roupa bem ajustada ao corpo"}),e.jsx("li",{children:" Sem sombras no rosto"})]})]})]}),e.jsx("div",{className:"mt-3 p-2 bg-white rounded border",children:e.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[" ",e.jsx("strong",{children:"Exemplo:"})," Imagine uma foto de corpo inteiro, como se fosse para um documento, mas mais relaxada e natural"]})})]}),e.jsx("button",{onClick:()=>a("perfil"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Ir para Meu Closet"})]})]})})});case"product":return e.jsx("div",{className:N,children:e.jsx(X,{className:w,children:e.jsxs(ee,{className:T,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx($e,{className:"h-5 w-5 text-purple-500"}),e.jsx("h3",{className:"text-lg font-medium",children:"Passo 3: Escolher Roupa"})]}),s?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-green-800",children:"Produto Selecionado"})]}),e.jsx("p",{className:"text-sm text-green-700",children:s.name}),s.paletteMatch&&e.jsxs("p",{className:"text-sm text-green-700",children:[s.paletteMatch,"% compatvel com sua paleta"]})]}),f&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:" Produto escolhido! Agora vamos fazer o teste virtual."})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx($e,{className:"h-12 w-12 mx-auto mb-2 text-amber-600"}),e.jsx("h4",{className:"font-medium text-amber-800 mb-2",children:"Selecione uma roupa"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Busque produtos na seo Descobrir ou escolha dos recomendados"}),e.jsx("button",{onClick:()=>a("descobrir"),className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Buscar Produtos"})]})]})})});case"tryon":return e.jsx("div",{className:N,children:e.jsx(X,{className:w,children:e.jsxs(ee,{className:T,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(_e,{className:"h-5 w-5 text-green-500"}),e.jsx("h3",{className:"text-lg font-medium",children:"Passo 4: Veja o teste virtual"})]}),s&&t.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:t.map(j=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden",children:[e.jsx("img",{src:j.data,alt:j.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-purple-500/20 flex items-center justify-center",children:e.jsxs("div",{className:"bg-purple-600 text-white px-3 py-2 rounded-lg text-sm",children:["Com ",s.name]})})]}),e.jsx("p",{className:"text-xs text-center text-gray-600",children:j.name})]},j.id))}),f&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:" Teste virtual realizado! Agora receba dicas personalizadas."})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_e,{className:"h-12 w-12 mx-auto mb-2 text-gray-400"}),e.jsx("h4",{className:"font-medium text-gray-600 mb-2",children:"Teste Virtual Indisponvel"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Complete os passos anteriores para usar o teste virtual"})]})]})})});case"analysis":return e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-center md:gap-8 items-center w-full",children:[e.jsx(X,{className:w+" mb-6 md:mb-0",children:e.jsxs(ee,{className:T,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(le,{className:"h-5 w-5 text-yellow-500"}),e.jsx("h3",{className:"text-lg font-medium",children:"Consultoria IA"})]}),e.jsx(Aj,{onAdviceGenerated:n})]})}),e.jsx(X,{className:w,children:e.jsxs(ee,{className:T,children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Suas Dicas Personalizadas"}),e.jsx(Ij,{advice:o}),!o&&e.jsx("p",{className:"text-sm text-gray-500",children:"Use a consultoria IA para receber dicas baseadas no seu look"})]})})]});default:return null}};return e.jsxs("div",{className:"animate-fade-in space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Consultoria Personalizada"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f?"Seu primeiro passo a passo para a consultoria completa":"Sua consultoria de moda - use livremente"})]}),e.jsx(Fm,{isFirstTime:f,colorPalette:r,userPhotos:t,selectedProduct:s,onStepChange:h,onCompleteSetup:g,activeStep:p}),e.jsx("div",{className:"mt-6",children:C()})]})},Dj=t=>t==="gostei"?"bg-blue-500 text-white":t==="quero_comprar"?"bg-green-500 text-white":"bg-gray-100 text-gray-700",Mj=(t,s)=>{if(s==="gostei")return"Gostei";if(s==="quero_comprar")return"quero comprar";switch(t){case"high":return"Gostei";case"medium":return"Quero comprar";case"low":return"Talvez";default:return""}},$j=({item:t,removeFromWishlist:s,priceAlerts:r,togglePriceAlert:a})=>{const[n,o]=i.useState(!1),{toast:c}=ge(),l=()=>{r.includes(t.id)?a(t.id):o(!0)},d=()=>{a(t.id),o(!1)},u=()=>{const m=`${t.image} Produto: ${t.name} - ${t.brand} R$ ${t.price.toFixed(2).replace(".",",")} (Veja mais: ${t.url})`;navigator.clipboard.writeText(m),c({title:"Produto copiado!",description:"As informaes deste produto esto prontas para compartilhar."})};return e.jsxs("div",{className:`
        flex flex-col items-center
        transition-all duration-150
        p-3 pb-5 md:pb-3
        mx-auto
        max-w-xs
        w-full
      `,style:{minWidth:0},children:[e.jsx("div",{className:"rounded-xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-6xl min-h-[190px] mb-2 transition-all duration-200 w-full",children:t.image}),e.jsxs("div",{className:"flex-1 flex flex-col gap-2 w-full items-center text-center",children:[e.jsxs("div",{className:"flex items-start justify-between w-full",children:[e.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[e.jsx("h3",{className:"font-medium text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.brand})]}),e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>s(t.id),className:"text-gray-300 hover:text-red-500 px-1 py-0",children:e.jsx(Ee,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{children:[t.onSale&&t.originalPrice&&e.jsxs("span",{className:"text-xs text-gray-400 line-through mr-1",children:["R$ ",t.originalPrice.toFixed(2).replace(".",",")]}),e.jsxs("span",{className:`font-bold ${t.onSale?"text-orange-600":"text-pink-600"} text-base`,children:["R$ ",t.price.toFixed(2).replace(".",",")]})]}),e.jsx(Ne,{className:`text-xs font-semibold px-3 py-1 border-0
              ${Dj(t.favoriteType)}
              ${t.favoriteType==="quero_comprar"||t.favoriteType==="gostei"?"rounded-md lowercase !rounded !px-4 !py-1.5 min-w-[90px] max-w-[110px] text-center whitespace-nowrap overflow-hidden text-ellipsis flex items-center justify-center":"rounded-full"}`,variant:"secondary",style:{letterSpacing:0},children:Mj(t.priority,t.favoriteType)})]}),t.onSale&&e.jsx(Ne,{className:"bg-orange-100 text-orange-700 text-xs font-semibold border-0 px-2 py-0.5 mt-1 mb-2 w-max mx-auto",children:" Em Promoo!"}),e.jsxs("div",{className:"flex justify-center gap-2 mt-2 mb-0 w-full",children:[e.jsxs(R,{variant:r.includes(t.id)?"secondary":"outline",size:"sm",className:`flex-1 text-xs py-2 rounded ${r.includes(t.id)?"bg-blue-50 border-blue-400 text-blue-700":""}`,onClick:l,children:[e.jsx(Hr,{className:`h-3 w-3 mr-1 ${r.includes(t.id)?"text-blue-500":""}`}),r.includes(t.id)?"Alertando":"Alerta Preo"]}),e.jsxs(R,{size:"sm",className:"flex-1 bg-pink-500 hover:bg-pink-600 text-xs py-2 rounded",children:[e.jsx(lh,{className:"h-3 w-3 mr-1"}),"Comprar"]}),e.jsx(R,{size:"sm",variant:"ghost",className:"flex-0 text-gray-400 hover:text-blue-500 py-2 px-2 rounded",onClick:u,"aria-label":"Compartilhar produto",type:"button",children:e.jsx(cs,{className:"h-4 w-4"})})]})]}),e.jsx(Ve,{open:n,onOpenChange:o,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(qe,{children:"Ativar alerta de preo?"})}),e.jsx("div",{className:"text-sm text-gray-600 py-2",children:"Voc deseja ser avisada caso o preo deste produto mude?"}),e.jsxs(Mn,{children:[e.jsx(R,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),e.jsx(R,{className:"bg-blue-500 text-white hover:bg-blue-600",onClick:d,children:"Quero ser avisada!"})]})]})})]})};var Oj="Separator",ii="horizontal",Lj=["horizontal","vertical"],Bm=i.forwardRef((t,s)=>{const{decorative:r,orientation:a=ii,...n}=t,o=zj(a)?a:ii,l=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(de.div,{"data-orientation":o,...l,...n,ref:s})});Bm.displayName=Oj;function zj(t){return Lj.includes(t)}var Um=Bm;const Vm=i.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...a},n)=>e.jsx(Um,{ref:n,decorative:r,orientation:s,className:K("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));Vm.displayName=Um.displayName;const Fj=({items:t,removeFromWishlist:s,priceAlerts:r,togglePriceAlert:a})=>e.jsx("div",{className:"p-6 pt-0",children:t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 21c-6.075 0-11-4.925-11-11S5.925-1 12-1s11 4.925 11 11-4.925 11-11 11zm0-2c4.963 0 9-4.037 9-9s-4.037-9-9-9-9 4.037-9 9 4.037 9 9 9z"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Sua lista de desejos est vazia. Que tal adicionar alguns desejos?"})]}):e.jsx("div",{className:"flex flex-col gap-1",children:t.map((n,o)=>e.jsxs(V.Fragment,{children:[o!==0&&e.jsx(Vm,{className:"my-3 bg-gray-200 dark:bg-gray-700 opacity-60"}),e.jsx($j,{item:n,removeFromWishlist:s,priceAlerts:r,togglePriceAlert:a})]},n.id))})}),Bj=({selectedWishlist:t,countGostei:s,countQueroComprar:r,onSaleItems:a,shareWishlist:n})=>e.jsx(ye,{children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 w-full",children:[e.jsxs("div",{className:"w-full min-w-0",children:[e.jsx(je,{className:"flex items-center space-x-2 text-base font-semibold whitespace-nowrap overflow-hidden text-ellipsis",children:e.jsx("span",{className:"block truncate",children:t.name})}),e.jsxs("div",{className:"flex flex-col mt-2 space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[s>0&&e.jsxs("div",{children:[s," item",s>1?"s":""," gostei"]}),r>0&&e.jsxs("div",{children:[r," item",r>1?"s":""," quero comprar"]}),a>0&&e.jsx("div",{children:e.jsxs(Ne,{variant:"secondary",className:"bg-orange-100 text-orange-700",children:[a," em promoo!"]})})]})]}),e.jsx("div",{className:"flex-shrink-0 flex md:justify-end",children:e.jsxs(R,{variant:"outline",size:"sm",onClick:n,children:[e.jsx(cs,{className:"h-4 w-4 mr-1"}),"Compartilhar"]})})]})}),Uj=t=>`${t.image} ${t.name} - ${t.brand} R$ ${t.price.toFixed(2).replace(".",",")} ${t.url?`(Veja mais: ${t.url})`:""}`,Vj=({open:t,onOpenChange:s,items:r,onShared:a})=>{const[n,o]=i.useState([]);i.useEffect(()=>{t&&o(r.map(m=>m.id))},[t,r]);const c=m=>{o(p=>p.includes(m)?p.filter(x=>x!==m):[...p,m])},l=()=>{o(r.map(m=>m.id))},d=()=>{o([])},u=()=>{const m=n.map(p=>{const x=r.find(y=>y.id===p);return x?Uj(x):""}).filter(Boolean).join(`
`);m.trim().length>0&&(navigator.clipboard.writeText(m),a(n.length),s(!1))};return e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{children:[e.jsx(We,{children:e.jsx(qe,{children:"Compartilhar produtos selecionados"})}),e.jsxs("div",{className:"max-h-64 overflow-y-auto divide-y mb-2",children:[r.map(m=>e.jsxs("label",{className:"flex items-center py-2 px-1 gap-2 cursor-pointer",htmlFor:`share-checkbox-${m.id}`,children:[e.jsx(Er,{id:`share-checkbox-${m.id}`,checked:n.includes(m.id),onCheckedChange:()=>c(m.id),className:"mr-2"}),e.jsxs("span",{className:"truncate flex-1 text-sm",children:[m.image," ",e.jsx("span",{className:"font-medium",children:m.name}),", ",e.jsx("span",{className:"text-gray-500",children:m.brand}),e.jsxs("span",{className:"ml-2 font-semibold text-pink-600",children:["R$ ",m.price.toFixed(2).replace(".",",")]})]})]},m.id)),r.length===0&&e.jsx("div",{className:"text-gray-400 text-center py-4",children:"Nenhum produto na lista."})]}),r.length>0&&e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[e.jsx(R,{size:"sm",variant:"ghost",className:"text-xs underline px-1 py-0",type:"button",onClick:l,disabled:n.length===r.length,children:"Selecionar todos"}),e.jsx(R,{size:"sm",variant:"ghost",className:"text-xs underline px-1 py-0",type:"button",onClick:d,disabled:n.length===0,children:"Limpar seleo"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[n.length," selecionado",n.length>1?"s":""]})]}),e.jsxs(Mn,{children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancelar"}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs(R,{type:"button",className:"bg-blue-500 text-white hover:bg-blue-600",disabled:n.length===0,onClick:u,children:[e.jsx(cs,{className:"h-4 w-4 mr-1"}),"Compartilhar selecionados"]}),e.jsx("span",{className:"text-[10px] text-gray-500 mt-1",children:"Compartilhe vrios itens juntos."})]})]})]})})},gr={1:{id:"1",name:"Vestido Midi Floral",brand:"Zara",price:159.9,originalPrice:199.9,image:"",url:"#",addedAt:new Date,inStock:!0,onSale:!0,priority:"high"},2:{id:"2",name:"Bolsa Hobo Couro",brand:"Coach",price:899.9,image:"",url:"#",addedAt:new Date,inStock:!0,onSale:!1,priority:"medium"},3:{id:"3",name:"Sandlia Plataforma",brand:"Arezzo",price:229.9,originalPrice:299.9,image:"",url:"#",addedAt:new Date,inStock:!0,onSale:!0,priority:"medium"},4:{id:"4",name:"Blazer Alfaiataria",brand:"Renner",price:299.9,image:"",url:"#",addedAt:new Date,inStock:!0,onSale:!1,priority:"low"},5:{id:"5",name:"Cala Wide Jeans",brand:"Levis",price:259.9,originalPrice:329.9,image:"",url:"#",addedAt:new Date,inStock:!0,onSale:!0,priority:"medium"}},li=[{...gr[1],favoriteType:"quero_comprar"},{...gr[2],favoriteType:"gostei"},{...gr[3],favoriteType:"quero_comprar"}],Hj=()=>{const{toast:t}=ge(),[s,r]=i.useState([]),[a,n]=i.useState([]),[o,c]=i.useState("all"),[l,d]=i.useState(!1),[u,m]=i.useState(!1),p=()=>{const b=JSON.parse(localStorage.getItem("favorites_v2")||"{}"),w=[];Object.entries(b).forEach(([N,T])=>{const C=gr[N];C&&w.push({...C,favoriteType:T})}),w.length===0?r(li):r(w)};i.useEffect(()=>(p(),window.addEventListener("favorites-updated",p),()=>{window.removeEventListener("favorites-updated",p)}),[]);const x=b=>{a.includes(b)?(n(a.filter(w=>w!==b)),t({title:"Alerta desativado",description:"Voc no receber mais notificaes de preo"})):(n([...a,b]),t({title:"Alerta ativado! ",description:"Te avisaremos quando o preo baixar"}))},y=s.filter(b=>o==="all"?!0:b.favoriteType===o),v=l?y:y.slice(0,3),f=s.filter(b=>b.favoriteType==="gostei").length,h=s.filter(b=>b.favoriteType==="quero_comprar").length;s.reduce((b,w)=>b+w.price,0);const g=s.filter(b=>b.onSale).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-center px-6 mt-4",children:[e.jsx("label",{htmlFor:"wishlist-category",className:"text-sm text-gray-500 mr-2",children:"Filtrar por:"}),e.jsxs("select",{id:"wishlist-category",value:o,onChange:b=>c(b.target.value),className:"border rounded px-2 py-1 text-sm w-40",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"gostei",children:"Gostei"}),e.jsx("option",{value:"quero_comprar",children:"Quero comprar"})]})]}),e.jsx(Bj,{selectedWishlist:{id:"unique-list",name:"Minha Lista de Desejos",description:"",isPublic:!1,items:s,createdAt:new Date},countGostei:f,countQueroComprar:h,onSaleItems:g,shareWishlist:()=>m(!0)}),e.jsx(Fj,{items:v,removeFromWishlist:s===li?()=>{}:b=>{const w=JSON.parse(localStorage.getItem("favorites_v2")||"{}");delete w[b],localStorage.setItem("favorites_v2",JSON.stringify(w)),p(),t({title:"Item removido",description:"Produto removido da sua lista de desejos"}),window.dispatchEvent(new Event("favorites-updated"))},priceAlerts:a,togglePriceAlert:x}),y.length>3&&e.jsx("div",{className:"flex justify-center py-3",children:e.jsx("button",{className:"px-4 py-1 rounded bg-pink-100 text-pink-700 hover:bg-pink-200 text-sm font-medium transition",onClick:()=>d(b=>!b),children:l?"Ver menos":`Ver mais (${y.length-3})`})})]}),e.jsx(Vj,{open:u,onOpenChange:m,items:s,onShared:b=>t({title:"Lista copiada!",description:`Informaes de ${b} produto${b>1?"s":""} prontas para compartilhar!`})})]})},Gj=({isSetupComplete:t,userPhotos:s,colorPalette:r,selectedProduct:a,userId:n,onInitialSetupComplete:o,onPhotosChange:c,onPaletteAnalyzed:l,activeSubSection:d})=>{const{toast:u}=ge();if(!n)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-600 dark:text-gray-400",children:"Faa login para ver seu perfil"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Entre ou cadastre-se para acessar seu closet digital."})]});const m=r?[r]:[],[p,x]=V.useState([{id:"1",title:"Consultoria para Evento Formal",date:"2024-01-15",summary:"Recomendaes para look de casamento"}]),y=f=>{const h=p.find(g=>g.id===f);x(p.filter(g=>g.id!==f)),u({title:"Consultoria removida",description:`"${h==null?void 0:h.title}" foi excluda com sucesso`})},v=f=>{const h=s.filter(g=>g.id!==f);c(h),u({title:"Foto removida",description:"Foto excluda com sucesso"})};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"text-center mt-10 mb-8",children:[e.jsx("h2",{className:"title-primary mb-3",children:"Meu Closet Digital "}),e.jsx("p",{className:"subtitle-description max-w-2xl mx-auto",children:"Seu arquivo pessoal de moda - organize suas anlises de cores, fotos, consultorias e produtos favoritos em um s lugar"})]}),e.jsx("div",{className:"w-full px-2 md:px-0 max-w-[430px] md:max-w-none mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-stretch",children:[e.jsx(X,{id:"saved-palettes-section",className:`flex flex-col h-full w-full max-w-full overflow-hidden hover:shadow-lg transition-shadow ${d==="saved-palettes"?"ring-2 ring-purple-500":""}`,children:e.jsxs(ee,{className:"flex-1 flex flex-col p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Fe,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Minhas Paletas de Cores"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Suas anlises de colorao pessoal"})]}),e.jsx("span",{className:"text-sm bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-medium",children:m.length})]}),m.length>0?e.jsx("div",{className:"space-y-4",children:m.map((f,h)=>e.jsxs("div",{className:"relative group",children:[e.jsx(eo,{palette:f,showSaveOptions:!1,isSaved:!0}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs(hr,{children:[e.jsx(xr,{asChild:!0,children:e.jsx(R,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-red-100",children:e.jsx(_t,{className:"h-4 w-4 text-red-600"})})}),e.jsxs(Ts,{children:[e.jsxs(Rs,{children:[e.jsx(Is,{children:"Excluir Paleta"}),e.jsx(_s,{children:"Tem certeza que deseja excluir esta anlise de paleta de cores? Esta ao no pode ser desfeita."})]}),e.jsxs(As,{children:[e.jsx(Ms,{children:"Cancelar"}),e.jsx(Ds,{className:"bg-red-500 hover:bg-red-600",children:"Excluir"})]})]})]})})]},h))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Fe,{className:"h-16 w-16 mx-auto mb-3 opacity-30"}),e.jsx("p",{className:"font-medium mb-1",children:"Nenhuma paleta salva"}),e.jsx("p",{className:"text-sm",children:'Descubra suas cores em "Descobrir"'})]})]})}),e.jsx(X,{id:"photos-section",className:`flex flex-col h-full w-full max-w-full overflow-hidden hover:shadow-lg transition-shadow ${d==="photos"?"ring-2 ring-purple-500":""}`,children:e.jsxs(ee,{className:"flex-1 flex flex-col p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(rt,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Minhas Fotos"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Para try-on virtual e anlises"})]}),e.jsx("span",{className:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded-full font-medium",children:s.length})]}),s.length>0?e.jsx("div",{className:"grid grid-cols-3 gap-2",children:s.map(f=>e.jsxs("div",{className:"relative aspect-square group w-full overflow-hidden rounded-lg border border-gray-100 bg-white",style:{maxWidth:"100%"},children:[e.jsx("img",{src:f.data,alt:f.name,className:"w-full h-full object-cover rounded-lg transition-transform group-hover:scale-105",style:{maxWidth:"100%",maxHeight:"100%",display:"block"}}),e.jsx("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsxs(hr,{children:[e.jsx(xr,{asChild:!0,children:e.jsx(R,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 bg-red-500 hover:bg-red-600 text-white rounded-full",children:e.jsx(Ee,{className:"h-3 w-3"})})}),e.jsxs(Ts,{children:[e.jsxs(Rs,{children:[e.jsx(Is,{children:"Excluir Foto"}),e.jsx(_s,{children:"Tem certeza que deseja excluir esta foto? Esta ao no pode ser desfeita."})]}),e.jsxs(As,{children:[e.jsx(Ms,{children:"Cancelar"}),e.jsx(Ds,{onClick:()=>v(f.id),className:"bg-red-500 hover:bg-red-600",children:"Excluir"})]})]})]})})]},f.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(rt,{className:"h-16 w-16 mx-auto mb-3 opacity-30"}),e.jsx("p",{className:"font-medium mb-1",children:"Nenhuma foto adicionada"}),e.jsx("p",{className:"text-sm",children:"Adicione fotos para usar o try-on virtual"})]})]})}),e.jsx(X,{id:"saved-advice-section",className:`flex flex-col h-full w-full max-w-full overflow-hidden hover:shadow-lg transition-shadow ${d==="saved-advice"?"ring-2 ring-purple-500":""}`,children:e.jsxs(ee,{className:"flex-1 flex flex-col p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(is,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Consultorias Salvas"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Dicas e anlises que voc salvou"})]}),e.jsx("span",{className:"text-sm bg-green-100 text-green-700 px-3 py-1 rounded-full font-medium",children:p.length})]}),p.length>0?e.jsx("div",{className:"space-y-3",children:p.map(f=>e.jsxs("div",{className:"relative group p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-1 pr-8",children:f.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:f.date}),e.jsx("p",{className:"text-sm text-gray-600",children:f.summary}),e.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1",children:[e.jsx(R,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-100",children:e.jsx(rh,{className:"h-3 w-3 text-blue-600"})}),e.jsxs(hr,{children:[e.jsx(xr,{asChild:!0,children:e.jsx(R,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-100",children:e.jsx(_t,{className:"h-3 w-3 text-red-600"})})}),e.jsxs(Ts,{children:[e.jsxs(Rs,{children:[e.jsx(Is,{children:"Excluir Consultoria"}),e.jsxs(_s,{children:['Tem certeza que deseja excluir a consultoria "',f.title,'"? Esta ao no pode ser desfeita.']})]}),e.jsxs(As,{children:[e.jsx(Ms,{children:"Cancelar"}),e.jsx(Ds,{onClick:()=>y(f.id),className:"bg-red-500 hover:bg-red-600",children:"Excluir"})]})]})]})]})]},f.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(is,{className:"h-16 w-16 mx-auto mb-3 opacity-30"}),e.jsx("p",{className:"font-medium mb-1",children:"Nenhuma consultoria salva"}),e.jsx("p",{className:"text-sm",children:'Use a "Consultoria IA" e salve suas favoritas'})]})]})}),e.jsx(X,{id:"desejos-section",className:`flex flex-col h-full w-full max-w-full overflow-hidden hover:shadow-lg transition-shadow ${d==="desejos"?"ring-2 ring-purple-500":""}`,children:e.jsxs(ee,{className:"flex-1 flex flex-col p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-pink-100 rounded-lg",children:e.jsx(jt,{className:"h-6 w-6 text-pink-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Lista de Desejos"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Produtos que voc quer comprar"})]})]}),e.jsx(Hj,{})]})})]})})]})},Wj=({activeSubSection:t})=>e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-800 dark:text-gray-100 mb-2",children:"Ferramentas Extras "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Funcionalidades adicionais em desenvolvimento"})]}),e.jsx(X,{className:"text-center py-12",children:e.jsxs(ee,{children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Em breve!"}),e.jsx("p",{className:"text-gray-500",children:"Novas ferramentas incrveis sero adicionadas aqui"})]})})]}),qj=({open:t,onOpenChange:s,onUpgrade:r})=>e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsxs(Be,{className:"max-w-md",children:[e.jsxs(We,{children:[e.jsxs(qe,{className:"flex items-center gap-2 justify-center",children:[e.jsx(Fa,{className:"h-5 w-5 text-orange-500"}),"Experimente o Premium Pozzy"]}),e.jsx(Nt,{children:e.jsxs("div",{className:"flex flex-col gap-3 mt-2 items-center",children:[e.jsx("span",{className:"text-lg font-bold text-purple-dark",children:"R$19,90/ms"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Assinatura sem fidelidade, cancele quando quiser."})]})})]}),e.jsxs("div",{className:"space-y-3 my-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Acesso ilimitado a buscas personalizadas"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Prioridade em novas funcionalidades"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Suporte e consultoria exclusiva"})]})]}),e.jsx(R,{className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-bold",onClick:r,children:"Fazer upgrade para Premium"}),e.jsx(wt,{asChild:!0,children:e.jsx(R,{variant:"outline",className:"w-full mt-2",children:"Fechar"})})]})}),Kj=()=>{const{toast:t}=ge(),s=async()=>{try{const{error:a}=await ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});a&&t({title:"Erro no login com Google",description:a.message,variant:"destructive"})}catch{t({title:"Erro",description:"Falha ao conectar com Google",variant:"destructive"})}},r=async()=>{try{const{error:a}=await ie.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/`}});a&&t({title:"Erro no login com Facebook",description:a.message,variant:"destructive"})}catch{t({title:"Erro",description:"Falha ao conectar com Facebook",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou continue com"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs(R,{type:"button",variant:"outline",onClick:s,className:"w-full",children:[e.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Entrar com Google"]}),e.jsxs(R,{type:"button",variant:"outline",onClick:r,className:"w-full",children:[e.jsx("svg",{className:"mr-2 h-4 w-4",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Entrar com Facebook"]})]})]})},Yj=({onLogin:t,onRegister:s,loading:r})=>{const[a,n]=i.useState(!0),[o,c]=i.useState(""),[l,d]=i.useState(""),[u,m]=i.useState(!1),[p,x]=i.useState(""),[y,v]=i.useState(""),[f,h]=i.useState(""),[g,b]=i.useState(""),[w,N]=i.useState("");function T(j){return j.length>=8&&/[A-Za-z]/.test(j)&&/[0-9]/.test(j)}const C=async j=>{if(j.preventDefault(),a)await t({email:o,password:l});else{if(T(l))h("");else{h("A senha deve ter pelo menos 8 caracteres, incluindo letras e nmeros.");return}if(l!==g){N("As senhas no coincidem.");return}else N("");await s({name:p,phone:y,email:o,password:l})}};return e.jsxs(X,{className:"w-full max-w-md p-4 border-0 shadow-none mt-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs(ye,{className:"text-center pt-8 pb-2",children:[e.jsx(je,{className:"text-2xl mb-2",children:a?"Bem-vindo(a) de volta!":"Crie sua conta"}),e.jsx(Gc,{className:"mb-2",children:a?"Acesse para descobrir seu estilo.":"Cadastre-se para uma experincia completa."})]}),e.jsxs("form",{onSubmit:C,children:[e.jsxs(ee,{className:"space-y-4",children:[!a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ae,{htmlFor:"name",children:"Nome"}),e.jsx(pe,{id:"name",type:"text",placeholder:"Seu nome completo",value:p,onChange:j=>x(j.target.value),required:!0,disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ae,{htmlFor:"phone",children:"Telefone"}),e.jsx(pe,{id:"phone",type:"tel",placeholder:"(99) 99999-9999",value:y,onChange:j=>v(j.target.value),required:!0,disabled:r,pattern:"\\(\\d{2}\\) \\d{5}-\\d{4}|\\d{11}|\\d{2} \\d{5}-\\d{4}|\\d{10,11}"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ae,{htmlFor:"email",children:"Email"}),e.jsx(pe,{id:"email",type:"email",placeholder:"seu@email.com",value:o,onChange:j=>c(j.target.value),required:!0,disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ae,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{id:"password",type:u?"text":"password",placeholder:"Sua senha",value:l,onChange:j=>d(j.target.value),required:!0,disabled:r,className:"pr-10"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",onClick:()=>m(!u),children:u?e.jsx(qf,{className:"h-5 w-5"}):e.jsx(En,{className:"h-5 w-5"})})]}),!a&&f&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:f})]}),!a&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ae,{htmlFor:"confirmPassword",children:"Repetir senha"}),e.jsx(pe,{id:"confirmPassword",type:"password",placeholder:"Repita sua senha",value:g,onChange:j=>b(j.target.value),required:!0,disabled:r}),w&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:w})]})]}),e.jsxs(Wc,{className:"flex flex-col gap-4",children:[e.jsx(R,{type:"submit",className:"w-full btn-primary",disabled:r,children:r?e.jsx(bt,{className:"mr-2 h-4 w-4 animate-spin"}):a?"Entrar":"Criar conta"}),e.jsx(Kj,{}),e.jsx("button",{type:"button",className:"text-sm text-gray-600 hover:underline",onClick:()=>n(!a),children:a?"No tem uma conta? Cadastre-se":"J tem uma conta? Faa login"})]})]})]})},Zj=({isOpen:t,onOpenChange:s,onLogin:r,onRegister:a,loading:n})=>t?e.jsx(Ve,{open:t,onOpenChange:s,children:e.jsx(Be,{className:"p-0 max-w-md w-full overflow-hidden",children:e.jsxs("div",{className:"relative",children:[e.jsx(wt,{asChild:!0,children:e.jsx("button",{onClick:()=>s(!1),className:"absolute top-2 right-2 p-1 rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-800 transition-colors z-10","aria-label":"Fechar",children:e.jsx(Ee,{className:"h-5 w-5"})})}),e.jsx(Yj,{onLogin:r,onRegister:a,loading:n})]})})}):null,ci=()=>{function t(){try{return localStorage.getItem("activeSection")||"descobrir"}catch{return"descobrir"}}function s(){try{return localStorage.getItem("activeSubSection")||""}catch{return""}}const[r,a]=i.useState(null),[n,o]=i.useState(!1),[c,l]=i.useState([]);i.useState(null);const[d,u]=i.useState(null),[m,p]=i.useState(null),[x,y]=i.useState([]),[v,f]=i.useState(!1),[h,g]=i.useState(t()),[b,w]=i.useState(s()),[N,T]=i.useState(!1),[C,j]=i.useState(!1),{toast:E}=ge(),{currentPalette:A,isLoading:M,savePalette:S}=ia(),P=(A==null?void 0:A.data)||null,I=usePWA();i.useEffect(()=>{const W=async()=>{const{data:{session:Z}}=await ie.auth.getSession();Z&&a({uid:Z.user.id,email:Z.user.email,isPremium:!1,searchesUsed:0}),o(!1)};o(!0),W();const{data:{subscription:L}}=ie.auth.onAuthStateChange((Z,ae)=>{a(ae?{uid:ae.user.id,email:ae.user.email,isPremium:!1,searchesUsed:0}:null)});return()=>L.unsubscribe()},[]),i.useEffect(()=>{const W=localStorage.getItem("discover-lastResults");if(W)try{l(JSON.parse(W))}catch{}},[]),i.useEffect(()=>{try{localStorage.setItem("activeSection",h)}catch{}},[h]),i.useEffect(()=>{try{localStorage.setItem("activeSubSection",b)}catch{}},[b]);const _=async W=>{o(!0);try{const{error:L}=await ie.auth.signInWithPassword(W);if(L)throw L;E({title:"Login bem-sucedido!",description:"Bem-vindo(a) de volta!"}),j(!1)}catch(L){E({title:"Erro no login",description:L.message,variant:"destructive"})}finally{o(!1)}},k=async W=>{o(!0);try{const{error:L}=await ie.auth.signUp(W);if(L)throw L;E({title:"Cadastro realizado!",description:"Verifique seu e-mail para confirmar a conta."}),j(!1)}catch(L){E({title:"Erro no cadastro",description:L.message,variant:"destructive"})}finally{o(!1)}},$=async W=>{if(5-((r==null?void 0:r.searchesUsed)??0)<=0){E({title:"Limite atingido",description:"Faa upgrade para continuar usando a consultoria",variant:"destructive"});return}setTimeout(()=>{const Z=[{name:"Vestido Floral Coral",description:"Perfeito para sua paleta quente, com tons que realam sua beleza natural",price:"R$ 159,90",tryOnCompatible:!0,paletteMatch:95},{name:"Blazer Terracota Premium",description:"Cor ideal para seu subtom, corte moderno e verstil",price:"R$ 219,50",tryOnCompatible:!0,paletteMatch:88},{name:"Blusa Dourada Elegante",description:"Tom dourado que combina perfeitamente com suas cores",price:"R$ 89,90",tryOnCompatible:!0,paletteMatch:92}];l(Z),E({title:"Busca personalizada realizada! ",description:`${Z.length} produtos encontrados baseados na sua paleta de cores`})},2e3)},O=5-((r==null?void 0:r.searchesUsed)??0);i.useEffect(()=>{r&&O<=0&&T(!0)},[O,r]);const z=W=>{if(x.length===0){E({title:"Fotos necessrias ",description:"Adicione suas fotos na aba 'Meu Perfil' para usar o try-on virtual",variant:"destructive"}),g("perfil");return}p(W),g("consultoria"),E({title:"Produto selecionado! ",description:`Experimentando: ${W.name} nas suas ${x.length} foto(s)`})},J=W=>{u(W)},H=W=>{const L=S(W);console.log("Paleta analisada e salva automaticamente:",L),E({title:"Paleta analisada! ",description:"Sua anlise est disponvel em todas as sees"})},B=(W,L)=>{y(W),f(!0),g("descobrir"),E({title:"Setup completo! ",description:"Agora voc pode usar todas as funcionalidades da plataforma"})},D=W=>{y(W),W.length>0&&f(!0)},U=(W,L)=>{console.log("DEBUG: handleSubSectionChange called with:",W,L),console.log("DEBUG: Current activeSection before change:",h),g(W),w(L),console.log("DEBUG: Set activeSection to:",W),console.log("DEBUG: Set activeSubSection to:",L),setTimeout(()=>{switch(L){case"search":const Z=document.querySelector('input[placeholder*="buscar"], input[placeholder*="Ex:"], input[type="search"]');Z?(Z.focus(),Z.scrollIntoView({behavior:"smooth",block:"center"})):console.log("DEBUG: Search input not found");break;case"palette":const ae=document.querySelector('button:has-text("Descobrir Minha Paleta")');ae&&ae.scrollIntoView({behavior:"smooth",block:"center"});break;case"try-on":console.log("DEBUG: Navigating to try-on section in consultoria");break;case"photos":const se=document.querySelector('[data-section="photos"]');se&&se.scrollIntoView({behavior:"smooth",block:"start"});break;case"ai-advice":console.log("DEBUG: Navigating to AI advice section");break;default:console.log(`DEBUG: No specific action for: ${L}`);break}},500)},Y=W=>{console.log("DEBUG: handleSectionChange called with:",W),console.log("DEBUG: Previous activeSection:",h),console.log("DEBUG: Function type:",typeof g);try{g(W),console.log("DEBUG: Successfully set activeSection to:",W)}catch(L){console.error("DEBUG: Error setting activeSection:",L)}},G=()=>{switch(h){case"descobrir":return e.jsx(Rj,{colorPalette:P,onSectionChange:Y,onSearch:$,searchesLeft:O,isPremium:(r==null?void 0:r.isPremium)??!1,loading:n,searchResults:c,user:r,onProductTryOn:z,activeSubSection:b});case"consultoria":return e.jsx(_j,{userPhotos:x,selectedProduct:m,colorPalette:P,onSectionChange:Y,onAdviceGenerated:J,fashionAdvice:d,activeSubSection:b,isSetupComplete:v,onSetupComplete:()=>f(!0),onPaletteAnalyzed:H});case"perfil":return e.jsx(Gj,{isSetupComplete:v,userPhotos:x,colorPalette:P,selectedProduct:m,userId:(r==null?void 0:r.uid)??null,onInitialSetupComplete:B,onPhotosChange:D,onPaletteAnalyzed:H,activeSubSection:b});case"ferramentas":return e.jsx(Wj,{});default:return e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-600 dark:text-gray-400",children:['Seo "',h,'" em desenvolvimento']}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:['Debug: activeSection = "',h,'"']})]})}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen pt-16",children:[e.jsxs("main",{className:"flex-grow pb-24 md:pb-8",children:[!v&&e.jsx(Gx,{onSectionChange:Y}),e.jsx("h1",{className:"hidden md:block text-3xl font-bold text-center mt-8 mb-6",children:"Transforme seu visual com inteligncia artificial"}),e.jsx("div",{className:"hidden md:block",children:e.jsx(rg,{activeSection:h,onSectionChange:Y,onSubSectionChange:U})}),P&&e.jsx(Ky,{}),G()]}),e.jsx("div",{className:"md:hidden",children:e.jsx(Hx,{activeSection:h,onSectionChange:g,userId:(r==null?void 0:r.uid)??""})})]}),e.jsx(qj,{open:N,onOpenChange:T}),e.jsx(Zj,{isOpen:C,onOpenChange:j,onLogin:_,onRegister:k,loading:n}),e.jsx(Oc,{isInstallable:I.isInstallable,triggerInstallPrompt:I.triggerInstallPrompt,hasBeenRejected:I.hasBeenRejected,forceShow:I.forceShow})]})},Jj=()=>{const t=Ui();return i.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var cr={};const oo={MERCADO_LIVRE:cr.REACT_APP_MERCADO_LIVRE_API_KEY||"",GOOGLE_SHOPPING:cr.REACT_APP_GOOGLE_SHOPPING_API_KEY||"",STRIPE:cr.REACT_APP_STRIPE_PUBLIC_KEY||"",OPENAI:cr.REACT_APP_OPENAI_API_KEY||""};class Xj{constructor(){Ge(this,"baseUrl","https://api.mercadolibre.com");Ge(this,"apiKey",oo.MERCADO_LIVRE)}async searchProducts(s,r){var a;try{const n=new URLSearchParams({q:s,limit:"50",category:"MLB1430",sort:"relevance"});r!=null&&r.priceRange&&n.append("price",`${r.priceRange[0]}-${r.priceRange[1]}`);const o=await fetch(`${this.baseUrl}/sites/MLB/search?${n}`,{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}});if(!o.ok)throw new Error(`Mercado Livre API error: ${o.status}`);return((a=(await o.json()).results)==null?void 0:a.map(l=>{var d,u,m,p,x,y,v,f,h;return{id:`ml_${l.id}`,name:l.title,description:l.condition,price:l.price,originalPrice:l.original_price,brand:((u=(d=l.seller)==null?void 0:d.eshop)==null?void 0:u.nick_name)||"Mercado Livre",image_url:l.thumbnail,url:l.permalink,category:this.mapCategory(l.category_id),color:this.extractColor(l.attributes),size:this.extractSize(l.attributes),in_stock:l.available_quantity>0,rating:(y=(x=(p=(m=l.seller)==null?void 0:m.seller_reputation)==null?void 0:p.transactions)==null?void 0:x.ratings)==null?void 0:y.average,reviews_count:(h=(f=(v=l.seller)==null?void 0:v.seller_reputation)==null?void 0:f.transactions)==null?void 0:h.total,source:"mercadolivre",source_id:l.id,data:{...l,seller_info:l.seller,shipping:l.shipping}}}))||[]}catch(n){return console.error("Erro ao buscar no Mercado Livre:",n),[]}}mapCategory(s){return{MLB1430:"Roupas Femininas",MLB1431:"Vestidos",MLB1432:"Blusas",MLB1433:"Calas",MLB1434:"Saias",MLB1435:"Jaquetas",MLB1436:"Sapatos",MLB1437:"Bolsas",MLB1438:"Acessrios"}[s]||"Moda Feminina"}extractColor(s){const r=s==null?void 0:s.find(a=>a.id==="COLOR");return(r==null?void 0:r.value_name)||""}extractSize(s){const r=s==null?void 0:s.find(a=>a.id==="SIZE");return(r==null?void 0:r.value_name)||""}}class Qj{constructor(){Ge(this,"apiKey",oo.GOOGLE_SHOPPING)}async searchProducts(s,r){var a;try{const n=new URLSearchParams({key:this.apiKey,q:s,country:"BR",language:"pt-BR",maxResults:"50"}),o=await fetch(`https://www.googleapis.com/shopping/search/v1/public/products?${n}`);if(!o.ok)throw new Error(`Google Shopping API error: ${o.status}`);return((a=(await o.json()).items)==null?void 0:a.map(l=>{var d,u,m,p,x,y,v,f,h,g,b,w,N;return{id:`google_${l.id}`,name:l.product.title,description:l.product.description,price:parseFloat(((u=(d=l.product.inventories)==null?void 0:d[0])==null?void 0:u.price)||"0"),originalPrice:parseFloat(((p=(m=l.product.inventories)==null?void 0:m[0])==null?void 0:p.originalPrice)||"0"),brand:l.product.brand||"Google Shopping",image_url:(y=(x=l.product.images)==null?void 0:x[0])==null?void 0:y.link,url:l.product.link,category:((v=l.product.categories)==null?void 0:v[0])||"Produtos",color:(h=(f=l.product.attributes)==null?void 0:f.find(T=>T.name==="color"))==null?void 0:h.value,size:(b=(g=l.product.attributes)==null?void 0:g.find(T=>T.name==="size"))==null?void 0:b.value,in_stock:((N=(w=l.product.inventories)==null?void 0:w[0])==null?void 0:N.availability)==="in stock",source:"google_shopping",source_id:l.id,data:l}}))||[]}catch(n){return console.error("Erro ao buscar no Google Shopping:",n),[]}}}class ew{async scrapeDafiti(s){try{const r="https://api.allorigins.win/raw?url=",a=`https://www.dafiti.com.br/catalog/?q=${encodeURIComponent(s)}`,o=await(await fetch(r+encodeURIComponent(a))).text(),c=[],l=o.match(/data-product="([^"]+)"/g);if(l)for(const d of l.slice(0,20))try{const u=JSON.parse(d.replace('data-product="',"").replace('"',""));c.push({id:`dafiti_${u.id}`,name:u.name,description:u.description||"",price:u.price,originalPrice:u.original_price,brand:u.brand||"Dafiti",image_url:u.image,url:`https://www.dafiti.com.br${u.url}`,category:u.category||"Moda",color:u.color||"",size:u.size||"",in_stock:u.available||!0,source:"dafiti",source_id:u.id,data:u})}catch{}return c}catch(r){return console.error("Erro no scraping da Dafiti:",r),[]}}async scrapeNetshoes(s){try{const r="https://api.allorigins.win/raw?url=",a=`https://www.netshoes.com.br/busca?q=${encodeURIComponent(s)}`,o=await(await fetch(r+encodeURIComponent(a))).text(),c=[],l=o.match(/data-product="([^"]+)"/g);if(l)for(const d of l.slice(0,20))try{const u=JSON.parse(d.replace('data-product="',"").replace('"',""));c.push({id:`netshoes_${u.id}`,name:u.name,description:u.description||"",price:u.price,originalPrice:u.original_price,brand:u.brand||"Netshoes",image_url:u.image,url:`https://www.netshoes.com.br${u.url}`,category:u.category||"Esportes",color:u.color||"",size:u.size||"",in_stock:u.available||!0,source:"netshoes",source_id:u.id,data:u})}catch{}return c}catch(r){return console.error("Erro no scraping da Netshoes:",r),[]}}}class tw{constructor(){Ge(this,"apiKey",oo.OPENAI)}async analyzePalette(s){try{const r=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4-vision-preview",messages:[{role:"user",content:[{type:"text",text:"Analise esta foto e determine a paleta de cores ideal para esta pessoa. Retorne um JSON com: season (Primavera, Vero, Outono, Inverno), undertone (Quente, Frio, Neutro), colors.ideal (array de cores hex), colors.avoid (array de cores hex), recommendations (array de strings)."},{type:"image_url",image_url:{url:s}}]}],max_tokens:1e3})});if(!r.ok)throw new Error(`OpenAI API error: ${r.status}`);const n=(await r.json()).choices[0].message.content;try{return JSON.parse(n)}catch{return this.fallbackPaletteAnalysis()}}catch(r){return console.error("Erro na anlise de paleta:",r),this.fallbackPaletteAnalysis()}}fallbackPaletteAnalysis(){return{season:"Primavera",undertone:"Quente",colors:{ideal:["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"],avoid:["#2C3E50","#7F8C8D","#8E44AD","#2C2C54"]},recommendations:["Cores quentes e vibrantes realam sua beleza natural","Evite tons muito frios ou acinzentados","Dourado combina melhor que prateado"]}}async generateTryOn(s,r){try{const a=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({model:"dall-e-3",prompt:"Create a realistic image of a person wearing the clothing item from the product image. The person should be in the same pose and lighting as the user image. Make it look natural and professional.",n:1,size:"1024x1024"})});if(!a.ok)throw new Error(`OpenAI Image API error: ${a.status}`);return(await a.json()).data[0].url}catch(a){return console.error("Erro na gerao de try-on:",a),s}}}class sw{constructor(){Ge(this,"mercadolivre",new Xj);Ge(this,"googleShopping",new Qj);Ge(this,"webScraping",new ew);Ge(this,"ai",new tw)}async searchAllSources(s,r){const a=[],n=[this.mercadolivre.searchProducts(s,r),this.googleShopping.searchProducts(s,r),this.webScraping.scrapeDafiti(s),this.webScraping.scrapeNetshoes(s)];return(await Promise.allSettled(n)).forEach((c,l)=>{c.status==="fulfilled"?a.push(...c.value):console.error(`Erro na fonte ${l}:`,c.reason)}),this.removeDuplicates(a)}async analyzePalette(s){return this.ai.analyzePalette(s)}async generateTryOn(s,r){return this.ai.generateTryOn(s,r)}removeDuplicates(s){const r=new Set;return s.filter(a=>{const n=`${a.source}_${a.source_id}`;return r.has(n)?!1:(r.add(n),!0)})}}const Pr=new sw,rw=()=>{const[t,s]=i.useState([]),[r,a]=i.useState(""),[n,o]=i.useState([]),[c,l]=i.useState(!0),[d,u]=i.useState(""),[m,p]=i.useState("all"),[x,y]=i.useState("date"),[v,f]=i.useState(!1),[h,g]=i.useState({name:"",brand:"",price:"",url:"",notes:"",priority:"medium",favoriteType:"quero_comprar"}),{toast:b}=ge(),{user:w}=Rl();i.useEffect(()=>{w&&N()},[w]),i.useEffect(()=>{r&&C(r)},[r]);const N=async()=>{var S;try{const{data:P,error:I}=await ie.from("wishlists").select("*").eq("user_id",w==null?void 0:w.id).order("created_at",{ascending:!1});if(I)throw I;const _=P||[];if(_.length===0){const k=await T();_.push(k)}s(_),a(((S=_[0])==null?void 0:S.id)||"")}catch(P){console.error("Erro ao carregar wishlists:",P),b({title:"Erro ao carregar wishlists",description:"Tente novamente em alguns instantes",variant:"destructive"})}finally{l(!1)}},T=async()=>{const{data:S,error:P}=await ie.from("wishlists").insert({user_id:w==null?void 0:w.id,name:"Minha Wishlist",description:"Wishlist principal",is_default:!0}).select().single();if(P)throw P;return{id:S.id,name:S.name,description:S.description,items:[],isDefault:S.is_default,createdAt:new Date(S.created_at)}},C=async S=>{try{const{data:P,error:I}=await ie.from("wishlist_items").select("*").eq("wishlist_id",S).order("created_at",{ascending:!1});if(I)throw I;const _=(P||[]).map(k=>({id:k.id,name:k.name,brand:k.brand,price:k.price,originalPrice:k.original_price,image_url:k.image_url,url:k.url,addedAt:new Date(k.created_at),inStock:k.in_stock,onSale:k.on_sale,priority:k.priority,favoriteType:k.favorite_type,notes:k.notes,category:k.category,color:k.color,size:k.size}));o(_)}catch(P){console.error("Erro ao carregar itens:",P),b({title:"Erro ao carregar itens",description:"Tente novamente em alguns instantes",variant:"destructive"})}},j=async()=>{if(!h.name.trim()||!h.brand.trim()){b({title:"Campos obrigatrios",description:"Nome e marca so obrigatrios",variant:"destructive"});return}try{const{data:S,error:P}=await ie.from("wishlist_items").insert({wishlist_id:r,name:h.name,brand:h.brand,price:parseFloat(h.price)||0,url:h.url,notes:h.notes,priority:h.priority,favorite_type:h.favoriteType,in_stock:!0,on_sale:!1}).select().single();if(P)throw P;const I={id:S.id,name:S.name,brand:S.brand,price:S.price,image_url:S.image_url||"",url:S.url,addedAt:new Date(S.created_at),inStock:S.in_stock,onSale:S.on_sale,priority:S.priority,favoriteType:S.favorite_type,notes:S.notes};o(_=>[I,..._]),g({name:"",brand:"",price:"",url:"",notes:"",priority:"medium",favoriteType:"quero_comprar"}),f(!1),b({title:"Item adicionado!",description:`${h.name} foi adicionado  sua wishlist`})}catch(S){console.error("Erro ao adicionar item:",S),b({title:"Erro ao adicionar item",description:"Tente novamente em alguns instantes",variant:"destructive"})}},E=async S=>{try{const{error:P}=await ie.from("wishlist_items").delete().eq("id",S);if(P)throw P;o(I=>I.filter(_=>_.id!==S)),b({title:"Item removido",description:"Item removido da wishlist com sucesso"})}catch(P){console.error("Erro ao remover item:",P),b({title:"Erro ao remover item",description:"Tente novamente em alguns instantes",variant:"destructive"})}},A=async(S,P)=>{try{const{error:I}=await ie.from("wishlist_items").update({priority:P}).eq("id",S);if(I)throw I;o(_=>_.map(k=>k.id===S?{...k,priority:P}:k))}catch(I){console.error("Erro ao atualizar prioridade:",I)}},M=n.filter(S=>{const P=S.name.toLowerCase().includes(d.toLowerCase())||S.brand.toLowerCase().includes(d.toLowerCase()),I=m==="all"||S.favoriteType===m;return P&&I}).sort((S,P)=>{switch(x){case"price":return P.price-S.price;case"priority":const I={high:3,medium:2,low:1};return I[P.priority]-I[S.priority];default:return P.addedAt.getTime()-S.addedAt.getTime()}});return c?e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(bt,{className:"h-8 w-8 animate-spin"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Minhas Wishlists"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Organize seus produtos favoritos"})]}),e.jsxs(R,{onClick:()=>f(!0),className:"bg-pink-500 hover:bg-pink-600",children:[e.jsx(jr,{className:"h-4 w-4 mr-2"}),"Adicionar Item"]})]}),t.length>1&&e.jsx(X,{children:e.jsx(ee,{className:"p-4",children:e.jsx("div",{className:"flex space-x-2",children:t.map(S=>e.jsx(R,{variant:r===S.id?"default":"outline",onClick:()=>a(S.id),children:S.name},S.id))})})}),e.jsx(X,{children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(pe,{placeholder:"Buscar na wishlist...",value:d,onChange:S=>u(S.target.value),className:"w-full"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:m,onChange:S=>p(S.target.value),className:"p-2 border rounded-md",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"quero_comprar",children:"Quero Comprar"}),e.jsx("option",{value:"gostei",children:"Gostei"}),e.jsx("option",{value:"inspiracao",children:"Inspirao"})]}),e.jsxs("select",{value:x,onChange:S=>y(S.target.value),className:"p-2 border rounded-md",children:[e.jsx("option",{value:"date",children:"Data"}),e.jsx("option",{value:"price",children:"Preo"}),e.jsx("option",{value:"priority",children:"Prioridade"})]})]})]})})}),v&&e.jsxs(X,{children:[e.jsx(ye,{children:e.jsx(je,{children:"Adicionar Item  Wishlist"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(pe,{placeholder:"Nome do produto",value:h.name,onChange:S=>g(P=>({...P,name:S.target.value}))}),e.jsx(pe,{placeholder:"Marca",value:h.brand,onChange:S=>g(P=>({...P,brand:S.target.value}))}),e.jsx(pe,{placeholder:"Preo (opcional)",type:"number",value:h.price,onChange:S=>g(P=>({...P,price:S.target.value}))}),e.jsx(pe,{placeholder:"URL (opcional)",value:h.url,onChange:S=>g(P=>({...P,url:S.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("select",{value:h.priority,onChange:S=>g(P=>({...P,priority:S.target.value})),className:"p-2 border rounded-md",children:[e.jsx("option",{value:"low",children:"Baixa Prioridade"}),e.jsx("option",{value:"medium",children:"Mdia Prioridade"}),e.jsx("option",{value:"high",children:"Alta Prioridade"})]}),e.jsxs("select",{value:h.favoriteType,onChange:S=>g(P=>({...P,favoriteType:S.target.value})),className:"p-2 border rounded-md",children:[e.jsx("option",{value:"quero_comprar",children:"Quero Comprar"}),e.jsx("option",{value:"gostei",children:"Gostei"}),e.jsx("option",{value:"inspiracao",children:"Inspirao"})]})]}),e.jsx(pe,{placeholder:"Notas (opcional)",value:h.notes,onChange:S=>g(P=>({...P,notes:S.target.value}))}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(R,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),e.jsx(R,{onClick:j,children:"Adicionar"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(S=>e.jsx(X,{className:"relative group",children:e.jsxs(ee,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:S.image_url?e.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-full object-cover rounded-lg"}):e.jsx("div",{className:"text-4xl",children:""})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:S.name}),e.jsx("p",{className:"text-xs text-gray-500",children:S.brand})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[S.onSale&&e.jsx(Ne,{variant:"destructive",className:"text-xs",children:"Promoo"}),!S.inStock&&e.jsx(Ne,{variant:"secondary",className:"text-xs",children:"Indisponvel"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-bold text-lg",children:["R$ ",S.price.toFixed(2)]}),S.originalPrice&&S.originalPrice>S.price&&e.jsxs("span",{className:"text-sm text-gray-500 line-through ml-2",children:["R$ ",S.originalPrice.toFixed(2)]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:["high","medium","low"].map(P=>e.jsx(Pn,{className:`h-4 w-4 cursor-pointer ${S.priority===P?"text-yellow-500 fill-current":"text-gray-300"}`,onClick:()=>A(S.id,P)},P))})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Adicionado em ",S.addedAt.toLocaleDateString()]}),e.jsx(Ne,{variant:"outline",className:"text-xs",children:S.favoriteType==="quero_comprar"?"Comprar":S.favoriteType==="gostei"?"Gostei":"Inspirao"})]}),S.notes&&e.jsxs("p",{className:"text-xs text-gray-600 italic",children:['"',S.notes,'"']}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(R,{size:"sm",variant:"outline",className:"h-8",children:e.jsx(ch,{className:"h-3 w-3"})}),e.jsx(R,{size:"sm",variant:"outline",className:"h-8",children:e.jsx(cs,{className:"h-3 w-3"})})]}),e.jsx(R,{size:"sm",variant:"ghost",onClick:()=>E(S.id),className:"h-8 text-red-500 hover:text-red-700",children:e.jsx(_t,{className:"h-3 w-3"})})]})]})]})},S.id))}),M.length===0&&!c&&e.jsx(X,{children:e.jsxs(ee,{className:"p-12 text-center",children:[e.jsx(jt,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:d?"Nenhum item encontrado":"Sua wishlist est vazia"}),e.jsx("p",{className:"text-gray-500 mb-4",children:d?"Tente ajustar sua busca":"Adicione produtos que voc gostou ou quer comprar"}),e.jsxs(R,{onClick:()=>f(!0),children:[e.jsx(jr,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Item"]})]})})]})},aw=()=>{const[t,s]=i.useState(""),[r,a]=i.useState(null),[n,o]=i.useState(!1),[c,l]=i.useState([]),[d,u]=i.useState({height:165,weight:60,bust:90,waist:70,hips:95,shoulders:40}),[m,p]=i.useState(!1),[x,y]=i.useState(!1),[v,f]=i.useState(null),h=i.useRef(null),g=i.useRef(null),{toast:b}=ge(),w=[{id:"1",name:"Vestido Floral Midi",brand:"Zara",price:159.9,image_url:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400",category:"vestidos",sizes:["P","M","G"],colors:["Azul","Rosa","Verde"]},{id:"2",name:"Blazer Alfaiataria",brand:"H&M",price:299.9,image_url:"https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=400",category:"blazers",sizes:["36","38","40","42"],colors:["Preto","Bege","Azul"]},{id:"3",name:"Cala Wide Leg",brand:"Renner",price:129.9,image_url:"https://images.unsplash.com/photo-1542272604-787c3835535d?w=400",category:"calas",sizes:["36","38","40","42","44"],colors:["Azul","Preto","Bege"]}];i.useEffect(()=>(x?N():T(),()=>T()),[x]);const N=async()=>{try{const P=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:1280},height:{ideal:720}}});f(P),h.current&&(h.current.srcObject=P)}catch(P){console.error("Erro ao acessar cmera:",P),b({title:"Erro na cmera",description:"No foi possvel acessar a cmera",variant:"destructive"})}},T=()=>{v&&(v.getTracks().forEach(P=>P.stop()),f(null))},C=()=>{if(!h.current||!g.current)return;const P=h.current,I=g.current,_=I.getContext("2d");if(!_)return;I.width=P.videoWidth,I.height=P.videoHeight,_.drawImage(P,0,0);const k=I.toDataURL("image/jpeg",.8);s(k),y(!1)},j=P=>{var k;const I=(k=P.target.files)==null?void 0:k[0];if(!I)return;const _=new FileReader;_.onload=$=>{var z;const O=(z=$.target)==null?void 0:z.result;s(O)},_.readAsDataURL(I)},E=async()=>{if(!t||!r){b({title:"Imagens necessrias",description:"Selecione uma foto sua e um produto",variant:"destructive"});return}o(!0);try{const P=Date.now(),I=await Pr.generateTryOn(t,r.image_url),_=Date.now()-P,k=Math.random()*.3+.7,$={id:Date.now().toString(),originalImage:t,productImage:r.image_url,resultImage:I,confidence:k,processingTime:_,measurements:d,recommendations:A(r,d)};l(O=>[$,...O]),b({title:"Try-on concludo! ",description:`Processado em ${(_/1e3).toFixed(1)}s com ${(k*100).toFixed(0)}% de confiana`})}catch(P){console.error("Erro no try-on:",P),b({title:"Erro no processamento",description:"Tente novamente em alguns instantes",variant:"destructive"})}finally{o(!1)}},A=(P,I)=>{const _=[];return P.category==="vestidos"&&(I.bust<85?_.push("Recomendamos o tamanho P para melhor ajuste"):I.bust>95?_.push("Recomendamos o tamanho G para maior conforto"):_.push("O tamanho M deve ficar perfeito em voc")),P.category==="blazers"&&(_.push("Este blazer combina perfeitamente com calas sociais"),_.push("Experimente com uma blusa de seda por baixo")),_.push("Esta cor reala sua beleza natural"),_.push("Perfeito para ocasies profissionais"),_},M=P=>{const I=document.createElement("a");I.href=P.resultImage,I.download=`tryon-${r==null?void 0:r.name}-${Date.now()}.jpg`,document.body.appendChild(I),I.click(),document.body.removeChild(I)},S=async P=>{try{navigator.share?await navigator.share({title:"Meu Try-On Virtual",text:`Confira como ficou ${r==null?void 0:r.name} em mim!`,url:window.location.href}):(await navigator.clipboard.writeText(window.location.href),b({title:"Link copiado!",description:"Cole o link para compartilhar"}))}catch(I){console.error("Erro ao compartilhar:",I)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Try-On Virtual Real "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Veja como as roupas ficam em voc usando IA avanada"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(Tn,{className:"h-5 w-5 mr-2"}),"Sua Foto"]})}),e.jsx(ee,{className:"space-y-4",children:t?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Sua foto",className:"w-full h-64 object-cover rounded-lg"}),e.jsx(R,{size:"sm",variant:"destructive",className:"absolute top-2 right-2",onClick:()=>s(""),children:e.jsx(xl,{className:"h-4 w-4"})})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(R,{onClick:()=>y(!0),variant:"outline",className:"flex-1",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Usar Cmera"]}),e.jsx(R,{variant:"outline",className:"flex-1",asChild:!0,children:e.jsxs("label",{children:[e.jsx(lt,{className:"h-4 w-4 mr-2"}),"Upload",e.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"hidden"})]})})]}),e.jsxs("div",{className:"text-center p-8 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx(_e,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Tire uma foto ou faa upload de uma imagem"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Use uma foto de corpo inteiro para melhores resultados"})]})]})})]}),x&&e.jsx(X,{children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("video",{ref:h,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover rounded-lg"}),e.jsx("canvas",{ref:g,className:"hidden"}),e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(R,{onClick:C,className:"bg-white text-black",children:[e.jsx(_e,{className:"h-4 w-4 mr-2"}),"Capturar"]})})]})})}),e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(nh,{className:"h-5 w-5 mr-2"}),"Suas Medidas",e.jsx(R,{variant:"ghost",size:"sm",onClick:()=>p(!m),className:"ml-auto",children:m?"Ocultar":"Mostrar"})]})}),m&&e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Altura (cm)"}),e.jsx(At,{value:[d.height],onValueChange:([P])=>u(I=>({...I,height:P})),max:200,min:140,step:1,className:"mt-2"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[d.height,"cm"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Peso (kg)"}),e.jsx(At,{value:[d.weight],onValueChange:([P])=>u(I=>({...I,weight:P})),max:120,min:40,step:1,className:"mt-2"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[d.weight,"kg"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Busto"}),e.jsx(At,{value:[d.bust],onValueChange:([P])=>u(I=>({...I,bust:P})),max:120,min:70,step:1,className:"mt-2"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[d.bust,"cm"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Cintura"}),e.jsx(At,{value:[d.waist],onValueChange:([P])=>u(I=>({...I,waist:P})),max:100,min:50,step:1,className:"mt-2"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[d.waist,"cm"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Quadril"}),e.jsx(At,{value:[d.hips],onValueChange:([P])=>u(I=>({...I,hips:P})),max:130,min:80,step:1,className:"mt-2"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[d.hips,"cm"]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(Rn,{className:"h-5 w-5 mr-2"}),"Escolha o Produto"]})}),e.jsx(ee,{children:e.jsx("div",{className:"grid grid-cols-1 gap-4",children:w.map(P=>e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${(r==null?void 0:r.id)===P.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(P),children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:P.image_url,alt:P.name,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:P.name}),e.jsx("p",{className:"text-sm text-gray-500",children:P.brand}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["R$ ",P.price.toFixed(2)]})]}),e.jsx("div",{className:"text-right",children:e.jsx(Ne,{variant:"outline",children:P.category})})]})},P.id))})})]}),e.jsx(R,{onClick:E,disabled:!t||!r||n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",size:"lg",children:n?e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"h-5 w-5 mr-2 animate-spin"}),"Processando com IA..."]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"h-5 w-5 mr-2"}),"Gerar Try-On Virtual"]})}),c.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Resultados Recentes"}),c.map(P=>e.jsx(X,{children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P.resultImage,alt:"Try-on result",className:"w-full h-64 object-cover rounded-lg"}),e.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[e.jsx(R,{size:"sm",variant:"secondary",onClick:()=>M(P),children:e.jsx(Wr,{className:"h-4 w-4"})}),e.jsx(R,{size:"sm",variant:"secondary",onClick:()=>S(),children:e.jsx(cs,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Confiana"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:[(P.confidence*100).toFixed(0),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tempo"}),e.jsxs("p",{className:"text-lg font-bold",children:[(P.processingTime/1e3).toFixed(1),"s"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Produto"}),e.jsx("p",{className:"text-sm font-medium",children:r==null?void 0:r.name})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Recomendaes"}),e.jsx("div",{className:"space-y-1",children:P.recommendations.map((I,_)=>e.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(le,{className:"h-3 w-3 mr-2 text-purple-500"}),I]},_))})]})]})})},P.id))]})]})]})]})},nw=()=>{const[t,s]=i.useState([]),[r,a]=i.useState(!1),[n,o]=i.useState(""),[c,l]=i.useState("");i.useState(null);const{toast:d}=ge(),u=["Casual","Elegante","Esportivo","Romntico","Vintage","Minimalista"],m=["Trabalho","Encontro","Festa","Viagem","Dia a dia","Especial"],p=async()=>{if(!n||!c){d({title:"Selecione estilo e ocasio",description:"Escolha um estilo e uma ocasio para gerar looks",variant:"destructive"});return}a(!0);try{const x={id:Date.now().toString(),name:`Look ${n} para ${c}`,description:`Perfeito para ${c.toLowerCase()} com estilo ${n.toLowerCase()}`,items:[{id:"1",name:"Blazer Clssico",brand:"Zara",price:299.9,category:"blazer",image_url:"https://via.placeholder.com/300x400/7c3aed/ffffff?text=Blazer",url:"#"},{id:"2",name:"Camisa Bsica",brand:"H&M",price:89.9,category:"camisa",image_url:"https://via.placeholder.com/300x400/7c3aed/ffffff?text=Camisa",url:"#"},{id:"3",name:"Cala Jeans",brand:"Levi's",price:199.9,category:"cala",image_url:"https://via.placeholder.com/300x400/7c3aed/ffffff?text=Cala",url:"#"}],totalPrice:589.7,style:n,occasion:c,confidence:85};s(y=>[x,...y]),d({title:"Look gerado com sucesso!",description:`Criamos um look ${n.toLowerCase()} para ${c.toLowerCase()}`})}catch{d({title:"Erro ao gerar look",description:"Tente novamente em alguns instantes",variant:"destructive"})}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2"}),"Gerador de Looks Inteligente"]})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Estilo"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(x=>e.jsx(R,{variant:n===x?"default":"outline",size:"sm",onClick:()=>o(x),children:x},x))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Ocasio"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(x=>e.jsx(R,{variant:c===x?"default":"outline",size:"sm",onClick:()=>l(x),children:x},x))})]}),e.jsxs(R,{onClick:p,disabled:r||!n||!c,className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800",children:[r?e.jsx(bt,{className:"h-4 w-4 animate-spin mr-2"}):e.jsx(le,{className:"h-4 w-4 mr-2"}),"Gerar Look Personalizado"]})]})]}),t.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Looks Gerados"}),t.map(x=>e.jsxs(X,{children:[e.jsxs(ye,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(je,{className:"text-lg",children:x.name}),e.jsxs(Ne,{variant:"secondary",className:"bg-green-100 text-green-800",children:[x.confidence,"% match"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:x.description})]}),e.jsxs(ee,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:x.items.map(y=>e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:y.image_url,alt:y.name,className:"w-full h-48 object-cover rounded-lg mb-2"}),e.jsx("h5",{className:"font-medium text-sm",children:y.name}),e.jsx("p",{className:"text-xs text-gray-600",children:y.brand}),e.jsxs("p",{className:"text-sm font-semibold text-purple-600",children:["R$ ",y.price.toFixed(2)]})]},y.id))}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total do Look"}),e.jsxs("p",{className:"text-lg font-bold text-purple-600",children:["R$ ",x.totalPrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(R,{variant:"outline",size:"sm",children:[e.jsx(jt,{className:"h-4 w-4 mr-1"}),"Salvar"]}),e.jsxs(R,{size:"sm",children:[e.jsx(Rn,{className:"h-4 w-4 mr-1"}),"Comprar Tudo"]})]})]})]})]},x.id))]})]})},ow=()=>{const[t,s]=i.useState(null),[r,a]=i.useState(null),[n,o]=i.useState(!1),[c,l]=i.useState(""),[d,u]=i.useState([]),[m,p]=i.useState(null),[x,y]=i.useState(!1),{toast:v}=ge(),f=[{id:"1",name:"Look Romntico Rosa",colors:["rosa","nude","dourado"],style:"romantic",occasion:"encontro",image_url:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400"},{id:"2",name:"Look Profissional",colors:["preto","branco","bege"],style:"classic",occasion:"trabalho",image_url:"https://images.unsplash.com/photo-1594633312681-425c7b97ccd1?w=400"},{id:"3",name:"Look Festa Glamour",colors:["preto","dourado","vermelho"],style:"glamorous",occasion:"festa",image_url:"https://images.unsplash.com/photo-1542272604-787c3835535d?w=400"}],h=async j=>{if(!c){v({title:"Foto necessria",description:"Faa upload de uma foto para anlise",variant:"destructive"});return}s(j),o(!0);try{const E=await Pr.analyzePalette(c),A=await g(E,j),M=await b(E,j),S={skinTone:E.skinTone||"medium",undertone:E.undertone||"warm",skinType:E.skinType||"normal",eyeColor:E.eyeColor||"brown",hairColor:E.hairColor||"brown",faceShape:E.faceShape||"oval",recommendations:A,hairstyles:M,confidence:E.confidence||.85};a(S),v({title:"Anlise completa! ",description:`Encontramos ${A.foundation.length+A.lipstick.length} produtos e ${M.length} penteados perfeitos`})}catch(E){console.error("Erro na anlise de beleza:",E),v({title:"Erro na anlise",description:"Tente novamente em alguns instantes",variant:"destructive"})}finally{o(!1)}},g=async(j,E)=>{try{const A=["foundation","lipstick","eyeshadow","blush"],M={foundation:[],lipstick:[],eyeshadow:[],blush:[]};for(const S of A){const I=(await Pr.searchAllSources(`${S} makeup`,{colors:E.colors,skinType:j.skinType,undertone:j.undertone})).slice(0,3).map(_=>({id:_.id,name:_.name,brand:_.brand,category:S,price:_.price,image_url:_.image_url,url:_.url,colors:_.color?[_.color]:E.colors,finish:"natural",coverage:"medium",skinType:[j.skinType]}));M[S]=I}return M}catch(A){return console.error("Erro ao buscar produtos de beleza:",A),{foundation:[],lipstick:[],eyeshadow:[],blush:[]}}},b=async(j,E)=>{try{return[{id:"1",name:"Ondas Suaves",description:"Ondas naturais e romnticas",image_url:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=400",difficulty:"medium",timeRequired:20,hairType:["all"],occasion:["encontro","casual"],tutorial_url:"https://example.com/tutorial1"},{id:"2",name:"Coque Elegante",description:"Coque baixo e sofisticado",image_url:"https://images.unsplash.com/photo-1605497788044-5a32c7078486?w=400",difficulty:"hard",timeRequired:30,hairType:["medium","long"],occasion:["trabalho","formal"],tutorial_url:"https://example.com/tutorial2"},{id:"3",name:"Trana Lateral",description:"Trana lateral descontrada",image_url:"https://images.unsplash.com/photo-1552642084-9a408bbf8826?w=400",difficulty:"easy",timeRequired:15,hairType:["medium","long"],occasion:["casual","encontro"],tutorial_url:"https://example.com/tutorial3"}].filter(M=>M.occasion.includes(E.occasion)||M.occasion.includes("casual"))}catch(A){return console.error("Erro ao buscar penteados:",A),[]}},w=j=>{var M;const E=(M=j.target.files)==null?void 0:M[0];if(!E)return;const A=new FileReader;A.onload=S=>{var I;const P=(I=S.target)==null?void 0:I.result;l(P)},A.readAsDataURL(E)},N=j=>{u(E=>[...E,j]),v({title:"Produto adicionado!",description:`${j.name} foi adicionado ao carrinho`})},T=j=>{u(E=>E.filter(A=>A.id!==j))},C=()=>d.reduce((j,E)=>j+E.price,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Beauty Integration Real "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"IA analisa seu look e sugere maquiagem e penteado perfeitos"})]}),e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(_e,{className:"h-5 w-5 mr-2"}),"Sua Foto"]})}),e.jsx(ee,{children:c?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:c,alt:"Sua foto",className:"w-20 h-20 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:"Foto carregada"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pronta para anlise"})]}),e.jsx(R,{variant:"outline",onClick:()=>l(""),children:"Trocar"})]}):e.jsxs("div",{className:"text-center p-8 border-2 border-dashed border-gray-300 rounded-lg",children:[e.jsx(_e,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Faa upload de uma foto para anlise personalizada"}),e.jsx(R,{asChild:!0,children:e.jsxs("label",{children:[e.jsx(Upload,{className:"h-4 w-4 mr-2"}),"Escolher Foto",e.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"})]})})]})})]}),e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2"}),"Escolha seu Look"]})}),e.jsx(ee,{children:e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:f.map(j=>e.jsx(X,{className:`cursor-pointer transition-all ${(t==null?void 0:t.id)===j.id?"ring-2 ring-pink-500":"hover:shadow-md"}`,onClick:()=>h(j),children:e.jsxs(ee,{className:"p-4 text-center",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden mb-3",children:e.jsx("img",{src:j.image_url,alt:j.name,className:"w-full h-full object-cover"})}),e.jsx("h3",{className:"font-medium mb-2",children:j.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:j.occasion}),e.jsx("div",{className:"flex justify-center space-x-1",children:j.colors.map(E=>e.jsx(Ne,{variant:"secondary",className:"text-xs",children:E},E))})]})},j.id))})})]}),n&&e.jsx(X,{children:e.jsxs(ee,{className:"p-12 text-center",children:[e.jsx(bt,{className:"h-12 w-12 mx-auto animate-spin text-pink-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Analisando seu look..."}),e.jsx("p",{className:"text-gray-500",children:"IA est analisando cores, estilo e criando recomendaes personalizadas"})]})}),r&&t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(Fe,{className:"h-5 w-5 mr-2"}),"Anlise Personalizada"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tom de Pele"}),e.jsx("p",{className:"font-medium",children:r.skinTone})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Subtom"}),e.jsx("p",{className:"font-medium",children:r.undertone})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Tipo de Pele"}),e.jsx("p",{className:"font-medium",children:r.skinType})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Confiana"}),e.jsxs("p",{className:"font-medium text-green-600",children:[(r.confidence*100).toFixed(0),"%"]})]})]})})]}),e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(ml,{className:"h-5 w-5 mr-2"}),"Maquiagem Recomendada"]})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-6",children:Object.entries(r.recommendations).map(([j,E])=>e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 capitalize",children:j}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:E.map(A=>e.jsx(X,{className:"overflow-hidden",children:e.jsxs(ee,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden mb-3",children:e.jsx("img",{src:A.image_url,alt:A.name,className:"w-full h-full object-cover"})}),e.jsx("h5",{className:"font-medium text-sm mb-1",children:A.name}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:A.brand}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",A.price.toFixed(2)]}),e.jsxs(R,{size:"sm",onClick:()=>N(A),children:[e.jsx(jt,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]})]})},A.id))})]},j))})})]}),e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx(oh,{className:"h-5 w-5 mr-2"}),"Penteados Recomendados"]})}),e.jsx(ee,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.hairstyles.map(j=>e.jsx(X,{className:`cursor-pointer transition-all ${(m==null?void 0:m.id)===j.id?"ring-2 ring-pink-500":"hover:shadow-md"}`,onClick:()=>p(j),children:e.jsxs(ee,{className:"p-4",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden mb-3",children:e.jsx("img",{src:j.image_url,alt:j.name,className:"w-full h-full object-cover"})}),e.jsx("h5",{className:"font-medium mb-1",children:j.name}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:j.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Rn,{className:"h-3 w-3 mr-1"}),j.timeRequired,"min"]}),e.jsx(Ne,{variant:"outline",className:"text-xs",children:j.difficulty})]})]})},j.id))})})]}),m&&e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{children:["Como Fazer: ",m.name]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:m.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Tempo:"}),e.jsxs("p",{children:[m.timeRequired," minutos"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Dificuldade:"}),e.jsx("p",{className:"capitalize",children:m.difficulty})]})]}),m.tutorial_url&&e.jsxs(R,{onClick:()=>y(!0),className:"w-full",children:[e.jsx(En,{className:"h-4 w-4 mr-2"}),"Ver Tutorial Completo"]})]})})]}),d.length>0&&e.jsxs(X,{children:[e.jsx(ye,{children:e.jsx(je,{children:"Produtos Selecionados"})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-3",children:[d.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:j.image_url,alt:j.name,className:"w-12 h-12 object-cover rounded"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:j.name}),e.jsx("p",{className:"text-sm text-gray-500",children:j.brand})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"font-bold",children:["R$ ",j.price.toFixed(2)]}),e.jsx(R,{size:"sm",variant:"destructive",onClick:()=>T(j.id),children:"Remover"})]})]},j.id)),e.jsxs("div",{className:"border-t pt-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-lg",children:"Total:"}),e.jsxs("span",{className:"font-bold text-lg text-green-600",children:["R$ ",C().toFixed(2)]})]}),e.jsxs(R,{className:"w-full mt-3 bg-pink-500 hover:bg-pink-600",children:[e.jsx(ShoppingCart,{className:"h-4 w-4 mr-2"}),"Comprar Produtos Selecionados"]})]})]})})]})]})]})},iw=()=>{const[t,s]=i.useState([]),[r,a]=i.useState(null),[n,o]=i.useState(""),[c,l]=i.useState([]),[d,u]=i.useState(!1),[m,p]=i.useState("grid"),[x,y]=i.useState("all"),[v,f]=i.useState(!1),[h,g]=i.useState({name:"",description:"",theme:"",isPublic:!1}),{toast:b}=ge();i.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:k,error:$}=await supabase.from("mood_boards").select("*").order("created_at",{ascending:!1});if($)throw $;const O=(k||[]).map(z=>({id:z.id,name:z.name,description:z.description,items:z.items||[],theme:z.theme,colorPalette:z.color_palette||[],createdAt:new Date(z.created_at),isPublic:z.is_public}));s(O),O.length>0&&!r&&a(O[0])}catch(k){console.error("Erro ao carregar mood boards:",k),b({title:"Erro ao carregar mood boards",description:"Tente novamente em alguns instantes",variant:"destructive"})}},N=async()=>{if(!h.name.trim()){b({title:"Nome obrigatrio",description:"Digite um nome para o mood board",variant:"destructive"});return}try{const{data:k,error:$}=await supabase.from("mood_boards").insert({name:h.name,description:h.description,theme:h.theme,is_public:h.isPublic,items:[],color_palette:[]}).select().single();if($)throw $;const O={id:k.id,name:k.name,description:k.description,items:[],theme:k.theme,colorPalette:[],createdAt:new Date(k.created_at),isPublic:k.is_public};s(z=>[O,...z]),a(O),f(!1),g({name:"",description:"",theme:"",isPublic:!1}),b({title:"Mood board criado!",description:`${O.name} foi criado com sucesso`})}catch(k){console.error("Erro ao criar mood board:",k),b({title:"Erro ao criar mood board",description:"Tente novamente em alguns instantes",variant:"destructive"})}},T=async()=>{if(n.trim()){u(!0);try{const k=[],$=await C(n);k.push(...$);const O=await j(n);k.push(...O);const z=await E(n);k.push(...z),l(k),b({title:`${k.length} itens encontrados!`,description:"Adicione os que voc gostar ao seu mood board"})}catch(k){console.error("Erro na busca:",k),b({title:"Erro na busca",description:"Tente novamente em alguns instantes",variant:"destructive"})}finally{u(!1)}}},C=async k=>{try{const $=await fetch(`https://api.pinterest.com/v3/search/pins/?query=${encodeURIComponent(k)}&access_token=YOUR_PINTEREST_TOKEN`);return[{id:"pinterest_1",title:`Inspirao ${k}`,description:"Look inspirador do Pinterest",image_url:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400",source_url:"https://pinterest.com",source:"pinterest",category:"outfit",tags:[k,"inspiration","style"],addedAt:new Date,liked:!1}]}catch($){return console.error("Erro ao buscar no Pinterest:",$),[]}},j=async k=>{var $;try{const O=await fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(k)}&client_id=YOUR_UNSPLASH_CLIENT_ID`);if(!O.ok)throw new Error("Unsplash API error");return(($=(await O.json()).results)==null?void 0:$.slice(0,5).map(J=>{var H;return{id:`unsplash_${J.id}`,title:J.alt_description||"Foto inspiradora",description:J.description||"Imagem do Unsplash",image_url:J.urls.regular,source_url:J.links.html,source:"unsplash",category:"inspiration",tags:((H=J.tags)==null?void 0:H.map(B=>B.title))||[],addedAt:new Date,liked:!1}}))||[]}catch(O){return console.error("Erro ao buscar no Unsplash:",O),[]}},E=async k=>{try{return(await Pr.searchAllSources(k,{limit:5})).map(O=>({id:`product_${O.id}`,title:O.name,description:O.description,image_url:O.image_url,source_url:O.url,source:"user",category:"outfit",tags:[O.category,O.brand],price:O.price,brand:O.brand,addedAt:new Date,liked:!1}))}catch($){return console.error("Erro ao buscar produtos:",$),[]}},A=async k=>{if(!r){b({title:"Selecione um mood board",description:"Escolha um board para adicionar o item",variant:"destructive"});return}try{const $={...r,items:[...r.items,k]},{error:O}=await supabase.from("mood_boards").update({items:$.items}).eq("id",r.id);if(O)throw O;a($),s(z=>z.map(J=>J.id===r.id?$:J)),b({title:"Item adicionado!",description:`${k.title} foi adicionado ao mood board`})}catch($){console.error("Erro ao adicionar item:",$),b({title:"Erro ao adicionar item",description:"Tente novamente em alguns instantes",variant:"destructive"})}},M=async k=>{if(r)try{const $=r.items.filter(J=>J.id!==k),O={...r,items:$},{error:z}=await supabase.from("mood_boards").update({items:$}).eq("id",r.id);if(z)throw z;a(O),s(J=>J.map(H=>H.id===r.id?O:H)),b({title:"Item removido",description:"Item removido do mood board"})}catch($){console.error("Erro ao remover item:",$),b({title:"Erro ao remover item",description:"Tente novamente em alguns instantes",variant:"destructive"})}},S=async k=>{if(!r)return;const $=r.items.map(z=>z.id===k?{...z,liked:!z.liked}:z),O={...r,items:$};try{const{error:z}=await supabase.from("mood_boards").update({items:$}).eq("id",r.id);if(z)throw z;a(O),s(J=>J.map(H=>H.id===r.id?O:H))}catch(z){console.error("Erro ao atualizar like:",z)}},P=async()=>{if(r)try{b({title:"Download iniciado",description:"Seu mood board est sendo preparado"})}catch(k){console.error("Erro no download:",k),b({title:"Erro no download",description:"Tente novamente em alguns instantes",variant:"destructive"})}},I=async()=>{if(r)try{navigator.share?await navigator.share({title:r.name,text:r.description,url:`${window.location.origin}/moodboard/${r.id}`}):(await navigator.clipboard.writeText(`${window.location.origin}/moodboard/${r.id}`),b({title:"Link copiado!",description:"Cole o link para compartilhar"}))}catch(k){console.error("Erro ao compartilhar:",k)}},_=(r==null?void 0:r.items.filter(k=>x==="all"||k.category===x))||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:"Mood Board Real "}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Crie mood boards inspiradores com IA e integrao real"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Meus Mood Boards"}),e.jsx(R,{size:"sm",onClick:()=>f(!0),children:e.jsx(jr,{className:"h-4 w-4"})})]})}),e.jsx(ee,{children:e.jsx("div",{className:"space-y-2",children:t.map(k=>e.jsxs("div",{className:`p-3 rounded-lg cursor-pointer transition-all ${(r==null?void 0:r.id)===k.id?"bg-purple-100 border-purple-300":"hover:bg-gray-50"}`,onClick:()=>a(k),children:[e.jsx("h4",{className:"font-medium",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500",children:k.description}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:[k.items.length," itens"]}),k.isPublic&&e.jsx(Ne,{variant:"outline",className:"text-xs",children:"Pblico"})]})]},k.id))})})]}),v&&e.jsxs(X,{children:[e.jsx(ye,{children:e.jsx(je,{children:"Criar Novo Mood Board"})}),e.jsxs(ee,{className:"space-y-4",children:[e.jsx(pe,{placeholder:"Nome do mood board",value:h.name,onChange:k=>g($=>({...$,name:k.target.value}))}),e.jsx(pe,{placeholder:"Descrio (opcional)",value:h.description,onChange:k=>g($=>({...$,description:k.target.value}))}),e.jsx(pe,{placeholder:"Tema (ex: vero, trabalho, festa)",value:h.theme,onChange:k=>g($=>({...$,theme:k.target.value}))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isPublic",checked:h.isPublic,onChange:k=>g($=>({...$,isPublic:k.target.checked}))}),e.jsx("label",{htmlFor:"isPublic",className:"text-sm",children:"Tornar pblico"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(R,{onClick:N,className:"flex-1",children:"Criar"}),e.jsx(R,{variant:"outline",onClick:()=>f(!1),className:"flex-1",children:"Cancelar"})]})]})]})]}),e.jsx("div",{className:"lg:col-span-2 space-y-4",children:r?e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsx(ye,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(je,{children:r.name}),e.jsx("p",{className:"text-sm text-gray-500",children:r.description})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(R,{variant:"outline",onClick:P,children:e.jsx(Wr,{className:"h-4 w-4"})}),e.jsx(R,{variant:"outline",onClick:I,children:e.jsx(cs,{className:"h-4 w-4"})})]})]})})}),e.jsx(X,{children:e.jsx(ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(R,{variant:m==="grid"?"default":"outline",size:"sm",onClick:()=>p("grid"),children:e.jsx(Kf,{className:"h-4 w-4"})}),e.jsx(R,{variant:m==="list"?"default":"outline",size:"sm",onClick:()=>p("list"),children:e.jsx(Jf,{className:"h-4 w-4"})})]}),e.jsxs("select",{value:x,onChange:k=>y(k.target.value),className:"p-2 border rounded-md text-sm",children:[e.jsx("option",{value:"all",children:"Todas as categorias"}),e.jsx("option",{value:"outfit",children:"Roupas"}),e.jsx("option",{value:"makeup",children:"Maquiagem"}),e.jsx("option",{value:"hairstyle",children:"Penteado"}),e.jsx("option",{value:"accessory",children:"Acessrios"}),e.jsx("option",{value:"inspiration",children:"Inspirao"})]})]})})}),_.length>0?e.jsx("div",{className:m==="grid"?"grid grid-cols-2 md:grid-cols-3 gap-4":"space-y-4",children:_.map(k=>e.jsx(X,{className:"overflow-hidden",children:e.jsxs(ee,{className:"p-0",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:k.image_url,alt:k.title,className:"w-full h-48 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(R,{size:"sm",variant:"secondary",onClick:()=>S(k.id),children:e.jsx(jt,{className:`h-4 w-4 ${k.liked?"fill-current text-red-500":""}`})}),e.jsx(R,{size:"sm",variant:"secondary",onClick:()=>M(k.id),children:e.jsx(_t,{className:"h-4 w-4"})})]})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"font-medium text-sm mb-1",children:k.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:k.description}),k.price&&e.jsxs("p",{className:"text-sm font-bold text-green-600",children:["R$ ",k.price.toFixed(2)]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:k.tags.slice(0,3).map($=>e.jsx(Ne,{variant:"outline",className:"text-xs",children:$},$))})]})]})},k.id))}):e.jsx(X,{children:e.jsxs(ee,{className:"p-12 text-center",children:[e.jsx(le,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Seu mood board est vazio"}),e.jsx("p",{className:"text-gray-500",children:"Busque inspiraes e adicione itens ao seu board"})]})})]}):e.jsx(X,{children:e.jsxs(ee,{className:"p-12 text-center",children:[e.jsx(Fe,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Selecione um mood board"}),e.jsx("p",{className:"text-gray-500",children:"Escolha um board existente ou crie um novo"})]})})})]}),e.jsxs(X,{children:[e.jsx(ye,{children:e.jsxs(je,{className:"flex items-center",children:[e.jsx($e,{className:"h-5 w-5 mr-2"}),"Buscar Inspirao"]})}),e.jsx(ee,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(pe,{placeholder:"Ex: vestido floral, maquiagem natural, penteado romntico...",value:n,onChange:k=>o(k.target.value),onKeyPress:k=>k.key==="Enter"&&T(),className:"flex-1"}),e.jsx(R,{onClick:T,disabled:d,children:d?e.jsx(bt,{className:"h-4 w-4 animate-spin"}):e.jsx($e,{className:"h-4 w-4"})})]}),c.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Resultados da Busca:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:c.map(k=>e.jsx(X,{className:"overflow-hidden",children:e.jsxs(ee,{className:"p-0",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:k.image_url,alt:k.title,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(R,{size:"sm",onClick:()=>A(k),children:e.jsx(jr,{className:"h-4 w-4"})})})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"text-xs font-medium line-clamp-2",children:k.title}),e.jsx("p",{className:"text-xs text-gray-500",children:k.source})]})]})},k.id))})]})]})})]})]})},It=class It{constructor(){Ge(this,"isSeeding",!1)}static getInstance(){return It.instance||(It.instance=new It),It.instance}async seedAllData(){if(this.isSeeding){console.log("Seeding j em andamento...");return}this.isSeeding=!0,console.log(" Iniciando seed de dados reais...");try{await this.seedProducts(),await this.seedUsers(),await this.seedWishlists(),await this.seedMoodBoards(),await this.seedUsageData(),console.log(" Seed de dados reais concludo com sucesso!")}catch(s){throw console.error(" Erro durante o seed:",s),s}finally{this.isSeeding=!1}}async seedProducts(){console.log(" Populando produtos...");const s=["vestidos","blusas","calas","sapatos","bolsas","jaquetas","saias","shorts","camisetas","camisas"],r=["Zara","H&M","Renner","C&A","Riachuelo","Marisa","Arezzo","Netshoes","Dafiti","Mercado Livre"],a=["preto","branco","azul","rosa","vermelho","verde","amarelo","roxo","laranja","bege","marrom","cinza"],n=["PP","P","M","G","GG","XG"],o=[];for(let l=0;l<500;l++){const d=s[Math.floor(Math.random()*s.length)],u=r[Math.floor(Math.random()*r.length)],m=a[Math.floor(Math.random()*a.length)],p=n[Math.floor(Math.random()*n.length)],x=Math.random()*200+50,y=Math.random()>.7,v=y?x*1.3:void 0,f=x,h={id:`product_${l+1}`,name:this.generateProductName(d,u),description:this.generateProductDescription(d,u),price:Math.round(f*100)/100,original_price:v?Math.round(v*100)/100:void 0,brand:u,image_url:this.generateProductImage(d,m),url:`https://example.com/product/${l+1}`,category:d,color:m,size:p,in_stock:Math.random()>.1,on_sale:y,rating:Math.random()*2+3,reviews_count:Math.floor(Math.random()*100),source:this.getRandomSource(),source_id:`source_${l+1}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};o.push(h)}const c=50;for(let l=0;l<o.length;l+=c){const d=o.slice(l,l+c),{error:u}=await ie.from("products").upsert(d,{onConflict:"id"});if(u)throw console.error("Erro ao inserir lote de produtos:",u),u;console.log(` Inseridos ${Math.min(l+c,o.length)} produtos...`)}console.log(` ${o.length} produtos inseridos com sucesso!`)}async seedUsers(){console.log(" Populando usurios...");const s=[{id:"user_1",email:"maria.silva@email.com",name:"Maria Silva",avatar_url:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=150",created_at:new Date().toISOString(),subscription_plan:"premium",searches_used:15,searches_limit:-1},{id:"user_2",email:"ana.santos@email.com",name:"Ana Santos",avatar_url:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150",created_at:new Date().toISOString(),subscription_plan:"free",searches_used:3,searches_limit:5},{id:"user_3",email:"julia.oliveira@email.com",name:"Jlia Oliveira",avatar_url:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150",created_at:new Date().toISOString(),subscription_plan:"premium_yearly",searches_used:45,searches_limit:-1}],{error:r}=await ie.from("users").upsert(s,{onConflict:"id"});if(r)throw console.error("Erro ao inserir usurios:",r),r;console.log(` ${s.length} usurios inseridos com sucesso!`)}async seedWishlists(){console.log(" Populando wishlists...");const s=[{id:"wishlist_1",user_id:"user_1",name:"Look de Vero",description:"Roupas leves e coloridas para o vero",theme:"vero",is_public:!0,items:[{id:"item_1",name:"Vestido Floral Midi",brand:"Zara",price:159.9,image_url:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400",url:"https://example.com/product/1",priority:"high",favorite_type:"quero_comprar",notes:"Perfeito para festas de vero"}],color_palette:["#FF6B6B","#4ECDC4","#45B7D1"],created_at:new Date().toISOString()},{id:"wishlist_2",user_id:"user_2",name:"Trabalho",description:"Roupas profissionais para o escritrio",theme:"trabalho",is_public:!1,items:[],color_palette:["#2C3E50","#34495E","#7F8C8D"],created_at:new Date().toISOString()}],{error:r}=await ie.from("wishlists").upsert(s,{onConflict:"id"});if(r)throw console.error("Erro ao inserir wishlists:",r),r;console.log(` ${s.length} wishlists inseridas com sucesso!`)}async seedMoodBoards(){console.log(" Populando mood boards...");const s=[{id:"moodboard_1",user_id:"user_1",name:"Estilo Romntico",description:"Inspiraes para looks romnticos e femininos",theme:"romntico",is_public:!0,items:[{id:"inspiration_1",title:"Vestido Rosa Romntico",description:"Vestido floral em tons de rosa",image_url:"https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=400",source_url:"https://pinterest.com",source:"pinterest",category:"outfit",tags:["romntico","floral","rosa"]}],color_palette:["#FFB6C1","#FFC0CB","#FF69B4"],created_at:new Date().toISOString()}],{error:r}=await ie.from("mood_boards").upsert(s,{onConflict:"id"});if(r)throw console.error("Erro ao inserir mood boards:",r),r;console.log(` ${s.length} mood boards inseridos com sucesso!`)}async seedUsageData(){console.log(" Populando dados de uso...");const s=[{user_id:"user_1",searches_used:15,searches_limit:-1,photos_saved:8,palettes_created:3,wishlists_created:2,mood_boards_created:1,last_search_date:new Date().toISOString()},{user_id:"user_2",searches_used:3,searches_limit:5,photos_saved:2,palettes_created:1,wishlists_created:1,mood_boards_created:0,last_search_date:new Date().toISOString()}],{error:r}=await ie.from("user_usage").upsert(s,{onConflict:"user_id"});if(r)throw console.error("Erro ao inserir dados de uso:",r),r;console.log(" Dados de uso inseridos com sucesso!")}generateProductName(s,r){const a=["Elegante","Moderno","Clssico","Feminino","Romntico","Profissional"],n=["Algodo","Seda","Jeans","Malha","Tecido"],o=["Bsico","Estampado","Liso","Floral","Geomtrico"],c=a[Math.floor(Math.random()*a.length)],l=n[Math.floor(Math.random()*n.length)],d=o[Math.floor(Math.random()*o.length)];return`${c} ${s} ${l} ${d} - ${r}`}generateProductDescription(s,r){const a=[`Perfeito para ocasies especiais, este ${s} da ${r} combina conforto e estilo.`,`Ideal para o dia a dia, este ${s} oferece versatilidade e elegncia.`,`Um ${s} atemporal que nunca sai de moda, da renomada marca ${r}.`,`Confortvel e estiloso, este ${s}  perfeito para qualquer ocasio.`];return a[Math.floor(Math.random()*a.length)]}generateProductImage(s,r){const a="https://images.unsplash.com/photo-",n={vestidos:"1515372039744-b8f02a3ae446",blusas:"1594633312681-425c7b97ccd1",calas:"1542272604-787c3835535d",sapatos:"1549298916-b41d0d1c2360",bolsas:"1553062407-98eeb64c6a62",jaquetas:"1551028719-00167b16eac5"},o=n[s]||n.vestidos;return`${a}${o}?w=400&fit=crop&crop=center`}getRandomSource(){const s=["mercadolivre","dafiti","netshoes","zara","hm"];return s[Math.floor(Math.random()*s.length)]}async clearTestData(){console.log(" Limpando dados de teste...");try{await ie.from("products").delete().neq("id",""),await ie.from("wishlists").delete().neq("id",""),await ie.from("mood_boards").delete().neq("id",""),await ie.from("user_usage").delete().neq("user_id",""),console.log(" Dados de teste removidos com sucesso!")}catch(s){throw console.error(" Erro ao limpar dados:",s),s}}async checkDatabaseStatus(){try{const{count:s}=await ie.from("products").select("*",{count:"exact",head:!0}),{count:r}=await ie.from("users").select("*",{count:"exact",head:!0}),{count:a}=await ie.from("wishlists").select("*",{count:"exact",head:!0});return console.log(" Status do Banco de Dados:"),console.log(`   Produtos: ${s}`),console.log(`   Usurios: ${r}`),console.log(`   Wishlists: ${a}`),{productsCount:s,usersCount:r,wishlistsCount:a}}catch(s){throw console.error(" Erro ao verificar status:",s),s}}};Ge(It,"instance");let gn=It;const di=gn.getInstance();function lw(){const{user:t,loading:s}=Rl();In();const r=sx(),[a,n]=i.useState(!1);return i.useEffect(()=>{s||(async()=>{try{(await di.checkDatabaseStatus()).productsCount===0&&(console.log(" Populando banco com dados reais..."),await di.seedAllData()),n(!0)}catch(c){console.error("Erro ao popular dados:",c),n(!0)}})()},[s]),s||!a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Carregando Pozzy..."})]})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(Ux,{user:t,searchesLeft:10,isPremium:!1,onLogout:()=>{},onUpgrade:()=>{},userId:(t==null?void 0:t.uid)||"",onAuthClick:()=>{}}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs(lf,{children:[e.jsx(st,{path:"/",element:e.jsx(ci,{})}),e.jsx(st,{path:"/discover",element:e.jsx(ci,{})}),e.jsx(st,{path:"/wishlist",element:e.jsx(rw,{})}),e.jsx(st,{path:"/try-on",element:e.jsx(aw,{})}),e.jsx(st,{path:"/outfit-generator",element:e.jsx(nw,{})}),e.jsx(st,{path:"/beauty",element:e.jsx(ow,{})}),e.jsx(st,{path:"/moodboard",element:e.jsx(iw,{})}),e.jsx(st,{path:"/consultoria",element:e.jsx(Fm,{isFirstTime:!1,colorPalette:null,userPhotos:[],selectedProduct:null,onStepChange:()=>{},onCompleteSetup:()=>{},activeStep:"evento"})}),e.jsx(st,{path:"*",element:e.jsx(Jj,{})})]})}),e.jsx(Il,{}),e.jsx(qh,{}),e.jsx(Oc,{isInstallable:r.isInstallable,triggerInstallPrompt:r.triggerInstallPrompt,hasBeenRejected:r.hasBeenRejected,forceShow:r.forceShow})]})}function cw(){return e.jsx(uf,{children:e.jsx(Yh,{children:e.jsx(tx,{children:e.jsx(Xh,{children:e.jsx(lw,{})})})})})}_i(document.getElementById("root")).render(e.jsx(cw,{}));
